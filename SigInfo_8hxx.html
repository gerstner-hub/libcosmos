<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libcosmos: include/proc/SigInfo.hxx File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">libcosmos
   </div>
   <div id="projectbrief">Linux C++ System Programming Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('SigInfo_8hxx.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a>  </div>
  <div class="headertitle"><div class="title">SigInfo.hxx File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;optional&gt;</code><br />
<code>#include &lt;cosmos/error/errno.hxx&gt;</code><br />
<code>#include &lt;cosmos/fs/types.hxx&gt;</code><br />
<code>#include &lt;cosmos/io/types.hxx&gt;</code><br />
<code>#include &lt;cosmos/memory.hxx&gt;</code><br />
<code>#include &lt;cosmos/proc/ptrace.hxx&gt;</code><br />
<code>#include &lt;cosmos/proc/signal.hxx&gt;</code><br />
<code>#include &lt;cosmos/proc/types.hxx&gt;</code><br />
<code>#include &lt;cosmos/time/types.hxx&gt;</code><br />
<code>#include &lt;cosmos/utils.hxx&gt;</code><br />
</div>
<p><a href="SigInfo_8hxx_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcosmos_1_1SigInfo.html">cosmos::SigInfo</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classcosmos_1_1Signal.html" title="Represents a POSIX signal number and offers a minimal API around it.">Signal</a> information struct used when receiving signals.  <a href="classcosmos_1_1SigInfo.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcosmos_1_1SigInfo_1_1ProcessCtx.html">cosmos::SigInfo::ProcessCtx</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Information about the process a signal is from or about.  <a href="structcosmos_1_1SigInfo_1_1ProcessCtx.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcosmos_1_1SigInfo_1_1CustomData.html">cosmos::SigInfo::CustomData</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Additional custom <a class="el" href="classcosmos_1_1SigInfo.html" title="Signal information struct used when receiving signals.">SigInfo</a> data.  <a href="structcosmos_1_1SigInfo_1_1CustomData.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcosmos_1_1SigInfo_1_1UserSigData.html">cosmos::SigInfo::UserSigData</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Additional data found in <a class="el" href="classcosmos_1_1SigInfo.html" title="Signal information struct used when receiving signals.">SigInfo</a> with <a class="el" href="classcosmos_1_1SigInfo.html#a46d944d3f4c9a8f315ca87ceb62667bea2e40ad879e955201df4dedbf8d479a12" title="sent via kill().">Source::USER</a>.  <a href="structcosmos_1_1SigInfo_1_1UserSigData.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcosmos_1_1SigInfo_1_1QueueSigData.html">cosmos::SigInfo::QueueSigData</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Additional data found in <a class="el" href="classcosmos_1_1SigInfo.html" title="Signal information struct used when receiving signals.">SigInfo</a> with <a class="el" href="classcosmos_1_1SigInfo.html#a46d944d3f4c9a8f315ca87ceb62667beaeb61e33fd1a024b969c6266ece86cd0a" title="sent from user space via sigqueue().">Source::QUEUE</a>.  <a href="structcosmos_1_1SigInfo_1_1QueueSigData.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcosmos_1_1SigInfo_1_1MsgQueueData.html">cosmos::SigInfo::MsgQueueData</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Additional data found in <a class="el" href="classcosmos_1_1SigInfo.html" title="Signal information struct used when receiving signals.">SigInfo</a> with <a class="el" href="classcosmos_1_1SigInfo.html#a46d944d3f4c9a8f315ca87ceb62667bea7bac30dc62752698bb68b3a648a5eb13" title="POSIX message queue state changed.">Source::MESGQ</a>.  <a href="structcosmos_1_1SigInfo_1_1MsgQueueData.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcosmos_1_1SigInfo_1_1TimerData.html">cosmos::SigInfo::TimerData</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Additional data found in <a class="el" href="classcosmos_1_1SigInfo.html" title="Signal information struct used when receiving signals.">SigInfo</a> with <a class="el" href="classcosmos_1_1SigInfo.html#a46d944d3f4c9a8f315ca87ceb62667beab127d163c55a6603f3a37ce3a642c36d" title="POSIX timer expired.">Source::TIMER</a>.  <a href="structcosmos_1_1SigInfo_1_1TimerData.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcosmos_1_1SigInfo_1_1FaultData.html">cosmos::SigInfo::FaultData</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Additional data found in <a class="el" href="classcosmos_1_1SigInfo.html" title="Signal information struct used when receiving signals.">SigInfo</a> for one of the memory fault / trap signals.  <a href="structcosmos_1_1SigInfo_1_1FaultData.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcosmos_1_1SigInfo_1_1IllData.html">cosmos::SigInfo::IllData</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Additional data delivered with SIGILL signals.  <a href="structcosmos_1_1SigInfo_1_1IllData.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcosmos_1_1SigInfo_1_1FPEData.html">cosmos::SigInfo::FPEData</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extra data delivered with SIGFPE signals.  <a href="structcosmos_1_1SigInfo_1_1FPEData.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcosmos_1_1SigInfo_1_1SegfaultData.html">cosmos::SigInfo::SegfaultData</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Additional data delivered with SIGSEGV signals.  <a href="structcosmos_1_1SigInfo_1_1SegfaultData.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcosmos_1_1SigInfo_1_1SegfaultData_1_1Bound.html">cosmos::SigInfo::SegfaultData::Bound</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcosmos_1_1SigInfo_1_1BusData.html">cosmos::SigInfo::BusData</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Additional data delivered with SIGBUS signals.  <a href="structcosmos_1_1SigInfo_1_1BusData.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcosmos_1_1SigInfo_1_1ChildData.html">cosmos::SigInfo::ChildData</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Additional data found in <a class="el" href="classcosmos_1_1SigInfo.html" title="Signal information struct used when receiving signals.">SigInfo</a> with SIGCHILD.  <a href="structcosmos_1_1SigInfo_1_1ChildData.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcosmos_1_1SigInfo_1_1SysData.html">cosmos::SigInfo::SysData</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Additional data found in <a class="el" href="classcosmos_1_1SigInfo.html" title="Signal information struct used when receiving signals.">SigInfo</a> delivered with SIGSYS.  <a href="structcosmos_1_1SigInfo_1_1SysData.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcosmos_1_1SigInfo_1_1PollData.html">cosmos::SigInfo::PollData</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Additional data found in <a class="el" href="classcosmos_1_1SigInfo.html" title="Signal information struct used when receiving signals.">SigInfo</a> with SIGPOLL.  <a href="structcosmos_1_1SigInfo_1_1PollData.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ae21aad5ca70293ed42d1b7251225ac71" id="r_ae21aad5ca70293ed42d1b7251225ac71"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae21aad5ca70293ed42d1b7251225ac71">SYS_SECCOMP</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:ae21aad5ca70293ed42d1b7251225ac71"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Wrapper around the siginfo_t type.</p>
<p>Providing a type safe, clear and efficient API for siginfo_t is a difficult task. The struct is big (~150 bytes), contains some union fields, many fields are only valid in specific contexts and some fields have conflicting meanings depending on context.</p>
<p>The structure is typically only filled in by the kernel or glibc, not by applications. It is possible to use it in custom ways via the low level system call <code>rt_sigqueueinfo()</code>, though. The latter is also problematic in terms of trusting the siginfo_t data received from the kernel. If the signal source is another userspace process then the structure could contain rather arbitrary data, breaking the interface contract as documented in the sigaction(2) man page.</p>
<p>The libcosmos API focuses on interpreting data from siginfo_t received from the kernel and conforming to the API contract. For special use cases applications can access the raw data structure.</p>
<p>Depending on the signal number and signal source different interfaces need to be provided to siginfo_t. We wouldn't want to copy the full ~150 bytes all the time just for accessing the data using the proper types. This can be addressed by either always keeping siginfo_t on the heap and using a shared_ptr to manage the lifetime of all representations of the data. This limits the way in which siginfo_t related APIs can be used, though. Application might not want to involve the heap for this. An alternative is to provide types that only carry the relevant data, not the full siginfo_t anymore. This way not the fully blown data structure needs to be copied and the overhead remains low, since most signal contexts only use a few fields from siginfo_t. This is what libcosmos currently does.</p>
<p>For getting a better idea of the union structure you can have a look at the <code>union __sifields</code> in the system headers. </p>

<p class="definition">Definition in file <a class="el" href="SigInfo_8hxx_source.html">SigInfo.hxx</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ae21aad5ca70293ed42d1b7251225ac71" name="ae21aad5ca70293ed42d1b7251225ac71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae21aad5ca70293ed42d1b7251225ac71">&#9670;&#160;</a></span>SYS_SECCOMP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SYS_SECCOMP&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SigInfo_8hxx_source.html#l00025">25</a> of file <a class="el" href="SigInfo_8hxx_source.html">SigInfo.hxx</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_30ecb8352961dc4a9e0e79283421d739.html">proc</a></li><li class="navelem"><a class="el" href="SigInfo_8hxx.html">SigInfo.hxx</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
