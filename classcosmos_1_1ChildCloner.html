<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libcosmos: cosmos::ChildCloner Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">libcosmos
   </div>
   <div id="projectbrief">Linux C++ System Programming Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('classcosmos_1_1ChildCloner.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classcosmos_1_1ChildCloner-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">cosmos::ChildCloner Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Sub process creation facility.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="ChildCloner_8hxx_source.html">ChildCloner.hxx</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a66c9b25e2f7d1f53b75c80c11c721d7a" id="r_a66c9b25e2f7d1f53b75c80c11c721d7a"><td class="memItemLeft" align="right" valign="top">typedef std::function&lt; void(const <a class="el" href="classcosmos_1_1ChildCloner.html">ChildCloner</a> &amp;)&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a66c9b25e2f7d1f53b75c80c11c721d7a">Callback</a></td></tr>
<tr class="memdesc:a66c9b25e2f7d1f53b75c80c11c721d7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">callback function type used in <a class="el" href="#a735a0fc4c3e5502d40753f52281b75df" title="Sets a callback function to be invoked in the child process context.">setPostForkCB()</a>.  <br /></td></tr>
<tr class="separator:a66c9b25e2f7d1f53b75c80c11c721d7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a4e7573c8f42b0dcf2d57c9cf2f2e2933" id="r_a4e7573c8f42b0dcf2d57c9cf2f2e2933"><td class="memItemLeft" align="right" valign="top"><a id="a4e7573c8f42b0dcf2d57c9cf2f2e2933" name="a4e7573c8f42b0dcf2d57c9cf2f2e2933"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ChildCloner</b> ()=default</td></tr>
<tr class="memdesc:a4e7573c8f42b0dcf2d57c9cf2f2e2933"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates an instance with default settings. <br /></td></tr>
<tr class="separator:a4e7573c8f42b0dcf2d57c9cf2f2e2933"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c906517648224c7438c70a73f314dc8" id="r_a3c906517648224c7438c70a73f314dc8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3c906517648224c7438c70a73f314dc8">ChildCloner</a> (const <a class="el" href="string_8hxx.html#abbbd4359f4973e6b53e7b323560a3955">StringViewVector</a> args)</td></tr>
<tr class="memdesc:a3c906517648224c7438c70a73f314dc8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates an instance configured with the provided arguments.  <br /></td></tr>
<tr class="separator:a3c906517648224c7438c70a73f314dc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff554b5caca6d301de02330ecce93303" id="r_aff554b5caca6d301de02330ecce93303"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aff554b5caca6d301de02330ecce93303">hasExe</a> () const</td></tr>
<tr class="memdesc:aff554b5caca6d301de02330ecce93303"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether currently an executable is set.  <br /></td></tr>
<tr class="separator:aff554b5caca6d301de02330ecce93303"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee4f33aab2cb8d51da7f180c7b758526" id="r_aee4f33aab2cb8d51da7f180c7b758526"><td class="memItemLeft" align="right" valign="top">auto &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aee4f33aab2cb8d51da7f180c7b758526">getExe</a> ()</td></tr>
<tr class="memdesc:aee4f33aab2cb8d51da7f180c7b758526"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the currently set executable name.  <br /></td></tr>
<tr class="separator:aee4f33aab2cb8d51da7f180c7b758526"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13cb41489ee6ef84c9397b880f4cc968" id="r_a13cb41489ee6ef84c9397b880f4cc968"><td class="memItemLeft" align="right" valign="top">const auto &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a13cb41489ee6ef84c9397b880f4cc968">getExe</a> () const</td></tr>
<tr class="separator:a13cb41489ee6ef84c9397b880f4cc968"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34a008d9d18a20f7f8db58e452fee2a3" id="r_a34a008d9d18a20f7f8db58e452fee2a3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a34a008d9d18a20f7f8db58e452fee2a3">setExe</a> (const std::string_view exe)</td></tr>
<tr class="memdesc:a34a008d9d18a20f7f8db58e452fee2a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the path to the executable and argv0.  <br /></td></tr>
<tr class="separator:a34a008d9d18a20f7f8db58e452fee2a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaef6e7d41be5f1c8deb4967683049ddf" id="r_aaef6e7d41be5f1c8deb4967683049ddf"><td class="memItemLeft" align="right" valign="top">const auto &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaef6e7d41be5f1c8deb4967683049ddf">getArgs</a> () const</td></tr>
<tr class="memdesc:aaef6e7d41be5f1c8deb4967683049ddf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the currently configured argument vector.  <br /></td></tr>
<tr class="separator:aaef6e7d41be5f1c8deb4967683049ddf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c0e8403ea1a4523ff59e25bbc6cc662" id="r_a7c0e8403ea1a4523ff59e25bbc6cc662"><td class="memItemLeft" align="right" valign="top"><a class="el" href="string_8hxx.html#a223f8d21861458782531ac6e8d1db210">StringVector</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7c0e8403ea1a4523ff59e25bbc6cc662">getArgs</a> ()</td></tr>
<tr class="separator:a7c0e8403ea1a4523ff59e25bbc6cc662"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d8725b0d8d1f8a39ea16792289adb41" id="r_a1d8725b0d8d1f8a39ea16792289adb41"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1d8725b0d8d1f8a39ea16792289adb41">setArgs</a> (const <a class="el" href="string_8hxx.html#a223f8d21861458782531ac6e8d1db210">StringVector</a> &amp;sv)</td></tr>
<tr class="memdesc:a1d8725b0d8d1f8a39ea16792289adb41"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the argument vector to be used including argv0.  <br /></td></tr>
<tr class="separator:a1d8725b0d8d1f8a39ea16792289adb41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad33eacc0728acfa45dd4757bb467be93" id="r_ad33eacc0728acfa45dd4757bb467be93"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad33eacc0728acfa45dd4757bb467be93">setArgsFromView</a> (const <a class="el" href="string_8hxx.html#abbbd4359f4973e6b53e7b323560a3955">StringViewVector</a> &amp;svv)</td></tr>
<tr class="separator:ad33eacc0728acfa45dd4757bb467be93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a024f281663d271a249dfb49dc76fd703" id="r_a024f281663d271a249dfb49dc76fd703"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a024f281663d271a249dfb49dc76fd703">clearArgs</a> ()</td></tr>
<tr class="memdesc:a024f281663d271a249dfb49dc76fd703"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears any currently set parameters.  <br /></td></tr>
<tr class="separator:a024f281663d271a249dfb49dc76fd703"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe2f8a2a6f7241bdc367fdf8939095fc" id="r_afe2f8a2a6f7241bdc367fdf8939095fc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afe2f8a2a6f7241bdc367fdf8939095fc">setCWD</a> (const std::string_view cwd)</td></tr>
<tr class="memdesc:afe2f8a2a6f7241bdc367fdf8939095fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set an explicit working directory the child process.  <br /></td></tr>
<tr class="separator:afe2f8a2a6f7241bdc367fdf8939095fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bb37e8867960806e2b766e44b626747" id="r_a1bb37e8867960806e2b766e44b626747"><td class="memItemLeft" align="right" valign="top">const auto &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1bb37e8867960806e2b766e44b626747">getCWD</a> () const</td></tr>
<tr class="memdesc:a1bb37e8867960806e2b766e44b626747"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the currently set CWD for sub process execution.  <br /></td></tr>
<tr class="separator:a1bb37e8867960806e2b766e44b626747"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc103dc930726ceeb9346c134af3ad28" id="r_adc103dc930726ceeb9346c134af3ad28"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adc103dc930726ceeb9346c134af3ad28">setInheritCWD</a> ()</td></tr>
<tr class="memdesc:adc103dc930726ceeb9346c134af3ad28"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear a previously configured CWD and inherit it from the parent.  <br /></td></tr>
<tr class="separator:adc103dc930726ceeb9346c134af3ad28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e06d30965b6a0541d40cf6c2a338384" id="r_a6e06d30965b6a0541d40cf6c2a338384"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6e06d30965b6a0541d40cf6c2a338384">setEnv</a> (const <a class="el" href="string_8hxx.html#a223f8d21861458782531ac6e8d1db210">StringVector</a> &amp;vars)</td></tr>
<tr class="memdesc:a6e06d30965b6a0541d40cf6c2a338384"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets explicit environment variables for the child process.  <br /></td></tr>
<tr class="separator:a6e06d30965b6a0541d40cf6c2a338384"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d781fd11bd639e39150dae2dacf7973" id="r_a4d781fd11bd639e39150dae2dacf7973"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4d781fd11bd639e39150dae2dacf7973">setInheritEnv</a> ()</td></tr>
<tr class="memdesc:a4d781fd11bd639e39150dae2dacf7973"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears any previously set environment variables and let's to-be-started child processes inherit the parent's environment.  <br /></td></tr>
<tr class="separator:a4d781fd11bd639e39150dae2dacf7973"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46ed360ea334362ad8dd6074995d4a77" id="r_a46ed360ea334362ad8dd6074995d4a77"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a46ed360ea334362ad8dd6074995d4a77">setStdErr</a> (<a class="el" href="classcosmos_1_1FileDescriptor.html">FileDescriptor</a> fd)</td></tr>
<tr class="memdesc:a46ed360ea334362ad8dd6074995d4a77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Redirect the child's stderr to the given file descriptor.  <br /></td></tr>
<tr class="separator:a46ed360ea334362ad8dd6074995d4a77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f393b09509e8de5d89d50261f3b464b" id="r_a5f393b09509e8de5d89d50261f3b464b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5f393b09509e8de5d89d50261f3b464b">setStdOut</a> (<a class="el" href="classcosmos_1_1FileDescriptor.html">FileDescriptor</a> fd)</td></tr>
<tr class="separator:a5f393b09509e8de5d89d50261f3b464b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36bf1e6804cd85844ae72e688db65678" id="r_a36bf1e6804cd85844ae72e688db65678"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a36bf1e6804cd85844ae72e688db65678">setStdIn</a> (<a class="el" href="classcosmos_1_1FileDescriptor.html">FileDescriptor</a> fd)</td></tr>
<tr class="separator:a36bf1e6804cd85844ae72e688db65678"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ad5a6c6cf973364ad6068fd1a41a897" id="r_a1ad5a6c6cf973364ad6068fd1a41a897"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1ad5a6c6cf973364ad6068fd1a41a897">addInheritFD</a> (<a class="el" href="classcosmos_1_1FileDescriptor.html">FileDescriptor</a> fd)</td></tr>
<tr class="memdesc:a1ad5a6c6cf973364ad6068fd1a41a897"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a file descriptor to inherit to the child process.  <br /></td></tr>
<tr class="separator:a1ad5a6c6cf973364ad6068fd1a41a897"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a48f87f32274d2d9a081e79273b168d" id="r_a4a48f87f32274d2d9a081e79273b168d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4a48f87f32274d2d9a081e79273b168d">resetStdFiles</a> ()</td></tr>
<tr class="memdesc:a4a48f87f32274d2d9a081e79273b168d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Restore the default inheritance behaviour for stdin/stderr/stdout.  <br /></td></tr>
<tr class="separator:a4a48f87f32274d2d9a081e79273b168d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1765118ceb5c3979473f7686f62dc01" id="r_ab1765118ceb5c3979473f7686f62dc01"><td class="memTemplParams" colspan="2">template&lt;typename SCHED_SETTING &gt; </td></tr>
<tr class="memitem:ab1765118ceb5c3979473f7686f62dc01"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#ab1765118ceb5c3979473f7686f62dc01">setSchedulerSettings</a> (const SCHED_SETTING &amp;ss)</td></tr>
<tr class="memdesc:ab1765118ceb5c3979473f7686f62dc01"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets scheduler type and settings.  <br /></td></tr>
<tr class="separator:ab1765118ceb5c3979473f7686f62dc01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8e20c23d99db0616e444001b01cdc29" id="r_ac8e20c23d99db0616e444001b01cdc29"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac8e20c23d99db0616e444001b01cdc29">setInheritSchedulerSettings</a> ()</td></tr>
<tr class="memdesc:ac8e20c23d99db0616e444001b01cdc29"><td class="mdescLeft">&#160;</td><td class="mdescRight">clear previously set scheduler settings and inherit them from the parent instead  <br /></td></tr>
<tr class="separator:ac8e20c23d99db0616e444001b01cdc29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a735a0fc4c3e5502d40753f52281b75df" id="r_a735a0fc4c3e5502d40753f52281b75df"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a735a0fc4c3e5502d40753f52281b75df">setPostForkCB</a> (<a class="el" href="#a66c9b25e2f7d1f53b75c80c11c721d7a">Callback</a> cb)</td></tr>
<tr class="memdesc:a735a0fc4c3e5502d40753f52281b75df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets a callback function to be invoked in the child process context.  <br /></td></tr>
<tr class="separator:a735a0fc4c3e5502d40753f52281b75df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32e86265bd6092156fd9f6f3188f88a5" id="r_a32e86265bd6092156fd9f6f3188f88a5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a32e86265bd6092156fd9f6f3188f88a5">resetPostForkCB</a> ()</td></tr>
<tr class="memdesc:a32e86265bd6092156fd9f6f3188f88a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes a previously stored post fork callback.  <br /></td></tr>
<tr class="separator:a32e86265bd6092156fd9f6f3188f88a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af14f66b35b7f0b56b9b09bd6964417a0" id="r_af14f66b35b7f0b56b9b09bd6964417a0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcosmos_1_1SubProc.html">SubProc</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af14f66b35b7f0b56b9b09bd6964417a0">run</a> ()</td></tr>
<tr class="memdesc:af14f66b35b7f0b56b9b09bd6964417a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clone a new process and execute the currently configured program.  <br /></td></tr>
<tr class="separator:af14f66b35b7f0b56b9b09bd6964417a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a37820e1f7b6ba1f83e690f58132f14cb" id="r_a37820e1f7b6ba1f83e690f58132f14cb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a37820e1f7b6ba1f83e690f58132f14cb">postFork</a> ()</td></tr>
<tr class="memdesc:a37820e1f7b6ba1f83e690f58132f14cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs settings needed after forking i.e. in the child process but before exec()'ing.  <br /></td></tr>
<tr class="separator:a37820e1f7b6ba1f83e690f58132f14cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81b97c9206bae975bf74ca38791a46d1" id="r_a81b97c9206bae975bf74ca38791a46d1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a81b97c9206bae975bf74ca38791a46d1">resetSignals</a> ()</td></tr>
<tr class="memdesc:a81b97c9206bae975bf74ca38791a46d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">restore a default signal mask in child process context.  <br /></td></tr>
<tr class="separator:a81b97c9206bae975bf74ca38791a46d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9db69bc0962fa6b14001e32be8eaf76" id="r_aa9db69bc0962fa6b14001e32be8eaf76"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa9db69bc0962fa6b14001e32be8eaf76">redirectFD</a> (<a class="el" href="classcosmos_1_1FileDescriptor.html">FileDescriptor</a> orig, <a class="el" href="classcosmos_1_1FileDescriptor.html">FileDescriptor</a> redirect)</td></tr>
<tr class="memdesc:aa9db69bc0962fa6b14001e32be8eaf76"><td class="mdescLeft">&#160;</td><td class="mdescRight">Redirects the given <code>orig</code> file descriptor to <code>redirect</code> (used in child context).  <br /></td></tr>
<tr class="separator:aa9db69bc0962fa6b14001e32be8eaf76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56547ce4aa89e2586526010f21914f18" id="r_a56547ce4aa89e2586526010f21914f18"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a56547ce4aa89e2586526010f21914f18">setArgv0</a> ()</td></tr>
<tr class="memdesc:a56547ce4aa89e2586526010f21914f18"><td class="mdescLeft">&#160;</td><td class="mdescRight">sets argv0 from the current executable name.  <br /></td></tr>
<tr class="separator:a56547ce4aa89e2586526010f21914f18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a825897003ca3ca45b61e80458de3d1bb" id="r_a825897003ca3ca45b61e80458de3d1bb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a825897003ca3ca45b61e80458de3d1bb">setExeFromArgv0</a> ()</td></tr>
<tr class="separator:a825897003ca3ca45b61e80458de3d1bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a7066bc1d82e84a37870f7387a040ca29" id="r_a7066bc1d82e84a37870f7387a040ca29"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7066bc1d82e84a37870f7387a040ca29">m_executable</a></td></tr>
<tr class="memdesc:a7066bc1d82e84a37870f7387a040ca29"><td class="mdescLeft">&#160;</td><td class="mdescRight">Path to the child process executable to run.  <br /></td></tr>
<tr class="separator:a7066bc1d82e84a37870f7387a040ca29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a756ede6fcaf59a1ef32d169d5a42e5" id="r_a1a756ede6fcaf59a1ef32d169d5a42e5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="string_8hxx.html#a223f8d21861458782531ac6e8d1db210">StringVector</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1a756ede6fcaf59a1ef32d169d5a42e5">m_argv</a></td></tr>
<tr class="memdesc:a1a756ede6fcaf59a1ef32d169d5a42e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Argument vector including argv0 denoting the executable name (which can be different than m_executable.  <br /></td></tr>
<tr class="separator:a1a756ede6fcaf59a1ef32d169d5a42e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f0f7351d8ff0bf14c528e6f425c3502" id="r_a8f0f7351d8ff0bf14c528e6f425c3502"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8f0f7351d8ff0bf14c528e6f425c3502">m_cwd</a></td></tr>
<tr class="memdesc:a8f0f7351d8ff0bf14c528e6f425c3502"><td class="mdescLeft">&#160;</td><td class="mdescRight">Path to an explicit working directory, if any.  <br /></td></tr>
<tr class="separator:a8f0f7351d8ff0bf14c528e6f425c3502"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a792cbbfac0edf8a66a80c3d70884bdc9" id="r_a792cbbfac0edf8a66a80c3d70884bdc9"><td class="memItemLeft" align="right" valign="top">std::optional&lt; <a class="el" href="string_8hxx.html#a223f8d21861458782531ac6e8d1db210">StringVector</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a792cbbfac0edf8a66a80c3d70884bdc9">m_env</a></td></tr>
<tr class="memdesc:a792cbbfac0edf8a66a80c3d70884bdc9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Explicit environment child environment variables, if any.  <br /></td></tr>
<tr class="separator:a792cbbfac0edf8a66a80c3d70884bdc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95cdda3970ca6cba46e36616e806c9e7" id="r_a95cdda3970ca6cba46e36616e806c9e7"><td class="memItemLeft" align="right" valign="top">std::optional&lt; SchedulerSettingsVariant &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a95cdda3970ca6cba46e36616e806c9e7">m_sched_settings</a></td></tr>
<tr class="memdesc:a95cdda3970ca6cba46e36616e806c9e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Scheduler policy settings, if any.  <br /></td></tr>
<tr class="separator:a95cdda3970ca6cba46e36616e806c9e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abef26a1f3b362eed8f0d698f20a4e611" id="r_abef26a1f3b362eed8f0d698f20a4e611"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcosmos_1_1FileDescriptor.html">FileDescriptor</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abef26a1f3b362eed8f0d698f20a4e611">m_stdout</a></td></tr>
<tr class="memdesc:abef26a1f3b362eed8f0d698f20a4e611"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classcosmos_1_1File.html" title="File objects that are opened by pathname.">File</a> descriptor to use as child's stdin.  <br /></td></tr>
<tr class="separator:abef26a1f3b362eed8f0d698f20a4e611"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ae936848fedf0b7b046bf38fcfe5311" id="r_a9ae936848fedf0b7b046bf38fcfe5311"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcosmos_1_1FileDescriptor.html">FileDescriptor</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9ae936848fedf0b7b046bf38fcfe5311">m_stderr</a></td></tr>
<tr class="memdesc:a9ae936848fedf0b7b046bf38fcfe5311"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classcosmos_1_1File.html" title="File objects that are opened by pathname.">File</a> descriptor to use as child's stderr.  <br /></td></tr>
<tr class="separator:a9ae936848fedf0b7b046bf38fcfe5311"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6ca8fd244fd960dd782b2c05d85f2b5" id="r_ae6ca8fd244fd960dd782b2c05d85f2b5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcosmos_1_1FileDescriptor.html">FileDescriptor</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae6ca8fd244fd960dd782b2c05d85f2b5">m_stdin</a></td></tr>
<tr class="memdesc:ae6ca8fd244fd960dd782b2c05d85f2b5"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classcosmos_1_1File.html" title="File objects that are opened by pathname.">File</a> descriptor to use as child's stdin.  <br /></td></tr>
<tr class="separator:ae6ca8fd244fd960dd782b2c05d85f2b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6c8108a9d79716f3b68e3c90b3ddde3" id="r_af6c8108a9d79716f3b68e3c90b3ddde3"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classcosmos_1_1FileDescriptor.html">FileDescriptor</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af6c8108a9d79716f3b68e3c90b3ddde3">m_inherit_fds</a></td></tr>
<tr class="memdesc:af6c8108a9d79716f3b68e3c90b3ddde3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Additional file descriptors to inherit to the child process.  <br /></td></tr>
<tr class="separator:af6c8108a9d79716f3b68e3c90b3ddde3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab0f76333ee114179f6e8465d6b1279c" id="r_aab0f76333ee114179f6e8465d6b1279c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a66c9b25e2f7d1f53b75c80c11c721d7a">Callback</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aab0f76333ee114179f6e8465d6b1279c">m_post_fork_cb</a> = nullptr</td></tr>
<tr class="separator:aab0f76333ee114179f6e8465d6b1279c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="friends" name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:ac77f82fbfff88ae49f16192d5577961f" id="r_ac77f82fbfff88ae49f16192d5577961f"><td class="memItemLeft" align="right" valign="top">std::ostream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac77f82fbfff88ae49f16192d5577961f">operator&lt;&lt;</a> (std::ostream &amp;o, const <a class="el" href="classcosmos_1_1ChildCloner.html">ChildCloner</a> &amp;proc)</td></tr>
<tr class="memdesc:ac77f82fbfff88ae49f16192d5577961f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Outputs a summary of the <a class="el" href="classcosmos_1_1ChildCloner.html" title="Sub process creation facility.">ChildCloner</a>'s configuration.  <br /></td></tr>
<tr class="separator:ac77f82fbfff88ae49f16192d5577961f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Sub process creation facility. </p>
<p>This type allows to configure and create child processes. This is a rather heavy weight type that can be reused to create multiple child processes. The <a class="el" href="classcosmos_1_1SubProc.html" title="Represents a child process created via ChildCloner.">SubProc</a> type returned from wait() is rather lightweight in contrast.</p>
<p>By default, created child processes will inherit the current process's stdout, stderr and stdin file descriptors. You can redirect the child's stdout, stderr and stdin file descriptors via the <a class="el" href="#a46ed360ea334362ad8dd6074995d4a77" title="Redirect the child&#39;s stderr to the given file descriptor.">setStdErr()</a>, <a class="el" href="#a5f393b09509e8de5d89d50261f3b464b">setStdOut()</a> and <a class="el" href="#a36bf1e6804cd85844ae72e688db65678">setStdIn()</a> member functions. It is expected that all file descriptors used have the O_CLOEXEC flag set. The implementation will take care to unset this flag appropriately in a manner that allows the file descriptors to be inherited to the child but at the same time won't influence other threads in the current process (to avoid races if multiple threads invoke clone()).</p>
<p>Furthermore the child's environment variables, current working directory, scheduling policy and command line arguments can be configured.</p>
<p>For advanced usage a post fork callback can be installed that performs actions before the child process is replaced by the new target executable. </p>

<p class="definition">Definition at line <a class="el" href="ChildCloner_8hxx_source.html#l00040">40</a> of file <a class="el" href="ChildCloner_8hxx_source.html">ChildCloner.hxx</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a66c9b25e2f7d1f53b75c80c11c721d7a" name="a66c9b25e2f7d1f53b75c80c11c721d7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66c9b25e2f7d1f53b75c80c11c721d7a">&#9670;&#160;</a></span>Callback</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::function&lt;void (const <a class="el" href="classcosmos_1_1ChildCloner.html">ChildCloner</a>&amp;)&gt; <a class="el" href="#a66c9b25e2f7d1f53b75c80c11c721d7a">cosmos::ChildCloner::Callback</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>callback function type used in <a class="el" href="#a735a0fc4c3e5502d40753f52281b75df" title="Sets a callback function to be invoked in the child process context.">setPostForkCB()</a>. </p>

<p class="definition">Definition at line <a class="el" href="ChildCloner_8hxx_source.html#l00044">44</a> of file <a class="el" href="ChildCloner_8hxx_source.html">ChildCloner.hxx</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a3c906517648224c7438c70a73f314dc8" name="a3c906517648224c7438c70a73f314dc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c906517648224c7438c70a73f314dc8">&#9670;&#160;</a></span>ChildCloner()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cosmos::ChildCloner::ChildCloner </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="string_8hxx.html#abbbd4359f4973e6b53e7b323560a3955">StringViewVector</a></td>          <td class="paramname"><span class="paramname"><em>args</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates an instance configured with the provided arguments. </p>
<p>This is a convenience constructor for simple execution of child processes without special settings. The executable path is taken from <code>args[0]</code>. </p>

<p class="definition">Definition at line <a class="el" href="ChildCloner_8hxx_source.html#l00057">57</a> of file <a class="el" href="ChildCloner_8hxx_source.html">ChildCloner.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   57</span>                                                          {</div>
<div class="line"><span class="lineno">   58</span>                <a class="code hl_function" href="#ad33eacc0728acfa45dd4757bb467be93">setArgsFromView</a>(args);</div>
<div class="line"><span class="lineno">   59</span>        }</div>
<div class="ttc" id="aclasscosmos_1_1ChildCloner_html_ad33eacc0728acfa45dd4757bb467be93"><div class="ttname"><a href="#ad33eacc0728acfa45dd4757bb467be93">cosmos::ChildCloner::setArgsFromView</a></div><div class="ttdeci">void setArgsFromView(const StringViewVector &amp;svv)</div><div class="ttdef"><b>Definition</b> <a href="ChildCloner_8hxx_source.html#l00101">ChildCloner.hxx:101</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a1ad5a6c6cf973364ad6068fd1a41a897" name="a1ad5a6c6cf973364ad6068fd1a41a897"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ad5a6c6cf973364ad6068fd1a41a897">&#9670;&#160;</a></span>addInheritFD()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void cosmos::ChildCloner::addInheritFD </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcosmos_1_1FileDescriptor.html">FileDescriptor</a></td>          <td class="paramname"><span class="paramname"><em>fd</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds a file descriptor to inherit to the child process. </p>
<p>Beyond the stdin, stdout and stderr file descriptor additional descriptors can be inherited into the child process context. The <code>fd</code> should have the O_CLOEXEC flag set. The implementation will adjust this flag appropriately to allow the <code>fd</code> to be inherited across execution of the new child process image.</p>
<p>The file descriptor number of <code>fd</code> will not be change in the child process. Therefore it must not be number 0, 1 or 2 (stdin, stdout, stderr), since these are already covered by the <a class="el" href="#a46ed360ea334362ad8dd6074995d4a77" title="Redirect the child&#39;s stderr to the given file descriptor.">setStdErr()</a>, <a class="el" href="#a5f393b09509e8de5d89d50261f3b464b">setStdOut()</a> and <a class="el" href="#a36bf1e6804cd85844ae72e688db65678">setStdIn()</a> functions.</p>
<p>The ownership of <code>fd</code> remains with the caller. The caller must ensure that the file descriptor stays valid until <a class="el" href="#af14f66b35b7f0b56b9b09bd6964417a0" title="Clone a new process and execute the currently configured program.">run()</a> is invoked. Otherwise the child process execution / descriptor inheritance will fail. The implementation will not alter the <code>fd</code> in the current process's context.</p>
<p>The child process must be instructed which FD to use and for which purpose. Some programs support command line arguments or evaluate environment variables to get this knowledge. Some programs may also be hardcoded to use certain file descriptor numbers. </p>

<p class="definition">Definition at line <a class="el" href="ChildCloner_8hxx_source.html#l00184">184</a> of file <a class="el" href="ChildCloner_8hxx_source.html">ChildCloner.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  184</span>                                             {</div>
<div class="line"><span class="lineno">  185</span>                <span class="keywordflow">if</span> (fd.raw() &lt;= FileNum::STDERR) {</div>
<div class="line"><span class="lineno">  186</span>                        cosmos_throw(UsageError{<span class="stringliteral">&quot;added stdio or invalid FD as extra inherit FD&quot;</span>});</div>
<div class="line"><span class="lineno">  187</span>                };</div>
<div class="line"><span class="lineno">  188</span>                <a class="code hl_variable" href="#af6c8108a9d79716f3b68e3c90b3ddde3">m_inherit_fds</a>.push_back(fd);</div>
<div class="line"><span class="lineno">  189</span>        }</div>
<div class="ttc" id="aclasscosmos_1_1ChildCloner_html_af6c8108a9d79716f3b68e3c90b3ddde3"><div class="ttname"><a href="#af6c8108a9d79716f3b68e3c90b3ddde3">cosmos::ChildCloner::m_inherit_fds</a></div><div class="ttdeci">std::vector&lt; FileDescriptor &gt; m_inherit_fds</div><div class="ttdoc">Additional file descriptors to inherit to the child process.</div><div class="ttdef"><b>Definition</b> <a href="ChildCloner_8hxx_source.html#l00298">ChildCloner.hxx:298</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a024f281663d271a249dfb49dc76fd703" name="a024f281663d271a249dfb49dc76fd703"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a024f281663d271a249dfb49dc76fd703">&#9670;&#160;</a></span>clearArgs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void cosmos::ChildCloner::clearArgs </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Clears any currently set parameters. </p>
<p>Clears all currently set arguments but keeps the executable and argv0. </p>

<p class="definition">Definition at line <a class="el" href="ChildCloner_8hxx_source.html#l00113">113</a> of file <a class="el" href="ChildCloner_8hxx_source.html">ChildCloner.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  113</span>                         {</div>
<div class="line"><span class="lineno">  114</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a1a756ede6fcaf59a1ef32d169d5a42e5">m_argv</a>.size() &gt; 1) {</div>
<div class="line"><span class="lineno">  115</span>                        <a class="code hl_variable" href="#a1a756ede6fcaf59a1ef32d169d5a42e5">m_argv</a>.erase(<a class="code hl_variable" href="#a1a756ede6fcaf59a1ef32d169d5a42e5">m_argv</a>.begin() + 1);</div>
<div class="line"><span class="lineno">  116</span>                }</div>
<div class="line"><span class="lineno">  117</span>        }</div>
<div class="ttc" id="aclasscosmos_1_1ChildCloner_html_a1a756ede6fcaf59a1ef32d169d5a42e5"><div class="ttname"><a href="#a1a756ede6fcaf59a1ef32d169d5a42e5">cosmos::ChildCloner::m_argv</a></div><div class="ttdeci">StringVector m_argv</div><div class="ttdoc">Argument vector including argv0 denoting the executable name (which can be different than m_executabl...</div><div class="ttdef"><b>Definition</b> <a href="ChildCloner_8hxx_source.html#l00283">ChildCloner.hxx:283</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7c0e8403ea1a4523ff59e25bbc6cc662" name="a7c0e8403ea1a4523ff59e25bbc6cc662"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c0e8403ea1a4523ff59e25bbc6cc662">&#9670;&#160;</a></span>getArgs() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="string_8hxx.html#a223f8d21861458782531ac6e8d1db210">StringVector</a> &amp; cosmos::ChildCloner::getArgs </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#aaef6e7d41be5f1c8deb4967683049ddf" title="Returns the currently configured argument vector.">getArgs() const</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="ChildCloner_8hxx_source.html#l00088">88</a> of file <a class="el" href="ChildCloner_8hxx_source.html">ChildCloner.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   88</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="#a1a756ede6fcaf59a1ef32d169d5a42e5">m_argv</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="aaef6e7d41be5f1c8deb4967683049ddf" name="aaef6e7d41be5f1c8deb4967683049ddf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaef6e7d41be5f1c8deb4967683049ddf">&#9670;&#160;</a></span>getArgs() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const auto &amp; cosmos::ChildCloner::getArgs </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the currently configured argument vector. </p>
<p>This vector is by convention including the executable name as first argument (argv0). You may change this argument using this function for special use cases (e.g. programs that behave differently depending on argv0). </p>

<p class="definition">Definition at line <a class="el" href="ChildCloner_8hxx_source.html#l00085">85</a> of file <a class="el" href="ChildCloner_8hxx_source.html">ChildCloner.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   85</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="#a1a756ede6fcaf59a1ef32d169d5a42e5">m_argv</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a1bb37e8867960806e2b766e44b626747" name="a1bb37e8867960806e2b766e44b626747"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1bb37e8867960806e2b766e44b626747">&#9670;&#160;</a></span>getCWD()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const auto &amp; cosmos::ChildCloner::getCWD </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the currently set CWD for sub process execution. </p>

<p class="definition">Definition at line <a class="el" href="ChildCloner_8hxx_source.html#l00127">127</a> of file <a class="el" href="ChildCloner_8hxx_source.html">ChildCloner.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  127</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="#a8f0f7351d8ff0bf14c528e6f425c3502">m_cwd</a>; }</div>
<div class="ttc" id="aclasscosmos_1_1ChildCloner_html_a8f0f7351d8ff0bf14c528e6f425c3502"><div class="ttname"><a href="#a8f0f7351d8ff0bf14c528e6f425c3502">cosmos::ChildCloner::m_cwd</a></div><div class="ttdeci">std::string m_cwd</div><div class="ttdoc">Path to an explicit working directory, if any.</div><div class="ttdef"><b>Definition</b> <a href="ChildCloner_8hxx_source.html#l00285">ChildCloner.hxx:285</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aee4f33aab2cb8d51da7f180c7b758526" name="aee4f33aab2cb8d51da7f180c7b758526"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee4f33aab2cb8d51da7f180c7b758526">&#9670;&#160;</a></span>getExe() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto &amp; cosmos::ChildCloner::getExe </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the currently set executable name. </p>

<p class="definition">Definition at line <a class="el" href="ChildCloner_8hxx_source.html#l00065">65</a> of file <a class="el" href="ChildCloner_8hxx_source.html">ChildCloner.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   65</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="#a7066bc1d82e84a37870f7387a040ca29">m_executable</a>; }</div>
<div class="ttc" id="aclasscosmos_1_1ChildCloner_html_a7066bc1d82e84a37870f7387a040ca29"><div class="ttname"><a href="#a7066bc1d82e84a37870f7387a040ca29">cosmos::ChildCloner::m_executable</a></div><div class="ttdeci">std::string m_executable</div><div class="ttdoc">Path to the child process executable to run.</div><div class="ttdef"><b>Definition</b> <a href="ChildCloner_8hxx_source.html#l00281">ChildCloner.hxx:281</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a13cb41489ee6ef84c9397b880f4cc968" name="a13cb41489ee6ef84c9397b880f4cc968"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13cb41489ee6ef84c9397b880f4cc968">&#9670;&#160;</a></span>getExe() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const auto &amp; cosmos::ChildCloner::getExe </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ChildCloner_8hxx_source.html#l00066">66</a> of file <a class="el" href="ChildCloner_8hxx_source.html">ChildCloner.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   66</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="#a7066bc1d82e84a37870f7387a040ca29">m_executable</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="aff554b5caca6d301de02330ecce93303" name="aff554b5caca6d301de02330ecce93303"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff554b5caca6d301de02330ecce93303">&#9670;&#160;</a></span>hasExe()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool cosmos::ChildCloner::hasExe </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns whether currently an executable is set. </p>

<p class="definition">Definition at line <a class="el" href="ChildCloner_8hxx_source.html#l00062">62</a> of file <a class="el" href="ChildCloner_8hxx_source.html">ChildCloner.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   62</span>{ <span class="keywordflow">return</span> !<a class="code hl_variable" href="#a7066bc1d82e84a37870f7387a040ca29">m_executable</a>.empty(); }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a37820e1f7b6ba1f83e690f58132f14cb" name="a37820e1f7b6ba1f83e690f58132f14cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37820e1f7b6ba1f83e690f58132f14cb">&#9670;&#160;</a></span>postFork()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void cosmos::ChildCloner::postFork </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Performs settings needed after forking i.e. in the child process but before exec()'ing. </p>

<p class="definition">Definition at line <a class="el" href="ChildCloner_8cxx_source.html#l00195">195</a> of file <a class="el" href="ChildCloner_8cxx_source.html">ChildCloner.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  195</span>                           {</div>
<div class="line"><span class="lineno">  196</span>        <span class="keywordflow">if</span> (m_post_fork_cb) {</div>
<div class="line"><span class="lineno">  197</span>                m_post_fork_cb(*<span class="keyword">this</span>);</div>
<div class="line"><span class="lineno">  198</span>        }</div>
<div class="line"><span class="lineno">  199</span> </div>
<div class="line"><span class="lineno">  200</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a95cdda3970ca6cba46e36616e806c9e7">m_sched_settings</a>) {</div>
<div class="line"><span class="lineno">  201</span>                <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  202</span>                        std::visit([](<span class="keyword">auto</span> &amp;&amp;sched_settings) {</div>
<div class="line"><span class="lineno">  203</span>                                sched_settings.apply(ProcessID::SELF);</div>
<div class="line"><span class="lineno">  204</span>                        }, *<a class="code hl_variable" href="#a95cdda3970ca6cba46e36616e806c9e7">m_sched_settings</a>);</div>
<div class="line"><span class="lineno">  205</span>                } <span class="keywordflow">catch</span>(<span class="keyword">const</span> std::exception &amp;ex) {</div>
<div class="line"><span class="lineno">  206</span>                        <span class="comment">// treat this as non-critical, the process can still</span></div>
<div class="line"><span class="lineno">  207</span>                        <span class="comment">// run, even if not prioritized.</span></div>
<div class="line"><span class="lineno">  208</span>                        print_child_error(<span class="stringliteral">&quot;sched_setscheduler&quot;</span>, ex.what());</div>
<div class="line"><span class="lineno">  209</span>                }</div>
<div class="line"><span class="lineno">  210</span>        }</div>
<div class="line"><span class="lineno">  211</span> </div>
<div class="line"><span class="lineno">  212</span>        <a class="code hl_function" href="#a81b97c9206bae975bf74ca38791a46d1">resetSignals</a>();</div>
<div class="line"><span class="lineno">  213</span> </div>
<div class="line"><span class="lineno">  214</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="#a8f0f7351d8ff0bf14c528e6f425c3502">m_cwd</a>.empty()) {</div>
<div class="line"><span class="lineno">  215</span>                fs::change_dir(<a class="code hl_variable" href="#a8f0f7351d8ff0bf14c528e6f425c3502">m_cwd</a>);</div>
<div class="line"><span class="lineno">  216</span>        }</div>
<div class="line"><span class="lineno">  217</span> </div>
<div class="line"><span class="lineno">  218</span>        <a class="code hl_function" href="#aa9db69bc0962fa6b14001e32be8eaf76">redirectFD</a>(cosmos::stdout, <a class="code hl_variable" href="#abef26a1f3b362eed8f0d698f20a4e611">m_stdout</a>);</div>
<div class="line"><span class="lineno">  219</span>        <a class="code hl_function" href="#aa9db69bc0962fa6b14001e32be8eaf76">redirectFD</a>(cosmos::stderr, <a class="code hl_variable" href="#a9ae936848fedf0b7b046bf38fcfe5311">m_stderr</a>);</div>
<div class="line"><span class="lineno">  220</span>        <a class="code hl_function" href="#aa9db69bc0962fa6b14001e32be8eaf76">redirectFD</a>(cosmos::stdin, <a class="code hl_variable" href="#ae6ca8fd244fd960dd782b2c05d85f2b5">m_stdin</a>);</div>
<div class="line"><span class="lineno">  221</span> </div>
<div class="line"><span class="lineno">  222</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span> fd: <a class="code hl_variable" href="#af6c8108a9d79716f3b68e3c90b3ddde3">m_inherit_fds</a>) {</div>
<div class="line"><span class="lineno">  223</span>                fd.setCloseOnExec(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  224</span>        }</div>
<div class="line"><span class="lineno">  225</span>}</div>
<div class="ttc" id="aclasscosmos_1_1ChildCloner_html_a81b97c9206bae975bf74ca38791a46d1"><div class="ttname"><a href="#a81b97c9206bae975bf74ca38791a46d1">cosmos::ChildCloner::resetSignals</a></div><div class="ttdeci">void resetSignals()</div><div class="ttdoc">restore a default signal mask in child process context.</div><div class="ttdef"><b>Definition</b> <a href="ChildCloner_8cxx_source.html#l00186">ChildCloner.cxx:186</a></div></div>
<div class="ttc" id="aclasscosmos_1_1ChildCloner_html_a95cdda3970ca6cba46e36616e806c9e7"><div class="ttname"><a href="#a95cdda3970ca6cba46e36616e806c9e7">cosmos::ChildCloner::m_sched_settings</a></div><div class="ttdeci">std::optional&lt; SchedulerSettingsVariant &gt; m_sched_settings</div><div class="ttdoc">Scheduler policy settings, if any.</div><div class="ttdef"><b>Definition</b> <a href="ChildCloner_8hxx_source.html#l00289">ChildCloner.hxx:289</a></div></div>
<div class="ttc" id="aclasscosmos_1_1ChildCloner_html_a9ae936848fedf0b7b046bf38fcfe5311"><div class="ttname"><a href="#a9ae936848fedf0b7b046bf38fcfe5311">cosmos::ChildCloner::m_stderr</a></div><div class="ttdeci">FileDescriptor m_stderr</div><div class="ttdoc">File descriptor to use as child's stderr.</div><div class="ttdef"><b>Definition</b> <a href="ChildCloner_8hxx_source.html#l00294">ChildCloner.hxx:294</a></div></div>
<div class="ttc" id="aclasscosmos_1_1ChildCloner_html_aa9db69bc0962fa6b14001e32be8eaf76"><div class="ttname"><a href="#aa9db69bc0962fa6b14001e32be8eaf76">cosmos::ChildCloner::redirectFD</a></div><div class="ttdeci">void redirectFD(FileDescriptor orig, FileDescriptor redirect)</div><div class="ttdoc">Redirects the given orig file descriptor to redirect (used in child context).</div><div class="ttdef"><b>Definition</b> <a href="ChildCloner_8cxx_source.html#l00227">ChildCloner.cxx:227</a></div></div>
<div class="ttc" id="aclasscosmos_1_1ChildCloner_html_abef26a1f3b362eed8f0d698f20a4e611"><div class="ttname"><a href="#abef26a1f3b362eed8f0d698f20a4e611">cosmos::ChildCloner::m_stdout</a></div><div class="ttdeci">FileDescriptor m_stdout</div><div class="ttdoc">File descriptor to use as child's stdin.</div><div class="ttdef"><b>Definition</b> <a href="ChildCloner_8hxx_source.html#l00292">ChildCloner.hxx:292</a></div></div>
<div class="ttc" id="aclasscosmos_1_1ChildCloner_html_ae6ca8fd244fd960dd782b2c05d85f2b5"><div class="ttname"><a href="#ae6ca8fd244fd960dd782b2c05d85f2b5">cosmos::ChildCloner::m_stdin</a></div><div class="ttdeci">FileDescriptor m_stdin</div><div class="ttdoc">File descriptor to use as child's stdin.</div><div class="ttdef"><b>Definition</b> <a href="ChildCloner_8hxx_source.html#l00296">ChildCloner.hxx:296</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa9db69bc0962fa6b14001e32be8eaf76" name="aa9db69bc0962fa6b14001e32be8eaf76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9db69bc0962fa6b14001e32be8eaf76">&#9670;&#160;</a></span>redirectFD()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void cosmos::ChildCloner::redirectFD </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcosmos_1_1FileDescriptor.html">FileDescriptor</a></td>          <td class="paramname"><span class="paramname"><em>orig</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcosmos_1_1FileDescriptor.html">FileDescriptor</a></td>          <td class="paramname"><span class="paramname"><em>redirect</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Redirects the given <code>orig</code> file descriptor to <code>redirect</code> (used in child context). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">orig</td><td>The file descriptor that should be replaced by <code>redirect</code> </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ChildCloner_8cxx_source.html#l00227">227</a> of file <a class="el" href="ChildCloner_8cxx_source.html">ChildCloner.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  227</span>                                                                         {</div>
<div class="line"><span class="lineno">  228</span>        <span class="keywordflow">if</span> (redirect.invalid())</div>
<div class="line"><span class="lineno">  229</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  230</span> </div>
<div class="line"><span class="lineno">  231</span>        redirect.duplicate(orig, CloseOnExec(<span class="keyword">false</span>));</div>
<div class="line"><span class="lineno">  232</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a32e86265bd6092156fd9f6f3188f88a5" name="a32e86265bd6092156fd9f6f3188f88a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32e86265bd6092156fd9f6f3188f88a5">&#9670;&#160;</a></span>resetPostForkCB()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void cosmos::ChildCloner::resetPostForkCB </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Removes a previously stored post fork callback. </p>

<p class="definition">Definition at line <a class="el" href="ChildCloner_8hxx_source.html#l00232">232</a> of file <a class="el" href="ChildCloner_8hxx_source.html">ChildCloner.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  232</span>{ m_post_fork_cb = <span class="keyword">nullptr</span>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a81b97c9206bae975bf74ca38791a46d1" name="a81b97c9206bae975bf74ca38791a46d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81b97c9206bae975bf74ca38791a46d1">&#9670;&#160;</a></span>resetSignals()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void cosmos::ChildCloner::resetSignals </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>restore a default signal mask in child process context. </p>

<p class="definition">Definition at line <a class="el" href="ChildCloner_8cxx_source.html#l00186">186</a> of file <a class="el" href="ChildCloner_8cxx_source.html">ChildCloner.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  186</span>                               {</div>
<div class="line"><span class="lineno">  187</span>        <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  188</span><span class="comment">         * the blocked signal mask is inherited via execve(), thus we need to</span></div>
<div class="line"><span class="lineno">  189</span><span class="comment">         * initialize defaults here again.</span></div>
<div class="line"><span class="lineno">  190</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno">  191</span>        SigSet sigs{SigSet::filled};</div>
<div class="line"><span class="lineno">  192</span>        signal::unblock(sigs);</div>
<div class="line"><span class="lineno">  193</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a4a48f87f32274d2d9a081e79273b168d" name="a4a48f87f32274d2d9a081e79273b168d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a48f87f32274d2d9a081e79273b168d">&#9670;&#160;</a></span>resetStdFiles()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void cosmos::ChildCloner::resetStdFiles </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Restore the default inheritance behaviour for stdin/stderr/stdout. </p>
<p>Any previously set file descriptor overrides will be reset and the child process will inherit the parent process's std file descriptors. </p>

<p class="definition">Definition at line <a class="el" href="ChildCloner_8hxx_source.html#l00197">197</a> of file <a class="el" href="ChildCloner_8hxx_source.html">ChildCloner.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  197</span>                             {</div>
<div class="line"><span class="lineno">  198</span>                <a class="code hl_variable" href="#a9ae936848fedf0b7b046bf38fcfe5311">m_stderr</a>.<a class="code hl_function" href="classcosmos_1_1FileDescriptor.html#ae3e8f2237d8b112d48a5607e991325c9">reset</a>();</div>
<div class="line"><span class="lineno">  199</span>                <a class="code hl_variable" href="#ae6ca8fd244fd960dd782b2c05d85f2b5">m_stdin</a>.<a class="code hl_function" href="classcosmos_1_1FileDescriptor.html#ae3e8f2237d8b112d48a5607e991325c9">reset</a>();</div>
<div class="line"><span class="lineno">  200</span>                <a class="code hl_variable" href="#abef26a1f3b362eed8f0d698f20a4e611">m_stdout</a>.<a class="code hl_function" href="classcosmos_1_1FileDescriptor.html#ae3e8f2237d8b112d48a5607e991325c9">reset</a>();</div>
<div class="line"><span class="lineno">  201</span>        }</div>
<div class="ttc" id="aclasscosmos_1_1FileDescriptor_html_ae3e8f2237d8b112d48a5607e991325c9"><div class="ttname"><a href="classcosmos_1_1FileDescriptor.html#ae3e8f2237d8b112d48a5607e991325c9">cosmos::FileDescriptor::reset</a></div><div class="ttdeci">void reset()</div><div class="ttdoc">Invalidates the stored file descriptor.</div><div class="ttdef"><b>Definition</b> <a href="FileDescriptor_8hxx_source.html#l00212">FileDescriptor.hxx:212</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af14f66b35b7f0b56b9b09bd6964417a0" name="af14f66b35b7f0b56b9b09bd6964417a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af14f66b35b7f0b56b9b09bd6964417a0">&#9670;&#160;</a></span>run()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcosmos_1_1SubProc.html">SubProc</a> cosmos::ChildCloner::run </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clone a new process and execute the currently configured program. </p>
<p>All settings made via member functions will come into effect. The configured executable will be invoked and passed the configured arguments.</p>
<p>The returned object is a move-only type that can be used to control the new sub process, communicate with it and evaluate its exit state.</p>
<p>It is mandatory to join the child process via <a class="el" href="classcosmos_1_1SubProc.html#ac16a6ffe7526e88eda9546d7dad48ad0" title="Performs a blocking wait until the child process exits.">SubProc::wait()</a> before the <a class="el" href="classcosmos_1_1SubProc.html" title="Represents a child process created via ChildCloner.">SubProc</a> object is destroyed. </p>

<p class="definition">Definition at line <a class="el" href="ChildCloner_8cxx_source.html#l00077">77</a> of file <a class="el" href="ChildCloner_8cxx_source.html">ChildCloner.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   77</span>                         {</div>
<div class="line"><span class="lineno">   78</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a7066bc1d82e84a37870f7387a040ca29">m_executable</a>.empty() || <a class="code hl_variable" href="#a1a756ede6fcaf59a1ef32d169d5a42e5">m_argv</a>.empty()) {</div>
<div class="line"><span class="lineno">   79</span>                cosmos_throw (UsageError(</div>
<div class="line"><span class="lineno">   80</span>                        <span class="stringliteral">&quot;attempted to run a sub process w/o specifying an executable path and/or argv0&quot;</span></div>
<div class="line"><span class="lineno">   81</span>                ));</div>
<div class="line"><span class="lineno">   82</span>        }</div>
<div class="line"><span class="lineno">   83</span> </div>
<div class="line"><span class="lineno">   84</span>        <span class="keywordflow">if</span> (!cosmos::running_on_valgrind) {</div>
<div class="line"><span class="lineno">   85</span>                <span class="comment">// use clone3() instead of fork():</span></div>
<div class="line"><span class="lineno">   86</span>                <span class="comment">//</span></div>
<div class="line"><span class="lineno">   87</span>                <span class="comment">// clone() allows us to get a pid fd for the child in a race free</span></div>
<div class="line"><span class="lineno">   88</span>                <span class="comment">// fashion</span></div>
<div class="line"><span class="lineno">   89</span>                <span class="comment">//</span></div>
<div class="line"><span class="lineno">   90</span>                <span class="comment">// clone3() has fork() semantics and is easier to use for this case</span></div>
<div class="line"><span class="lineno">   91</span>                <span class="comment">// than the older clone syscalls.</span></div>
<div class="line"><span class="lineno">   92</span>                <span class="comment">//</span></div>
<div class="line"><span class="lineno">   93</span>                <span class="comment">// NOTE: clone3() is not yet supported in Valgrind, which</span></div>
<div class="line"><span class="lineno">   94</span>                <span class="comment">// means that is isn&#39;t possible to run programs that employ</span></div>
<div class="line"><span class="lineno">   95</span>                <span class="comment">// this system call through Valgrind anymore. clone2() is</span></div>
<div class="line"><span class="lineno">   96</span>                <span class="comment">// annoying to use because it doesn&#39;t have fork() semantics</span></div>
<div class="line"><span class="lineno">   97</span>                <span class="comment">// though ... maybe we can sit this out until Valgrind gets</span></div>
<div class="line"><span class="lineno">   98</span>                <span class="comment">// support for clone3().</span></div>
<div class="line"><span class="lineno">   99</span>                PidFD pidfd;</div>
<div class="line"><span class="lineno">  100</span>                CloneArgs clone_args;</div>
<div class="line"><span class="lineno">  101</span>                clone_args.setPidFD(pidfd);</div>
<div class="line"><span class="lineno">  102</span>                clone_args.setFlags({CloneFlag::CLEAR_SIGHAND, CloneFlag::PIDFD});</div>
<div class="line"><span class="lineno">  103</span> </div>
<div class="line"><span class="lineno">  104</span>                <span class="keywordflow">if</span> (<span class="keyword">auto</span> pid = proc::clone(clone_args); pid != std::nullopt) {</div>
<div class="line"><span class="lineno">  105</span>                        <span class="comment">// parent process with child pid</span></div>
<div class="line"><span class="lineno">  106</span>                        <span class="keywordflow">return</span> SubProc{*pid, pidfd};</div>
<div class="line"><span class="lineno">  107</span>                }</div>
<div class="line"><span class="lineno">  108</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  109</span>                <span class="comment">// An alternative is using regular fork() and creating a</span></div>
<div class="line"><span class="lineno">  110</span>                <span class="comment">// pidfd from the child PID. As long as no one is collecting</span></div>
<div class="line"><span class="lineno">  111</span>                <span class="comment">// the child status in parallel in another thread via any of</span></div>
<div class="line"><span class="lineno">  112</span>                <span class="comment">// the wait() functions this is race free.</span></div>
<div class="line"><span class="lineno">  113</span>                <span class="comment">//</span></div>
<div class="line"><span class="lineno">  114</span>                <span class="comment">// This has some hairy error situations, though:</span></div>
<div class="line"><span class="lineno">  115</span>                <span class="comment">//</span></div>
<div class="line"><span class="lineno">  116</span>                <span class="comment">// - creating the pidfd after fork() can fail, in this case we</span></div>
<div class="line"><span class="lineno">  117</span>                <span class="comment">//   cannot fulfill the API and need to end the child process</span></div>
<div class="line"><span class="lineno">  118</span>                <span class="comment">//   again.</span></div>
<div class="line"><span class="lineno">  119</span>                <span class="comment">// - the child process may exit before we have a chance to</span></div>
<div class="line"><span class="lineno">  120</span>                <span class="comment">//   create the pidfd. Basically a pidfd can also be obtained</span></div>
<div class="line"><span class="lineno">  121</span>                <span class="comment">//   for a zombie child process. But this is not possible if</span></div>
<div class="line"><span class="lineno">  122</span>                <span class="comment">//   the SIGCHLD handler is set so SIG_IGN. Since we cannot</span></div>
<div class="line"><span class="lineno">  123</span>                <span class="comment">//   guarantee this in a general purpose library we need to</span></div>
<div class="line"><span class="lineno">  124</span>                <span class="comment">//   deal with the worst case.</span></div>
<div class="line"><span class="lineno">  125</span>                <span class="comment">//</span></div>
<div class="line"><span class="lineno">  126</span>                <span class="comment">// To cover these situations we use an EventFile. The child</span></div>
<div class="line"><span class="lineno">  127</span>                <span class="comment">// process will not exec() before the parent process signals.</span></div>
<div class="line"><span class="lineno">  128</span>                <span class="comment">// If something goes wrong in the parent process then the</span></div>
<div class="line"><span class="lineno">  129</span>                <span class="comment">// child process is killed.</span></div>
<div class="line"><span class="lineno">  130</span> </div>
<div class="line"><span class="lineno">  131</span>                EventFile ev;</div>
<div class="line"><span class="lineno">  132</span> </div>
<div class="line"><span class="lineno">  133</span>                <span class="keywordflow">if</span> (<span class="keyword">auto</span> child = proc::fork(); child != std::nullopt) {</div>
<div class="line"><span class="lineno">  134</span>                        <span class="keyword">auto</span> pid = *child;</div>
<div class="line"><span class="lineno">  135</span>                        <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  136</span>                                <span class="keyword">auto</span> pidfile = UnsafeProcessFile{pid};</div>
<div class="line"><span class="lineno">  137</span>                                <span class="keyword">auto</span> pidfd = pidfile.fd();</div>
<div class="line"><span class="lineno">  138</span>                                ev.signal();</div>
<div class="line"><span class="lineno">  139</span>                                pidfile.invalidate();</div>
<div class="line"><span class="lineno">  140</span>                                <span class="keywordflow">return</span> SubProc{pid, pidfd};</div>
<div class="line"><span class="lineno">  141</span>                        } <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><span class="lineno">  142</span>                                <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  143</span>                                        signal::send(pid, signal::KILL);</div>
<div class="line"><span class="lineno">  144</span>                                } <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;ex) {</div>
<div class="line"><span class="lineno">  145</span>                                        std::cerr &lt;&lt; <span class="stringliteral">&quot;WARNING: failed to kill half-ready child process\n&quot;</span>;</div>
<div class="line"><span class="lineno">  146</span>                                }</div>
<div class="line"><span class="lineno">  147</span>                                (void)proc::wait(pid);</div>
<div class="line"><span class="lineno">  148</span>                                <span class="keywordflow">throw</span>;</div>
<div class="line"><span class="lineno">  149</span>                        }</div>
<div class="line"><span class="lineno">  150</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  151</span>                        <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  152</span>                                <span class="comment">// wait for the parent to signal us to</span></div>
<div class="line"><span class="lineno">  153</span>                                <span class="comment">// continue to exec()</span></div>
<div class="line"><span class="lineno">  154</span>                                ev.wait();</div>
<div class="line"><span class="lineno">  155</span>                        } <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;ex) {</div>
<div class="line"><span class="lineno">  156</span>                                print_child_error(<span class="stringliteral">&quot;post fork/ev wait&quot;</span>, ex.what());</div>
<div class="line"><span class="lineno">  157</span>                                proc::exit(ExitStatus{3});</div>
<div class="line"><span class="lineno">  158</span>                        }</div>
<div class="line"><span class="lineno">  159</span>                }</div>
<div class="line"><span class="lineno">  160</span>        }</div>
<div class="line"><span class="lineno">  161</span> </div>
<div class="line"><span class="lineno">  162</span>        <span class="comment">// the child process -- let&#39;s do something!</span></div>
<div class="line"><span class="lineno">  163</span> </div>
<div class="line"><span class="lineno">  164</span>        <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  165</span>                <a class="code hl_function" href="#a37820e1f7b6ba1f83e690f58132f14cb">postFork</a>();</div>
<div class="line"><span class="lineno">  166</span> </div>
<div class="line"><span class="lineno">  167</span>                <span class="keyword">auto</span> argv = setup_argv(<a class="code hl_variable" href="#a1a756ede6fcaf59a1ef32d169d5a42e5">m_argv</a>);</div>
<div class="line"><span class="lineno">  168</span> </div>
<div class="line"><span class="lineno">  169</span>                <span class="keywordflow">if</span> (!<a class="code hl_variable" href="#a792cbbfac0edf8a66a80c3d70884bdc9">m_env</a>) {</div>
<div class="line"><span class="lineno">  170</span>                        proc::exec(argv[0], &amp;argv);</div>
<div class="line"><span class="lineno">  171</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  172</span>                        <span class="keyword">auto</span> envp = setup_env(<a class="code hl_variable" href="#a792cbbfac0edf8a66a80c3d70884bdc9">m_env</a>.value());</div>
<div class="line"><span class="lineno">  173</span>                        proc::exec(argv[0], &amp;argv, &amp;envp);</div>
<div class="line"><span class="lineno">  174</span>                }</div>
<div class="line"><span class="lineno">  175</span>        } <span class="keywordflow">catch</span> (<span class="keyword">const</span> CosmosError &amp;ce) {</div>
<div class="line"><span class="lineno">  176</span>                print_child_error(<span class="stringliteral">&quot;post fork/exec&quot;</span>, ce.what());</div>
<div class="line"><span class="lineno">  177</span>                <span class="comment">// use something else than &quot;1&quot; which might help debugging this</span></div>
<div class="line"><span class="lineno">  178</span>                <span class="comment">// situation a bit.</span></div>
<div class="line"><span class="lineno">  179</span>                proc::exit(ExitStatus{3});</div>
<div class="line"><span class="lineno">  180</span>        }</div>
<div class="line"><span class="lineno">  181</span> </div>
<div class="line"><span class="lineno">  182</span>        <span class="comment">// should never be reached</span></div>
<div class="line"><span class="lineno">  183</span>        <span class="keywordflow">return</span> SubProc();</div>
<div class="line"><span class="lineno">  184</span>}</div>
<div class="ttc" id="aclasscosmos_1_1ChildCloner_html_a37820e1f7b6ba1f83e690f58132f14cb"><div class="ttname"><a href="#a37820e1f7b6ba1f83e690f58132f14cb">cosmos::ChildCloner::postFork</a></div><div class="ttdeci">void postFork()</div><div class="ttdoc">Performs settings needed after forking i.e. in the child process but before exec()'ing.</div><div class="ttdef"><b>Definition</b> <a href="ChildCloner_8cxx_source.html#l00195">ChildCloner.cxx:195</a></div></div>
<div class="ttc" id="aclasscosmos_1_1ChildCloner_html_a792cbbfac0edf8a66a80c3d70884bdc9"><div class="ttname"><a href="#a792cbbfac0edf8a66a80c3d70884bdc9">cosmos::ChildCloner::m_env</a></div><div class="ttdeci">std::optional&lt; StringVector &gt; m_env</div><div class="ttdoc">Explicit environment child environment variables, if any.</div><div class="ttdef"><b>Definition</b> <a href="ChildCloner_8hxx_source.html#l00287">ChildCloner.hxx:287</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1d8725b0d8d1f8a39ea16792289adb41" name="a1d8725b0d8d1f8a39ea16792289adb41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d8725b0d8d1f8a39ea16792289adb41">&#9670;&#160;</a></span>setArgs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void cosmos::ChildCloner::setArgs </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="string_8hxx.html#a223f8d21861458782531ac6e8d1db210">StringVector</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>sv</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the argument vector to be used including argv0. </p>
<p>This also sets a new executable path from sv[0], or clears the executable, if <code>sv</code> is empty. </p>

<p class="definition">Definition at line <a class="el" href="ChildCloner_8hxx_source.html#l00095">95</a> of file <a class="el" href="ChildCloner_8hxx_source.html">ChildCloner.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   95</span>                                             {</div>
<div class="line"><span class="lineno">   96</span>                <a class="code hl_variable" href="#a1a756ede6fcaf59a1ef32d169d5a42e5">m_argv</a> = sv;</div>
<div class="line"><span class="lineno">   97</span>                setExeFromArgv0();</div>
<div class="line"><span class="lineno">   98</span>        }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad33eacc0728acfa45dd4757bb467be93" name="ad33eacc0728acfa45dd4757bb467be93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad33eacc0728acfa45dd4757bb467be93">&#9670;&#160;</a></span>setArgsFromView()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void cosmos::ChildCloner::setArgsFromView </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="string_8hxx.html#abbbd4359f4973e6b53e7b323560a3955">StringViewVector</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>svv</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a1d8725b0d8d1f8a39ea16792289adb41" title="Sets the argument vector to be used including argv0.">setArgs(const StringVector &amp;)</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="ChildCloner_8hxx_source.html#l00101">101</a> of file <a class="el" href="ChildCloner_8hxx_source.html">ChildCloner.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  101</span>                                                          {</div>
<div class="line"><span class="lineno">  102</span>                <a class="code hl_variable" href="#a1a756ede6fcaf59a1ef32d169d5a42e5">m_argv</a>.clear();</div>
<div class="line"><span class="lineno">  103</span>                <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> s: svv)</div>
<div class="line"><span class="lineno">  104</span>                        <a class="code hl_variable" href="#a1a756ede6fcaf59a1ef32d169d5a42e5">m_argv</a>.push_back(std::string{s});</div>
<div class="line"><span class="lineno">  105</span>                setExeFromArgv0();</div>
<div class="line"><span class="lineno">  106</span>        }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a56547ce4aa89e2586526010f21914f18" name="a56547ce4aa89e2586526010f21914f18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56547ce4aa89e2586526010f21914f18">&#9670;&#160;</a></span>setArgv0()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void cosmos::ChildCloner::setArgv0 </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>sets argv0 from the current executable name. </p>

<p class="definition">Definition at line <a class="el" href="ChildCloner_8hxx_source.html#l00264">264</a> of file <a class="el" href="ChildCloner_8hxx_source.html">ChildCloner.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  264</span>                        {</div>
<div class="line"><span class="lineno">  265</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a1a756ede6fcaf59a1ef32d169d5a42e5">m_argv</a>.empty())</div>
<div class="line"><span class="lineno">  266</span>                        <a class="code hl_variable" href="#a1a756ede6fcaf59a1ef32d169d5a42e5">m_argv</a>.emplace_back(<a class="code hl_variable" href="#a7066bc1d82e84a37870f7387a040ca29">m_executable</a>);</div>
<div class="line"><span class="lineno">  267</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  268</span>                        <a class="code hl_variable" href="#a1a756ede6fcaf59a1ef32d169d5a42e5">m_argv</a>[0] = <a class="code hl_variable" href="#a7066bc1d82e84a37870f7387a040ca29">m_executable</a>;</div>
<div class="line"><span class="lineno">  269</span>        }</div>
</div><!-- fragment -->
</div>
</div>
<a id="afe2f8a2a6f7241bdc367fdf8939095fc" name="afe2f8a2a6f7241bdc367fdf8939095fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe2f8a2a6f7241bdc367fdf8939095fc">&#9670;&#160;</a></span>setCWD()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void cosmos::ChildCloner::setCWD </td>
          <td>(</td>
          <td class="paramtype">const std::string_view</td>          <td class="paramname"><span class="paramname"><em>cwd</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set an explicit working directory the child process. </p>
<p>If <code>cwd</code> is empty then the parent process's CWD is inherited to the child. </p>

<p class="definition">Definition at line <a class="el" href="ChildCloner_8hxx_source.html#l00124">124</a> of file <a class="el" href="ChildCloner_8hxx_source.html">ChildCloner.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  124</span>{ <a class="code hl_variable" href="#a8f0f7351d8ff0bf14c528e6f425c3502">m_cwd</a> = cwd; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a6e06d30965b6a0541d40cf6c2a338384" name="a6e06d30965b6a0541d40cf6c2a338384"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e06d30965b6a0541d40cf6c2a338384">&#9670;&#160;</a></span>setEnv()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void cosmos::ChildCloner::setEnv </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="string_8hxx.html#a223f8d21861458782531ac6e8d1db210">StringVector</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>vars</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets explicit environment variables for the child process. </p>
<p>By default the parent process's environment is inherited to the child (see also <a class="el" href="#a4d781fd11bd639e39150dae2dacf7973" title="Clears any previously set environment variables and let&#39;s to-be-started child processes inherit the p...">setInheritEnv()</a>).</p>
<p>Each entry in the provided vector should be of the form "name=value". The provided variables will make up the <em>complete</em> child process environment. </p>

<p class="definition">Definition at line <a class="el" href="ChildCloner_8hxx_source.html#l00141">141</a> of file <a class="el" href="ChildCloner_8hxx_source.html">ChildCloner.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  141</span>{ <a class="code hl_variable" href="#a792cbbfac0edf8a66a80c3d70884bdc9">m_env</a> = vars; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a34a008d9d18a20f7f8db58e452fee2a3" name="a34a008d9d18a20f7f8db58e452fee2a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34a008d9d18a20f7f8db58e452fee2a3">&#9670;&#160;</a></span>setExe()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void cosmos::ChildCloner::setExe </td>
          <td>(</td>
          <td class="paramtype">const std::string_view</td>          <td class="paramname"><span class="paramname"><em>exe</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the path to the executable and argv0. </p>
<p>The actual executable path and argv0 will always be the same. You can change argv0, if necessary via <a class="el" href="#a7c0e8403ea1a4523ff59e25bbc6cc662">getArgs()</a>. </p>

<p class="definition">Definition at line <a class="el" href="ChildCloner_8hxx_source.html#l00073">73</a> of file <a class="el" href="ChildCloner_8hxx_source.html">ChildCloner.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   73</span>                                              {</div>
<div class="line"><span class="lineno">   74</span>                <a class="code hl_variable" href="#a7066bc1d82e84a37870f7387a040ca29">m_executable</a> = exe;</div>
<div class="line"><span class="lineno">   75</span>                <a class="code hl_function" href="#a56547ce4aa89e2586526010f21914f18">setArgv0</a>();</div>
<div class="line"><span class="lineno">   76</span>        }</div>
<div class="ttc" id="aclasscosmos_1_1ChildCloner_html_a56547ce4aa89e2586526010f21914f18"><div class="ttname"><a href="#a56547ce4aa89e2586526010f21914f18">cosmos::ChildCloner::setArgv0</a></div><div class="ttdeci">void setArgv0()</div><div class="ttdoc">sets argv0 from the current executable name.</div><div class="ttdef"><b>Definition</b> <a href="ChildCloner_8hxx_source.html#l00264">ChildCloner.hxx:264</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a825897003ca3ca45b61e80458de3d1bb" name="a825897003ca3ca45b61e80458de3d1bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a825897003ca3ca45b61e80458de3d1bb">&#9670;&#160;</a></span>setExeFromArgv0()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void cosmos::ChildCloner::setExeFromArgv0 </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ChildCloner_8hxx_source.html#l00271">271</a> of file <a class="el" href="ChildCloner_8hxx_source.html">ChildCloner.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  271</span>                               {</div>
<div class="line"><span class="lineno">  272</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a1a756ede6fcaf59a1ef32d169d5a42e5">m_argv</a>.empty())</div>
<div class="line"><span class="lineno">  273</span>                        <a class="code hl_variable" href="#a7066bc1d82e84a37870f7387a040ca29">m_executable</a>.clear();</div>
<div class="line"><span class="lineno">  274</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  275</span>                        <a class="code hl_variable" href="#a7066bc1d82e84a37870f7387a040ca29">m_executable</a> = <a class="code hl_variable" href="#a1a756ede6fcaf59a1ef32d169d5a42e5">m_argv</a>[0];</div>
<div class="line"><span class="lineno">  276</span>        }</div>
</div><!-- fragment -->
</div>
</div>
<a id="adc103dc930726ceeb9346c134af3ad28" name="adc103dc930726ceeb9346c134af3ad28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc103dc930726ceeb9346c134af3ad28">&#9670;&#160;</a></span>setInheritCWD()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void cosmos::ChildCloner::setInheritCWD </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Clear a previously configured CWD and inherit it from the parent. </p>

<p class="definition">Definition at line <a class="el" href="ChildCloner_8hxx_source.html#l00130">130</a> of file <a class="el" href="ChildCloner_8hxx_source.html">ChildCloner.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  130</span>{ <a class="code hl_variable" href="#a8f0f7351d8ff0bf14c528e6f425c3502">m_cwd</a>.clear(); }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a4d781fd11bd639e39150dae2dacf7973" name="a4d781fd11bd639e39150dae2dacf7973"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d781fd11bd639e39150dae2dacf7973">&#9670;&#160;</a></span>setInheritEnv()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void cosmos::ChildCloner::setInheritEnv </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Clears any previously set environment variables and let's to-be-started child processes inherit the parent's environment. </p>

<p class="definition">Definition at line <a class="el" href="ChildCloner_8hxx_source.html#l00145">145</a> of file <a class="el" href="ChildCloner_8hxx_source.html">ChildCloner.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  145</span>{ <a class="code hl_variable" href="#a792cbbfac0edf8a66a80c3d70884bdc9">m_env</a>.reset(); }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac8e20c23d99db0616e444001b01cdc29" name="ac8e20c23d99db0616e444001b01cdc29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8e20c23d99db0616e444001b01cdc29">&#9670;&#160;</a></span>setInheritSchedulerSettings()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void cosmos::ChildCloner::setInheritSchedulerSettings </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>clear previously set scheduler settings and inherit them from the parent instead </p>

<p class="definition">Definition at line <a class="el" href="ChildCloner_8hxx_source.html#l00213">213</a> of file <a class="el" href="ChildCloner_8hxx_source.html">ChildCloner.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  213</span>{ <a class="code hl_variable" href="#a95cdda3970ca6cba46e36616e806c9e7">m_sched_settings</a>.reset(); }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a735a0fc4c3e5502d40753f52281b75df" name="a735a0fc4c3e5502d40753f52281b75df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a735a0fc4c3e5502d40753f52281b75df">&#9670;&#160;</a></span>setPostForkCB()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void cosmos::ChildCloner::setPostForkCB </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a66c9b25e2f7d1f53b75c80c11c721d7a">Callback</a></td>          <td class="paramname"><span class="paramname"><em>cb</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets a callback function to be invoked in the child process context. </p>
<p>This function will be invoked in the child process after the clone happened but before the new program is executed. It can be used to perform custom child process setup, but care should be taken not to interfere with the <a class="el" href="classcosmos_1_1SubProc.html" title="Represents a child process created via ChildCloner.">SubProc</a>'s internal child process setup.</p>
<p>This callback is invoked <em>before</em> any redirections or other settings are performed by the implementation.</p>
<p>Be aware that any exceptions thrown from this callback will prevent the child process from executing, but you will not be notified about this apart from premature exit of the child process. </p>

<p class="definition">Definition at line <a class="el" href="ChildCloner_8hxx_source.html#l00229">229</a> of file <a class="el" href="ChildCloner_8hxx_source.html">ChildCloner.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  229</span>{ m_post_fork_cb = cb; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab1765118ceb5c3979473f7686f62dc01" name="ab1765118ceb5c3979473f7686f62dc01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1765118ceb5c3979473f7686f62dc01">&#9670;&#160;</a></span>setSchedulerSettings()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename SCHED_SETTING &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void cosmos::ChildCloner::setSchedulerSettings </td>
          <td>(</td>
          <td class="paramtype">const SCHED_SETTING &amp;</td>          <td class="paramname"><span class="paramname"><em>ss</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets scheduler type and settings. </p>
<p>By default the parent's scheduling settings will be inherited. If you want to explicitly change scheduling settings then apply the appropriate settings here. </p>

<p class="definition">Definition at line <a class="el" href="ChildCloner_8hxx_source.html#l00210">210</a> of file <a class="el" href="ChildCloner_8hxx_source.html">ChildCloner.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  210</span>{ <a class="code hl_variable" href="#a95cdda3970ca6cba46e36616e806c9e7">m_sched_settings</a> = ss; };</div>
</div><!-- fragment -->
</div>
</div>
<a id="a46ed360ea334362ad8dd6074995d4a77" name="a46ed360ea334362ad8dd6074995d4a77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46ed360ea334362ad8dd6074995d4a77">&#9670;&#160;</a></span>setStdErr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void cosmos::ChildCloner::setStdErr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcosmos_1_1FileDescriptor.html">FileDescriptor</a></td>          <td class="paramname"><span class="paramname"><em>fd</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Redirect the child's stderr to the given file descriptor. </p>
<p>This only affects yet to be started child processes. The file descriptor is expected to have the close-on-exec flag set, the inheritance to the child process will be performed appropriately by the implementation. </p>

<p class="definition">Definition at line <a class="el" href="ChildCloner_8hxx_source.html#l00154">154</a> of file <a class="el" href="ChildCloner_8hxx_source.html">ChildCloner.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  154</span>{ <a class="code hl_variable" href="#a9ae936848fedf0b7b046bf38fcfe5311">m_stderr</a> = fd; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a36bf1e6804cd85844ae72e688db65678" name="a36bf1e6804cd85844ae72e688db65678"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36bf1e6804cd85844ae72e688db65678">&#9670;&#160;</a></span>setStdIn()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void cosmos::ChildCloner::setStdIn </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcosmos_1_1FileDescriptor.html">FileDescriptor</a></td>          <td class="paramname"><span class="paramname"><em>fd</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section see"><dt>See also</dt><dd>setStderr() </dd></dl>

<p class="definition">Definition at line <a class="el" href="ChildCloner_8hxx_source.html#l00158">158</a> of file <a class="el" href="ChildCloner_8hxx_source.html">ChildCloner.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  158</span>{ <a class="code hl_variable" href="#ae6ca8fd244fd960dd782b2c05d85f2b5">m_stdin</a> = fd; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a5f393b09509e8de5d89d50261f3b464b" name="a5f393b09509e8de5d89d50261f3b464b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f393b09509e8de5d89d50261f3b464b">&#9670;&#160;</a></span>setStdOut()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void cosmos::ChildCloner::setStdOut </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcosmos_1_1FileDescriptor.html">FileDescriptor</a></td>          <td class="paramname"><span class="paramname"><em>fd</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section see"><dt>See also</dt><dd>setStderr() </dd></dl>

<p class="definition">Definition at line <a class="el" href="ChildCloner_8hxx_source.html#l00156">156</a> of file <a class="el" href="ChildCloner_8hxx_source.html">ChildCloner.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  156</span>{ <a class="code hl_variable" href="#abef26a1f3b362eed8f0d698f20a4e611">m_stdout</a> = fd; }</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Friends And Related Symbol Documentation</h2>
<a id="ac77f82fbfff88ae49f16192d5577961f" name="ac77f82fbfff88ae49f16192d5577961f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac77f82fbfff88ae49f16192d5577961f">&#9670;&#160;</a></span>operator&lt;&lt;</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::ostream &amp; operator&lt;&lt; </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;</td>          <td class="paramname"><span class="paramname"><em>o</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classcosmos_1_1ChildCloner.html">ChildCloner</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>proc</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Outputs a summary of the <a class="el" href="classcosmos_1_1ChildCloner.html" title="Sub process creation facility.">ChildCloner</a>'s configuration. </p>

<p class="definition">Definition at line <a class="el" href="ChildCloner_8cxx_source.html#l00236">236</a> of file <a class="el" href="ChildCloner_8cxx_source.html">ChildCloner.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  236</span>                                                                     {</div>
<div class="line"><span class="lineno">  237</span>        o &lt;&lt; <span class="stringliteral">&quot;Arguments: &quot;</span> &lt;&lt; proc.getArgs() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno">  238</span>        <span class="keywordflow">if</span> (!proc.getCWD().empty())</div>
<div class="line"><span class="lineno">  239</span>                o &lt;&lt; <span class="stringliteral">&quot;CWD: &quot;</span> &lt;&lt; proc.getCWD() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno">  240</span> </div>
<div class="line"><span class="lineno">  241</span>        <span class="keywordflow">return</span> o;</div>
<div class="line"><span class="lineno">  242</span>}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a1a756ede6fcaf59a1ef32d169d5a42e5" name="a1a756ede6fcaf59a1ef32d169d5a42e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a756ede6fcaf59a1ef32d169d5a42e5">&#9670;&#160;</a></span>m_argv</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="string_8hxx.html#a223f8d21861458782531ac6e8d1db210">StringVector</a> cosmos::ChildCloner::m_argv</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Argument vector including argv0 denoting the executable name (which can be different than m_executable. </p>

<p class="definition">Definition at line <a class="el" href="ChildCloner_8hxx_source.html#l00283">283</a> of file <a class="el" href="ChildCloner_8hxx_source.html">ChildCloner.hxx</a>.</p>

</div>
</div>
<a id="a8f0f7351d8ff0bf14c528e6f425c3502" name="a8f0f7351d8ff0bf14c528e6f425c3502"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f0f7351d8ff0bf14c528e6f425c3502">&#9670;&#160;</a></span>m_cwd</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string cosmos::ChildCloner::m_cwd</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Path to an explicit working directory, if any. </p>

<p class="definition">Definition at line <a class="el" href="ChildCloner_8hxx_source.html#l00285">285</a> of file <a class="el" href="ChildCloner_8hxx_source.html">ChildCloner.hxx</a>.</p>

</div>
</div>
<a id="a792cbbfac0edf8a66a80c3d70884bdc9" name="a792cbbfac0edf8a66a80c3d70884bdc9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a792cbbfac0edf8a66a80c3d70884bdc9">&#9670;&#160;</a></span>m_env</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::optional&lt;<a class="el" href="string_8hxx.html#a223f8d21861458782531ac6e8d1db210">StringVector</a>&gt; cosmos::ChildCloner::m_env</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Explicit environment child environment variables, if any. </p>

<p class="definition">Definition at line <a class="el" href="ChildCloner_8hxx_source.html#l00287">287</a> of file <a class="el" href="ChildCloner_8hxx_source.html">ChildCloner.hxx</a>.</p>

</div>
</div>
<a id="a7066bc1d82e84a37870f7387a040ca29" name="a7066bc1d82e84a37870f7387a040ca29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7066bc1d82e84a37870f7387a040ca29">&#9670;&#160;</a></span>m_executable</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string cosmos::ChildCloner::m_executable</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Path to the child process executable to run. </p>

<p class="definition">Definition at line <a class="el" href="ChildCloner_8hxx_source.html#l00281">281</a> of file <a class="el" href="ChildCloner_8hxx_source.html">ChildCloner.hxx</a>.</p>

</div>
</div>
<a id="af6c8108a9d79716f3b68e3c90b3ddde3" name="af6c8108a9d79716f3b68e3c90b3ddde3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6c8108a9d79716f3b68e3c90b3ddde3">&#9670;&#160;</a></span>m_inherit_fds</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="classcosmos_1_1FileDescriptor.html">FileDescriptor</a>&gt; cosmos::ChildCloner::m_inherit_fds</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Additional file descriptors to inherit to the child process. </p>

<p class="definition">Definition at line <a class="el" href="ChildCloner_8hxx_source.html#l00298">298</a> of file <a class="el" href="ChildCloner_8hxx_source.html">ChildCloner.hxx</a>.</p>

</div>
</div>
<a id="aab0f76333ee114179f6e8465d6b1279c" name="aab0f76333ee114179f6e8465d6b1279c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab0f76333ee114179f6e8465d6b1279c">&#9670;&#160;</a></span>m_post_fork_cb</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a66c9b25e2f7d1f53b75c80c11c721d7a">Callback</a> cosmos::ChildCloner::m_post_fork_cb = nullptr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ChildCloner_8hxx_source.html#l00300">300</a> of file <a class="el" href="ChildCloner_8hxx_source.html">ChildCloner.hxx</a>.</p>

</div>
</div>
<a id="a95cdda3970ca6cba46e36616e806c9e7" name="a95cdda3970ca6cba46e36616e806c9e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95cdda3970ca6cba46e36616e806c9e7">&#9670;&#160;</a></span>m_sched_settings</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::optional&lt;SchedulerSettingsVariant&gt; cosmos::ChildCloner::m_sched_settings</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Scheduler policy settings, if any. </p>

<p class="definition">Definition at line <a class="el" href="ChildCloner_8hxx_source.html#l00289">289</a> of file <a class="el" href="ChildCloner_8hxx_source.html">ChildCloner.hxx</a>.</p>

</div>
</div>
<a id="a9ae936848fedf0b7b046bf38fcfe5311" name="a9ae936848fedf0b7b046bf38fcfe5311"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ae936848fedf0b7b046bf38fcfe5311">&#9670;&#160;</a></span>m_stderr</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcosmos_1_1FileDescriptor.html">FileDescriptor</a> cosmos::ChildCloner::m_stderr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="classcosmos_1_1File.html" title="File objects that are opened by pathname.">File</a> descriptor to use as child's stderr. </p>

<p class="definition">Definition at line <a class="el" href="ChildCloner_8hxx_source.html#l00294">294</a> of file <a class="el" href="ChildCloner_8hxx_source.html">ChildCloner.hxx</a>.</p>

</div>
</div>
<a id="ae6ca8fd244fd960dd782b2c05d85f2b5" name="ae6ca8fd244fd960dd782b2c05d85f2b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6ca8fd244fd960dd782b2c05d85f2b5">&#9670;&#160;</a></span>m_stdin</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcosmos_1_1FileDescriptor.html">FileDescriptor</a> cosmos::ChildCloner::m_stdin</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="classcosmos_1_1File.html" title="File objects that are opened by pathname.">File</a> descriptor to use as child's stdin. </p>

<p class="definition">Definition at line <a class="el" href="ChildCloner_8hxx_source.html#l00296">296</a> of file <a class="el" href="ChildCloner_8hxx_source.html">ChildCloner.hxx</a>.</p>

</div>
</div>
<a id="abef26a1f3b362eed8f0d698f20a4e611" name="abef26a1f3b362eed8f0d698f20a4e611"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abef26a1f3b362eed8f0d698f20a4e611">&#9670;&#160;</a></span>m_stdout</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcosmos_1_1FileDescriptor.html">FileDescriptor</a> cosmos::ChildCloner::m_stdout</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="classcosmos_1_1File.html" title="File objects that are opened by pathname.">File</a> descriptor to use as child's stdin. </p>

<p class="definition">Definition at line <a class="el" href="ChildCloner_8hxx_source.html#l00292">292</a> of file <a class="el" href="ChildCloner_8hxx_source.html">ChildCloner.hxx</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/proc/<a class="el" href="ChildCloner_8hxx_source.html">ChildCloner.hxx</a></li>
<li>src/proc/<a class="el" href="ChildCloner_8cxx_source.html">ChildCloner.cxx</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>cosmos</b></li><li class="navelem"><a class="el" href="classcosmos_1_1ChildCloner.html">ChildCloner</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
