<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libcosmos: cosmos::SignalFD Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">libcosmos
   </div>
   <div id="projectbrief">Linux C++ System Programming Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('classcosmos_1_1SignalFD.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classcosmos_1_1SignalFD-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">cosmos::SignalFD Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>A file descriptor for receiving process signals.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="SignalFD_8hxx_source.html">SignalFD.hxx</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcosmos_1_1SignalFD_1_1Info.html">Info</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classcosmos_1_1SigInfo.html" title="Signal information struct used when receiving signals.">SigInfo</a> style data structure returned by <a class="el" href="#a06e88d0f988c5090ab81aa2869af804b" title="Reads the next event event from the SignalFD.">SignalFD::readEvent()</a>.  <a href="classcosmos_1_1SignalFD_1_1Info.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a47ccb8cb66bb2d9c3ea96ea8543f5aae" id="r_a47ccb8cb66bb2d9c3ea96ea8543f5aae"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a47ccb8cb66bb2d9c3ea96ea8543f5aae">SignalFD</a> ()</td></tr>
<tr class="memdesc:a47ccb8cb66bb2d9c3ea96ea8543f5aae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates an invalid <a class="el" href="classcosmos_1_1SignalFD.html" title="A file descriptor for receiving process signals.">SignalFD</a> object.  <br /></td></tr>
<tr class="separator:a47ccb8cb66bb2d9c3ea96ea8543f5aae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3aa60ca0100c32f419f1f15168692e1f" id="r_a3aa60ca0100c32f419f1f15168692e1f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3aa60ca0100c32f419f1f15168692e1f">SignalFD</a> (const <a class="el" href="classcosmos_1_1SigSet.html">SigSet</a> &amp;mask)</td></tr>
<tr class="memdesc:a3aa60ca0100c32f419f1f15168692e1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a signal FD listening on the given signals.  <br /></td></tr>
<tr class="separator:a3aa60ca0100c32f419f1f15168692e1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a93aa8ff402671f2c5e4fc06c960715" id="r_a4a93aa8ff402671f2c5e4fc06c960715"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4a93aa8ff402671f2c5e4fc06c960715">SignalFD</a> (const std::initializer_list&lt; <a class="el" href="classcosmos_1_1Signal.html">Signal</a> &gt; siglist)</td></tr>
<tr class="memdesc:a4a93aa8ff402671f2c5e4fc06c960715"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a signal FD listening on the given list of signals.  <br /></td></tr>
<tr class="separator:a4a93aa8ff402671f2c5e4fc06c960715"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ccc303fbf069d17153bc4ffc07e4f09" id="r_a9ccc303fbf069d17153bc4ffc07e4f09"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9ccc303fbf069d17153bc4ffc07e4f09">SignalFD</a> (const <a class="el" href="classcosmos_1_1Signal.html">Signal</a> s)</td></tr>
<tr class="memdesc:a9ccc303fbf069d17153bc4ffc07e4f09"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a signal FD listening on exactly the given signal.  <br /></td></tr>
<tr class="separator:a9ccc303fbf069d17153bc4ffc07e4f09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17a712610d4eb3392532ae07de14899d" id="r_a17a712610d4eb3392532ae07de14899d"><td class="memItemLeft" align="right" valign="top"><a id="a17a712610d4eb3392532ae07de14899d" name="a17a712610d4eb3392532ae07de14899d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>SignalFD</b> (const <a class="el" href="classcosmos_1_1SignalFD.html">SignalFD</a> &amp;)=delete</td></tr>
<tr class="separator:a17a712610d4eb3392532ae07de14899d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae412f2cea773ae0072869533569bf77" id="r_aae412f2cea773ae0072869533569bf77"><td class="memItemLeft" align="right" valign="top"><a id="aae412f2cea773ae0072869533569bf77" name="aae412f2cea773ae0072869533569bf77"></a>
<a class="el" href="classcosmos_1_1SignalFD.html">SignalFD</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (const <a class="el" href="classcosmos_1_1SignalFD.html">SignalFD</a> &amp;)=delete</td></tr>
<tr class="separator:aae412f2cea773ae0072869533569bf77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9e9ffce1e8f1a9747d8ecb0b08adb1b" id="r_aa9e9ffce1e8f1a9747d8ecb0b08adb1b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa9e9ffce1e8f1a9747d8ecb0b08adb1b">create</a> (const <a class="el" href="classcosmos_1_1SigSet.html">SigSet</a> &amp;mask)</td></tr>
<tr class="memdesc:aa9e9ffce1e8f1a9747d8ecb0b08adb1b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new <a class="el" href="classcosmos_1_1SignalFD.html" title="A file descriptor for receiving process signals.">SignalFD</a>.  <br /></td></tr>
<tr class="separator:aa9e9ffce1e8f1a9747d8ecb0b08adb1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c9c76b9cb4fc4730e45f780e3ea70f9" id="r_a6c9c76b9cb4fc4730e45f780e3ea70f9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6c9c76b9cb4fc4730e45f780e3ea70f9">close</a> ()</td></tr>
<tr class="separator:a6c9c76b9cb4fc4730e45f780e3ea70f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73ea43dfaa0dd4fb893042cac0086856" id="r_a73ea43dfaa0dd4fb893042cac0086856"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a73ea43dfaa0dd4fb893042cac0086856">valid</a> () const</td></tr>
<tr class="separator:a73ea43dfaa0dd4fb893042cac0086856"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa84fa6fa5772f265310cf22cfeb209e7" id="r_aa84fa6fa5772f265310cf22cfeb209e7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa84fa6fa5772f265310cf22cfeb209e7">adjustMask</a> (const <a class="el" href="classcosmos_1_1SigSet.html">SigSet</a> &amp;mask)</td></tr>
<tr class="memdesc:aa84fa6fa5772f265310cf22cfeb209e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Change the signals the file descriptor is listening for.  <br /></td></tr>
<tr class="separator:aa84fa6fa5772f265310cf22cfeb209e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06e88d0f988c5090ab81aa2869af804b" id="r_a06e88d0f988c5090ab81aa2869af804b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a06e88d0f988c5090ab81aa2869af804b">readEvent</a> (<a class="el" href="classcosmos_1_1SignalFD_1_1Info.html">Info</a> &amp;info)</td></tr>
<tr class="memdesc:a06e88d0f988c5090ab81aa2869af804b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the next event event from the <a class="el" href="classcosmos_1_1SignalFD.html" title="A file descriptor for receiving process signals.">SignalFD</a>.  <br /></td></tr>
<tr class="separator:a06e88d0f988c5090ab81aa2869af804b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c4218089a4dd5083a48745fb241ab4f" id="r_a6c4218089a4dd5083a48745fb241ab4f"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6c4218089a4dd5083a48745fb241ab4f">fd</a> ()</td></tr>
<tr class="memdesc:a6c4218089a4dd5083a48745fb241ab4f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the <a class="el" href="classcosmos_1_1FileDescriptor.html" title="Thin Wrapper around OS file descriptors.">FileDescriptor</a> object associated with the <a class="el" href="classcosmos_1_1SignalFD.html" title="A file descriptor for receiving process signals.">SignalFD</a>.  <br /></td></tr>
<tr class="separator:a6c4218089a4dd5083a48745fb241ab4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:ad611c6e807f1f7e8b14c511cb8e9ce53" id="r_ad611c6e807f1f7e8b14c511cb8e9ce53"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcosmos_1_1FileDescriptor.html">FileDescriptor</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad611c6e807f1f7e8b14c511cb8e9ce53">m_fd</a></td></tr>
<tr class="separator:ad611c6e807f1f7e8b14c511cb8e9ce53"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A file descriptor for receiving process signals. </p>
<p>A <a class="el" href="classcosmos_1_1SignalFD.html" title="A file descriptor for receiving process signals.">SignalFD</a> is used for handling process signals on file descriptor level. During creation of the file descriptor the signals that the caller is interested in are declared. Once one of these signals is sent to the process, the file descriptor will become readable and returns the SignalFD::SigInfo data structure describing the event.</p>
<p>As usual with signal handling you need to block the signals that you want to handle synchronously via a <a class="el" href="classcosmos_1_1SignalFD.html" title="A file descriptor for receiving process signals.">SignalFD</a> by calling cosmos::signal::block(). Use the <a class="el" href="#a06e88d0f988c5090ab81aa2869af804b" title="Reads the next event event from the SignalFD.">readEvent()</a> member function to comfortably receive the signal information. The underlying file descriptor can be used with common file descriptor monitoring interfaces like <a class="el" href="classcosmos_1_1Poller.html" title="Efficient file descriptor I/O event polling.">Poller</a>.</p>
<p>The <a class="el" href="classcosmos_1_1SignalFD.html" title="A file descriptor for receiving process signals.">SignalFD</a> mirrors the behaviour of other ways to handle signals: When calling <a class="el" href="#a06e88d0f988c5090ab81aa2869af804b" title="Reads the next event event from the SignalFD.">readEvent()</a> then signals directed to the calling thread and those directed to the process can be received. Signals directed at other threads cannot be seen.</p>
<p>The <a class="el" href="#a06e88d0f988c5090ab81aa2869af804b" title="Reads the next event event from the SignalFD.">readEvent()</a> function fills in <a class="el" href="classcosmos_1_1SignalFD_1_1Info.html" title="SigInfo style data structure returned by SignalFD::readEvent().">SignalFD::Info</a>, a data structure that is very similar to the <a class="el" href="classcosmos_1_1SigInfo.html" title="Signal information struct used when receiving signals.">SigInfo</a> structure, but not quite, which made it necessary to model a distinct type for use with <a class="el" href="classcosmos_1_1SignalFD.html" title="A file descriptor for receiving process signals.">SignalFD</a>. </p>

<p class="definition">Definition at line <a class="el" href="SignalFD_8hxx_source.html#l00037">37</a> of file <a class="el" href="SignalFD_8hxx_source.html">SignalFD.hxx</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a47ccb8cb66bb2d9c3ea96ea8543f5aae" name="a47ccb8cb66bb2d9c3ea96ea8543f5aae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47ccb8cb66bb2d9c3ea96ea8543f5aae">&#9670;&#160;</a></span>SignalFD() <span class="overload">[1/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cosmos::SignalFD::SignalFD </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates an invalid <a class="el" href="classcosmos_1_1SignalFD.html" title="A file descriptor for receiving process signals.">SignalFD</a> object. </p>

<p class="definition">Definition at line <a class="el" href="SignalFD_8hxx_source.html#l00045">45</a> of file <a class="el" href="SignalFD_8hxx_source.html">SignalFD.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   45</span>{}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a7c7f198416a74f02343f125d68c179ab" name="a7c7f198416a74f02343f125d68c179ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c7f198416a74f02343f125d68c179ab">&#9670;&#160;</a></span>~SignalFD()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cosmos::SignalFD::~SignalFD </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SignalFD_8cxx_source.html#l00017">17</a> of file <a class="el" href="SignalFD_8cxx_source.html">SignalFD.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   17</span>                    {</div>
<div class="line"><span class="lineno">   18</span>        <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">   19</span>                close();</div>
<div class="line"><span class="lineno">   20</span>        } <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;ex) {</div>
<div class="line"><span class="lineno">   21</span>                noncritical_error(<span class="stringliteral">&quot;Failed to close signal fd&quot;</span>, ex);</div>
<div class="line"><span class="lineno">   22</span>        }</div>
<div class="line"><span class="lineno">   23</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a3aa60ca0100c32f419f1f15168692e1f" name="a3aa60ca0100c32f419f1f15168692e1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3aa60ca0100c32f419f1f15168692e1f">&#9670;&#160;</a></span>SignalFD() <span class="overload">[2/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cosmos::SignalFD::SignalFD </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classcosmos_1_1SigSet.html">SigSet</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>mask</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a signal FD listening on the given signals. </p>

<p class="definition">Definition at line <a class="el" href="SignalFD_8hxx_source.html#l00050">50</a> of file <a class="el" href="SignalFD_8hxx_source.html">SignalFD.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   50</span>                                              {</div>
<div class="line"><span class="lineno">   51</span>                <a class="code hl_function" href="#aa9e9ffce1e8f1a9747d8ecb0b08adb1b">create</a>(mask);</div>
<div class="line"><span class="lineno">   52</span>        }</div>
<div class="ttc" id="aclasscosmos_1_1SignalFD_html_aa9e9ffce1e8f1a9747d8ecb0b08adb1b"><div class="ttname"><a href="#aa9e9ffce1e8f1a9747d8ecb0b08adb1b">cosmos::SignalFD::create</a></div><div class="ttdeci">void create(const SigSet &amp;mask)</div><div class="ttdoc">Creates a new SignalFD.</div><div class="ttdef"><b>Definition</b> <a href="SignalFD_8cxx_source.html#l00025">SignalFD.cxx:25</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4a93aa8ff402671f2c5e4fc06c960715" name="a4a93aa8ff402671f2c5e4fc06c960715"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a93aa8ff402671f2c5e4fc06c960715">&#9670;&#160;</a></span>SignalFD() <span class="overload">[3/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cosmos::SignalFD::SignalFD </td>
          <td>(</td>
          <td class="paramtype">const std::initializer_list&lt; <a class="el" href="classcosmos_1_1Signal.html">Signal</a> &gt;</td>          <td class="paramname"><span class="paramname"><em>siglist</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a signal FD listening on the given list of signals. </p>

<p class="definition">Definition at line <a class="el" href="SignalFD_8hxx_source.html#l00055">55</a> of file <a class="el" href="SignalFD_8hxx_source.html">SignalFD.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   55</span>                                                                     {</div>
<div class="line"><span class="lineno">   56</span>                <a class="code hl_function" href="#aa9e9ffce1e8f1a9747d8ecb0b08adb1b">create</a>(SigSet{siglist});</div>
<div class="line"><span class="lineno">   57</span>        }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a9ccc303fbf069d17153bc4ffc07e4f09" name="a9ccc303fbf069d17153bc4ffc07e4f09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ccc303fbf069d17153bc4ffc07e4f09">&#9670;&#160;</a></span>SignalFD() <span class="overload">[4/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cosmos::SignalFD::SignalFD </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classcosmos_1_1Signal.html">Signal</a></td>          <td class="paramname"><span class="paramname"><em>s</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a signal FD listening on exactly the given signal. </p>

<p class="definition">Definition at line <a class="el" href="SignalFD_8hxx_source.html#l00060">60</a> of file <a class="el" href="SignalFD_8hxx_source.html">SignalFD.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   60</span>                                          {</div>
<div class="line"><span class="lineno">   61</span>                <a class="code hl_function" href="#aa9e9ffce1e8f1a9747d8ecb0b08adb1b">create</a>(SigSet{{s}});</div>
<div class="line"><span class="lineno">   62</span>        }</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aa84fa6fa5772f265310cf22cfeb209e7" name="aa84fa6fa5772f265310cf22cfeb209e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa84fa6fa5772f265310cf22cfeb209e7">&#9670;&#160;</a></span>adjustMask()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cosmos::SignalFD::adjustMask </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classcosmos_1_1SigSet.html">SigSet</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>mask</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Change the signals the file descriptor is listening for. </p>
<p>A valid <a class="el" href="classcosmos_1_1SignalFD.html" title="A file descriptor for receiving process signals.">SignalFD</a> must be opened for this to work, otherwise an exception is thrown. </p>

<p class="definition">Definition at line <a class="el" href="SignalFD_8cxx_source.html#l00035">35</a> of file <a class="el" href="SignalFD_8cxx_source.html">SignalFD.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   35</span>                                            {</div>
<div class="line"><span class="lineno">   36</span>        <span class="keywordflow">if</span> (!valid()) {</div>
<div class="line"><span class="lineno">   37</span>                cosmos_throw (UsageError(<span class="stringliteral">&quot;no signal fd currently open&quot;</span>));</div>
<div class="line"><span class="lineno">   38</span>        }</div>
<div class="line"><span class="lineno">   39</span> </div>
<div class="line"><span class="lineno">   40</span>        <span class="comment">// NOTE: it&#39;s unclear from the man page whether flags are used when</span></div>
<div class="line"><span class="lineno">   41</span>        <span class="comment">// modifying an existing signal fd. Let&#39;s pass on zero, hoping that no</span></div>
<div class="line"><span class="lineno">   42</span>        <span class="comment">// flags will be taken away again through this.</span></div>
<div class="line"><span class="lineno">   43</span>        <span class="keyword">auto</span> <a class="code hl_function" href="#a6c4218089a4dd5083a48745fb241ab4f">fd</a> = ::signalfd(to_integral(m_fd.<a class="code hl_function" href="classcosmos_1_1FileDescriptor.html#aa0137047595389228c9cc92c54804c22">raw</a>()), mask.raw(), 0);</div>
<div class="line"><span class="lineno">   44</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="#a6c4218089a4dd5083a48745fb241ab4f">fd</a> == -1) {</div>
<div class="line"><span class="lineno">   45</span>                cosmos_throw (ApiError(<span class="stringliteral">&quot;signalfd()&quot;</span>));</div>
<div class="line"><span class="lineno">   46</span>        }</div>
<div class="line"><span class="lineno">   47</span>}</div>
<div class="ttc" id="aclasscosmos_1_1FileDescriptor_html_aa0137047595389228c9cc92c54804c22"><div class="ttname"><a href="classcosmos_1_1FileDescriptor.html#aa0137047595389228c9cc92c54804c22">cosmos::FileDescriptor::raw</a></div><div class="ttdeci">FileNum raw() const</div><div class="ttdoc">Returns the primitive file descriptor contained in the object.</div><div class="ttdef"><b>Definition</b> <a href="FileDescriptor_8hxx_source.html#l00341">FileDescriptor.hxx:341</a></div></div>
<div class="ttc" id="aclasscosmos_1_1SignalFD_html_a6c4218089a4dd5083a48745fb241ab4f"><div class="ttname"><a href="#a6c4218089a4dd5083a48745fb241ab4f">cosmos::SignalFD::fd</a></div><div class="ttdeci">auto fd()</div><div class="ttdoc">Returns the FileDescriptor object associated with the SignalFD.</div><div class="ttdef"><b>Definition</b> <a href="SignalFD_8hxx_source.html#l00098">SignalFD.hxx:98</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6c9c76b9cb4fc4730e45f780e3ea70f9" name="a6c9c76b9cb4fc4730e45f780e3ea70f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c9c76b9cb4fc4730e45f780e3ea70f9">&#9670;&#160;</a></span>close()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void cosmos::SignalFD::close </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SignalFD_8hxx_source.html#l00075">75</a> of file <a class="el" href="SignalFD_8hxx_source.html">SignalFD.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   75</span>{ m_fd.<a class="code hl_function" href="classcosmos_1_1FileDescriptor.html#a7d8cb113b20ab2a267a545f878a5c3c8">close</a>(); }</div>
<div class="ttc" id="aclasscosmos_1_1FileDescriptor_html_a7d8cb113b20ab2a267a545f878a5c3c8"><div class="ttname"><a href="classcosmos_1_1FileDescriptor.html#a7d8cb113b20ab2a267a545f878a5c3c8">cosmos::FileDescriptor::close</a></div><div class="ttdeci">void close()</div><div class="ttdoc">Explicitly close the contained FD.</div><div class="ttdef"><b>Definition</b> <a href="FileDescriptor_8cxx_source.html#l00017">FileDescriptor.cxx:17</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa9e9ffce1e8f1a9747d8ecb0b08adb1b" name="aa9e9ffce1e8f1a9747d8ecb0b08adb1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9e9ffce1e8f1a9747d8ecb0b08adb1b">&#9670;&#160;</a></span>create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cosmos::SignalFD::create </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classcosmos_1_1SigSet.html">SigSet</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>mask</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new <a class="el" href="classcosmos_1_1SignalFD.html" title="A file descriptor for receiving process signals.">SignalFD</a>. </p>
<p>if a <a class="el" href="classcosmos_1_1SignalFD.html" title="A file descriptor for receiving process signals.">SignalFD</a> is already open then it will be closed first. If an error occurs creating the new <a class="el" href="classcosmos_1_1SignalFD.html" title="A file descriptor for receiving process signals.">SignalFD</a> then an exception is thrown. </p>

<p class="definition">Definition at line <a class="el" href="SignalFD_8cxx_source.html#l00025">25</a> of file <a class="el" href="SignalFD_8cxx_source.html">SignalFD.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   25</span>                                        {</div>
<div class="line"><span class="lineno">   26</span>        close();</div>
<div class="line"><span class="lineno">   27</span>        <span class="keyword">auto</span> <a class="code hl_function" href="#a6c4218089a4dd5083a48745fb241ab4f">fd</a> = ::signalfd(-1, mask.raw(), SFD_CLOEXEC);</div>
<div class="line"><span class="lineno">   28</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="#a6c4218089a4dd5083a48745fb241ab4f">fd</a> == -1) {</div>
<div class="line"><span class="lineno">   29</span>                cosmos_throw (ApiError(<span class="stringliteral">&quot;signalfd()&quot;</span>));</div>
<div class="line"><span class="lineno">   30</span>        }</div>
<div class="line"><span class="lineno">   31</span> </div>
<div class="line"><span class="lineno">   32</span>        m_fd.<a class="code hl_function" href="classcosmos_1_1FileDescriptor.html#abf3c45dc8d39d7f249a6f8c6e3ed9172">setFD</a>(FileNum{<a class="code hl_function" href="#a6c4218089a4dd5083a48745fb241ab4f">fd</a>});</div>
<div class="line"><span class="lineno">   33</span>}</div>
<div class="ttc" id="aclasscosmos_1_1FileDescriptor_html_abf3c45dc8d39d7f249a6f8c6e3ed9172"><div class="ttname"><a href="classcosmos_1_1FileDescriptor.html#abf3c45dc8d39d7f249a6f8c6e3ed9172">cosmos::FileDescriptor::setFD</a></div><div class="ttdeci">void setFD(const FileNum fd)</div><div class="ttdoc">Assigns a new primitive file descriptor to the object.</div><div class="ttdef"><b>Definition</b> <a href="FileDescriptor_8hxx_source.html#l00203">FileDescriptor.hxx:203</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6c4218089a4dd5083a48745fb241ab4f" name="a6c4218089a4dd5083a48745fb241ab4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c4218089a4dd5083a48745fb241ab4f">&#9670;&#160;</a></span>fd()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto cosmos::SignalFD::fd </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the <a class="el" href="classcosmos_1_1FileDescriptor.html" title="Thin Wrapper around OS file descriptors.">FileDescriptor</a> object associated with the <a class="el" href="classcosmos_1_1SignalFD.html" title="A file descriptor for receiving process signals.">SignalFD</a>. </p>

<p class="definition">Definition at line <a class="el" href="SignalFD_8hxx_source.html#l00098">98</a> of file <a class="el" href="SignalFD_8hxx_source.html">SignalFD.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   98</span>{ <span class="keywordflow">return</span> m_fd; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a06e88d0f988c5090ab81aa2869af804b" name="a06e88d0f988c5090ab81aa2869af804b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06e88d0f988c5090ab81aa2869af804b">&#9670;&#160;</a></span>readEvent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cosmos::SignalFD::readEvent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcosmos_1_1SignalFD_1_1Info.html">Info</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>info</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads the next event event from the <a class="el" href="classcosmos_1_1SignalFD.html" title="A file descriptor for receiving process signals.">SignalFD</a>. </p>
<p>This is a blocking operation so you should use an efficient poll mechanism like select() to determine whether there is anything to read.</p>
<p>If an error occurs trying to read a signal description then an exception is thrown. </p>

<p class="definition">Definition at line <a class="el" href="SignalFD_8cxx_source.html#l00049">49</a> of file <a class="el" href="SignalFD_8cxx_source.html">SignalFD.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   49</span>                                   {</div>
<div class="line"><span class="lineno">   50</span>        <span class="keyword">auto</span> raw = info.raw();</div>
<div class="line"><span class="lineno">   51</span>        <span class="keyword">constexpr</span> <span class="keyword">auto</span> RAW_SIZE = <span class="keyword">sizeof</span>(*raw);</div>
<div class="line"><span class="lineno">   52</span> </div>
<div class="line"><span class="lineno">   53</span>        <span class="keyword">auto</span> res = ::read(to_integral(m_fd.<a class="code hl_function" href="classcosmos_1_1FileDescriptor.html#aa0137047595389228c9cc92c54804c22">raw</a>()), raw, RAW_SIZE);</div>
<div class="line"><span class="lineno">   54</span> </div>
<div class="line"><span class="lineno">   55</span>        <span class="keywordflow">if</span> (res &lt; 0) {</div>
<div class="line"><span class="lineno">   56</span>                cosmos_throw (ApiError(<span class="stringliteral">&quot;read(sigfd)&quot;</span>));</div>
<div class="line"><span class="lineno">   57</span>        }</div>
<div class="line"><span class="lineno">   58</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(res) &lt; RAW_SIZE) {</div>
<div class="line"><span class="lineno">   59</span>                cosmos_throw (RuntimeError(<span class="stringliteral">&quot;short read from signal fd&quot;</span>));</div>
<div class="line"><span class="lineno">   60</span>        }</div>
<div class="line"><span class="lineno">   61</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a73ea43dfaa0dd4fb893042cac0086856" name="a73ea43dfaa0dd4fb893042cac0086856"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73ea43dfaa0dd4fb893042cac0086856">&#9670;&#160;</a></span>valid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto cosmos::SignalFD::valid </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SignalFD_8hxx_source.html#l00077">77</a> of file <a class="el" href="SignalFD_8hxx_source.html">SignalFD.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   77</span>{ <span class="keywordflow">return</span> m_fd.<a class="code hl_function" href="classcosmos_1_1FileDescriptor.html#ad8eb89f4374f04c3b3cf25f889f5f107">valid</a>(); }</div>
<div class="ttc" id="aclasscosmos_1_1FileDescriptor_html_ad8eb89f4374f04c3b3cf25f889f5f107"><div class="ttname"><a href="classcosmos_1_1FileDescriptor.html#ad8eb89f4374f04c3b3cf25f889f5f107">cosmos::FileDescriptor::valid</a></div><div class="ttdeci">bool valid() const</div><div class="ttdoc">Returns whether currently a valid file descriptor number is assigned.</div><div class="ttdef"><b>Definition</b> <a href="FileDescriptor_8hxx_source.html#l00195">FileDescriptor.hxx:195</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ad611c6e807f1f7e8b14c511cb8e9ce53" name="ad611c6e807f1f7e8b14c511cb8e9ce53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad611c6e807f1f7e8b14c511cb8e9ce53">&#9670;&#160;</a></span>m_fd</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcosmos_1_1FileDescriptor.html">FileDescriptor</a> cosmos::SignalFD::m_fd</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SignalFD_8hxx_source.html#l00102">102</a> of file <a class="el" href="SignalFD_8hxx_source.html">SignalFD.hxx</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/proc/<a class="el" href="SignalFD_8hxx_source.html">SignalFD.hxx</a></li>
<li>src/proc/<a class="el" href="SignalFD_8cxx_source.html">SignalFD.cxx</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>cosmos</b></li><li class="navelem"><a class="el" href="classcosmos_1_1SignalFD.html">SignalFD</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
