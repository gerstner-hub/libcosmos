<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libcosmos: cosmos::SockOptBase&lt; LEVEL &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">libcosmos
   </div>
   <div id="projectbrief">Linux C++ System Programming Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('classcosmos_1_1SockOptBase.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pro-static-attribs">Static Protected Attributes</a> &#124;
<a href="classcosmos_1_1SockOptBase-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">cosmos::SockOptBase&lt; LEVEL &gt; Class Template Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Base class for <a class="el" href="classcosmos_1_1Socket.html" title="Base class for Socket types with ownership of a FileDescriptor.">Socket</a> option helpers for different OptLevels.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="SockOptBase_8hxx_source.html">SockOptBase.hxx</a>&gt;</code></p>
<div id="dynsection-0" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for cosmos::SockOptBase&lt; LEVEL &gt;:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
 <div class="center">
  <img src="classcosmos_1_1SockOptBase.png" usemap="#cosmos::SockOptBase_3C_20LEVEL_20_3E_map" alt=""/>
  <map id="cosmos::SockOptBase_3C_20LEVEL_20_3E_map" name="cosmos::SockOptBase_3C_20LEVEL_20_3E_map">
<area href="classcosmos_1_1IPOptBase.html" alt="cosmos::IPOptBase&lt; OptLevel::IP &gt;" shape="rect" coords="0,56,227,80"/>
<area href="classcosmos_1_1IPOptBase.html" alt="cosmos::IPOptBase&lt; OptLevel::IPV6 &gt;" shape="rect" coords="237,56,464,80"/>
<area href="classcosmos_1_1IPOptBase.html" title="Base class for IP4Options and IP6Options." alt="cosmos::IPOptBase&lt; LEVEL &gt;" shape="rect" coords="474,56,701,80"/>
<area href="classcosmos_1_1IP4Options.html" title="IPv4 level socket option setter/getter helper." alt="cosmos::IP4Options" shape="rect" coords="0,112,227,136"/>
<area href="classcosmos_1_1IP6Options.html" title="IPv6 level socket option setter/getter helper." alt="cosmos::IP6Options" shape="rect" coords="237,112,464,136"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a95d73400d08426fe17479aa45ac94ae5" id="r_a95d73400d08426fe17479aa45ac94ae5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a95d73400d08426fe17479aa45ac94ae5">SockOptBase</a> (<a class="el" href="classcosmos_1_1FileDescriptor.html">FileDescriptor</a> fd)</td></tr>
<tr class="memdesc:a95d73400d08426fe17479aa45ac94ae5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform socket options on the given file descriptor.  <br /></td></tr>
<tr class="separator:a95d73400d08426fe17479aa45ac94ae5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92724fb3ac01c4a71dc9b2da69f0ec5f" id="r_a92724fb3ac01c4a71dc9b2da69f0ec5f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a92724fb3ac01c4a71dc9b2da69f0ec5f">getBoolOption</a> (const <a class="el" href="net_2types_8hxx.html#a83e207216f2dc932826b70d34c9f05a2">OptName</a> name) const</td></tr>
<tr class="memdesc:a92724fb3ac01c4a71dc9b2da69f0ec5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a boolean style option.  <br /></td></tr>
<tr class="separator:a92724fb3ac01c4a71dc9b2da69f0ec5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e45502a16936f93dbfa79acb51ffac6" id="r_a2e45502a16936f93dbfa79acb51ffac6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2e45502a16936f93dbfa79acb51ffac6">setBoolOption</a> (const <a class="el" href="net_2types_8hxx.html#a83e207216f2dc932826b70d34c9f05a2">OptName</a> name, const bool val)</td></tr>
<tr class="memdesc:a2e45502a16936f93dbfa79acb51ffac6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a boolean style option.  <br /></td></tr>
<tr class="separator:a2e45502a16936f93dbfa79acb51ffac6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4acfd337dc46b327f8777bdd329d49f9" id="r_a4acfd337dc46b327f8777bdd329d49f9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4acfd337dc46b327f8777bdd329d49f9">getIntOption</a> (const <a class="el" href="net_2types_8hxx.html#a83e207216f2dc932826b70d34c9f05a2">OptName</a> name) const</td></tr>
<tr class="memdesc:a4acfd337dc46b327f8777bdd329d49f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return an integer option.  <br /></td></tr>
<tr class="separator:a4acfd337dc46b327f8777bdd329d49f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7163582fe8f2132c7ce9164be49d0592" id="r_a7163582fe8f2132c7ce9164be49d0592"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7163582fe8f2132c7ce9164be49d0592">setIntOption</a> (const <a class="el" href="net_2types_8hxx.html#a83e207216f2dc932826b70d34c9f05a2">OptName</a> name, const int val)</td></tr>
<tr class="memdesc:a7163582fe8f2132c7ce9164be49d0592"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set an integer option.  <br /></td></tr>
<tr class="separator:a7163582fe8f2132c7ce9164be49d0592"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae1369e282347ca70e5bc1287e90bf3d" id="r_aae1369e282347ca70e5bc1287e90bf3d"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aae1369e282347ca70e5bc1287e90bf3d">getStringOption</a> (const <a class="el" href="net_2types_8hxx.html#a83e207216f2dc932826b70d34c9f05a2">OptName</a> name, size_t max_len) const</td></tr>
<tr class="memdesc:aae1369e282347ca70e5bc1287e90bf3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a null terminated string option.  <br /></td></tr>
<tr class="separator:aae1369e282347ca70e5bc1287e90bf3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1129b54a02b3101edf471c6e0ee44a63" id="r_a1129b54a02b3101edf471c6e0ee44a63"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1129b54a02b3101edf471c6e0ee44a63">setStringOption</a> (const <a class="el" href="net_2types_8hxx.html#a83e207216f2dc932826b70d34c9f05a2">OptName</a> name, const <a class="el" href="structcosmos_1_1SysString.html">SysString</a> str)</td></tr>
<tr class="memdesc:a1129b54a02b3101edf471c6e0ee44a63"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a null terminated string option.  <br /></td></tr>
<tr class="separator:a1129b54a02b3101edf471c6e0ee44a63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6728add739d521cddf9a07c876f3ddb8" id="r_a6728add739d521cddf9a07c876f3ddb8"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6728add739d521cddf9a07c876f3ddb8">getPeerSec</a> () const</td></tr>
<tr class="memdesc:a6728add739d521cddf9a07c876f3ddb8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the labeled IPSEC or NetLabel of the peer.  <br /></td></tr>
<tr class="separator:a6728add739d521cddf9a07c876f3ddb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5214e71dc432afd104741a641958703" id="r_ae5214e71dc432afd104741a641958703"><td class="memItemLeft" align="right" valign="top"><a id="ae5214e71dc432afd104741a641958703" name="ae5214e71dc432afd104741a641958703"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>SockOptBase</b> (const <a class="el" href="classcosmos_1_1SockOptBase.html">SockOptBase</a> &amp;)=delete</td></tr>
<tr class="separator:ae5214e71dc432afd104741a641958703"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b0d9580f4a9772386a596fd1d20222e" id="r_a6b0d9580f4a9772386a596fd1d20222e"><td class="memItemLeft" align="right" valign="top"><a id="a6b0d9580f4a9772386a596fd1d20222e" name="a6b0d9580f4a9772386a596fd1d20222e"></a>
<a class="el" href="classcosmos_1_1SockOptBase.html">SockOptBase</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (const <a class="el" href="classcosmos_1_1SockOptBase.html">SockOptBase</a> &amp;)=delete</td></tr>
<tr class="separator:a6b0d9580f4a9772386a596fd1d20222e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:ad98c167113d6e1e440d6140bfdb2e0d5" id="r_ad98c167113d6e1e440d6140bfdb2e0d5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcosmos_1_1FileDescriptor.html">FileDescriptor</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad98c167113d6e1e440d6140bfdb2e0d5">m_sock</a></td></tr>
<tr class="memdesc:ad98c167113d6e1e440d6140bfdb2e0d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">The socket file descriptor to operate on.  <br /></td></tr>
<tr class="separator:ad98c167113d6e1e440d6140bfdb2e0d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-static-attribs" name="pro-static-attribs"></a>
Static Protected Attributes</h2></td></tr>
<tr class="memitem:a1f9060b0e14e2347c91efe5ea8122c72" id="r_a1f9060b0e14e2347c91efe5ea8122c72"><td class="memItemLeft" align="right" valign="top">static constexpr <a class="el" href="net_2types_8hxx.html#a499d4442946e684243c0e791c4604f6a">OptLevel</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1f9060b0e14e2347c91efe5ea8122c72">M_LEVEL</a> = LEVEL</td></tr>
<tr class="memdesc:a1f9060b0e14e2347c91efe5ea8122c72"><td class="mdescLeft">&#160;</td><td class="mdescRight">The option level to operate on.  <br /></td></tr>
<tr class="separator:a1f9060b0e14e2347c91efe5ea8122c72"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;<a class="el" href="net_2types_8hxx.html#a499d4442946e684243c0e791c4604f6a">OptLevel</a> LEVEL&gt;<br />
class cosmos::SockOptBase&lt; LEVEL &gt;</div><p>Base class for <a class="el" href="classcosmos_1_1Socket.html" title="Base class for Socket types with ownership of a FileDescriptor.">Socket</a> option helpers for different OptLevels. </p>
<p>This base class offers some common infrastructure for dealing with socket options. Implementations of this class need to specify the OptLevel they cover as template argument to this class. </p>

<p class="definition">Definition at line <a class="el" href="SockOptBase_8hxx_source.html#l00018">18</a> of file <a class="el" href="SockOptBase_8hxx_source.html">SockOptBase.hxx</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a95d73400d08426fe17479aa45ac94ae5" name="a95d73400d08426fe17479aa45ac94ae5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95d73400d08426fe17479aa45ac94ae5">&#9670;&#160;</a></span>SockOptBase()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;<a class="el" href="net_2types_8hxx.html#a499d4442946e684243c0e791c4604f6a">OptLevel</a> LEVEL&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcosmos_1_1SockOptBase.html">cosmos::SockOptBase</a>&lt; LEVEL &gt;::SockOptBase </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcosmos_1_1FileDescriptor.html">FileDescriptor</a></td>          <td class="paramname"><span class="paramname"><em>fd</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">explicit</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Perform socket options on the given file descriptor. </p>

<p class="definition">Definition at line <a class="el" href="SockOptBase_8hxx_source.html#l00022">22</a> of file <a class="el" href="SockOptBase_8hxx_source.html">SockOptBase.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   22</span>                                                :</div>
<div class="line"><span class="lineno">   23</span>                <a class="code hl_variable" href="#ad98c167113d6e1e440d6140bfdb2e0d5">m_sock</a>{fd} {}</div>
<div class="ttc" id="aclasscosmos_1_1SockOptBase_html_ad98c167113d6e1e440d6140bfdb2e0d5"><div class="ttname"><a href="#ad98c167113d6e1e440d6140bfdb2e0d5">cosmos::SockOptBase::m_sock</a></div><div class="ttdeci">FileDescriptor m_sock</div><div class="ttdoc">The socket file descriptor to operate on.</div><div class="ttdef"><b>Definition</b> <a href="SockOptBase_8hxx_source.html#l00061">SockOptBase.hxx:61</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a92724fb3ac01c4a71dc9b2da69f0ec5f" name="a92724fb3ac01c4a71dc9b2da69f0ec5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92724fb3ac01c4a71dc9b2da69f0ec5f">&#9670;&#160;</a></span>getBoolOption()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;<a class="el" href="net_2types_8hxx.html#a499d4442946e684243c0e791c4604f6a">OptLevel</a> LEVEL&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classcosmos_1_1SockOptBase.html">cosmos::SockOptBase</a>&lt; LEVEL &gt;::getBoolOption </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="net_2types_8hxx.html#a83e207216f2dc932826b70d34c9f05a2">OptName</a></td>          <td class="paramname"><span class="paramname"><em>name</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return a boolean style option. </p>

<p class="definition">Definition at line <a class="el" href="SockOptBase_8cxx_source.html#l00009">9</a> of file <a class="el" href="SockOptBase_8cxx_source.html">SockOptBase.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">    9</span>                                                               {</div>
<div class="line"><span class="lineno">   10</span>        <span class="keyword">const</span> <span class="keyword">auto</span> val = getsockopt&lt;int&gt;(<a class="code hl_variable" href="#ad98c167113d6e1e440d6140bfdb2e0d5">m_sock</a>, <a class="code hl_variable" href="#a1f9060b0e14e2347c91efe5ea8122c72">M_LEVEL</a>, name);</div>
<div class="line"><span class="lineno">   11</span>        <span class="keywordflow">return</span> val != 0;</div>
<div class="line"><span class="lineno">   12</span>}</div>
<div class="ttc" id="aclasscosmos_1_1SockOptBase_html_a1f9060b0e14e2347c91efe5ea8122c72"><div class="ttname"><a href="#a1f9060b0e14e2347c91efe5ea8122c72">cosmos::SockOptBase::M_LEVEL</a></div><div class="ttdeci">static constexpr OptLevel M_LEVEL</div><div class="ttdoc">The option level to operate on.</div><div class="ttdef"><b>Definition</b> <a href="SockOptBase_8hxx_source.html#l00060">SockOptBase.hxx:60</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4acfd337dc46b327f8777bdd329d49f9" name="a4acfd337dc46b327f8777bdd329d49f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4acfd337dc46b327f8777bdd329d49f9">&#9670;&#160;</a></span>getIntOption()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;<a class="el" href="net_2types_8hxx.html#a499d4442946e684243c0e791c4604f6a">OptLevel</a> LEVEL&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classcosmos_1_1SockOptBase.html">cosmos::SockOptBase</a>&lt; LEVEL &gt;::getIntOption </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="net_2types_8hxx.html#a83e207216f2dc932826b70d34c9f05a2">OptName</a></td>          <td class="paramname"><span class="paramname"><em>name</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return an integer option. </p>

<p class="definition">Definition at line <a class="el" href="SockOptBase_8cxx_source.html#l00020">20</a> of file <a class="el" href="SockOptBase_8cxx_source.html">SockOptBase.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   20</span>                                                             {</div>
<div class="line"><span class="lineno">   21</span>        <span class="keywordflow">return</span> getsockopt&lt;int&gt;(<a class="code hl_variable" href="#ad98c167113d6e1e440d6140bfdb2e0d5">m_sock</a>, <a class="code hl_variable" href="#a1f9060b0e14e2347c91efe5ea8122c72">M_LEVEL</a>, name);</div>
<div class="line"><span class="lineno">   22</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a6728add739d521cddf9a07c876f3ddb8" name="a6728add739d521cddf9a07c876f3ddb8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6728add739d521cddf9a07c876f3ddb8">&#9670;&#160;</a></span>getPeerSec()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;<a class="el" href="net_2types_8hxx.html#a499d4442946e684243c0e791c4604f6a">OptLevel</a> LEVEL&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string <a class="el" href="classcosmos_1_1SockOptBase.html">cosmos::SockOptBase</a>&lt; LEVEL &gt;::getPeerSec </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the labeled IPSEC or NetLabel of the peer. </p>
<p>This only works if IPSEC or NetLabel is configured on both the sending and receiving hosts. This option is supported for TCP and SCTP sockets on IP level or for UNIX domain sockets.</p>
<p>The returned string will have the proper length and null termination. The encoding of the returned string is unspecified though. In particular it is not guaranteed to be ASCII or UTF-8. </p>

<p class="definition">Definition at line <a class="el" href="SockOptBase_8cxx_source.html#l00043">43</a> of file <a class="el" href="SockOptBase_8cxx_source.html">SockOptBase.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   43</span>                                               {</div>
<div class="line"><span class="lineno">   44</span>        std::string ret;</div>
<div class="line"><span class="lineno">   45</span>        ret.resize(cosmos::max::NAME);</div>
<div class="line"><span class="lineno">   46</span> </div>
<div class="line"><span class="lineno">   47</span>        socklen_t length;</div>
<div class="line"><span class="lineno">   48</span> </div>
<div class="line"><span class="lineno">   49</span>        <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno">   50</span>                <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">   51</span>                        length = getsockopt(<a class="code hl_variable" href="#ad98c167113d6e1e440d6140bfdb2e0d5">m_sock</a>, <a class="code hl_variable" href="#a1f9060b0e14e2347c91efe5ea8122c72">M_LEVEL</a>, OptName{SO_PEERSEC}, ret.data(), ret.size());</div>
<div class="line"><span class="lineno">   52</span> </div>
<div class="line"><span class="lineno">   53</span>                        <span class="keywordflow">if</span> (ret[length-1] == <span class="charliteral">&#39;\0&#39;</span>)</div>
<div class="line"><span class="lineno">   54</span>                                <span class="comment">// it is not guaranteed that the string is</span></div>
<div class="line"><span class="lineno">   55</span>                                <span class="comment">// null terminated, thus check this</span></div>
<div class="line"><span class="lineno">   56</span>                                length--;</div>
<div class="line"><span class="lineno">   57</span> </div>
<div class="line"><span class="lineno">   58</span>                        ret.resize(length);</div>
<div class="line"><span class="lineno">   59</span>                        <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">   60</span>                } <span class="keywordflow">catch</span> (<span class="keyword">const</span> RangeError &amp;ex) {</div>
<div class="line"><span class="lineno">   61</span>                        <span class="keywordflow">if</span> (!ex.requiredLengthKnown() || ex.requiredLength() &lt; ret.size()) {</div>
<div class="line"><span class="lineno">   62</span>                                <span class="keywordflow">throw</span>;</div>
<div class="line"><span class="lineno">   63</span>                        }</div>
<div class="line"><span class="lineno">   64</span> </div>
<div class="line"><span class="lineno">   65</span>                        <span class="comment">// retry with larger size</span></div>
<div class="line"><span class="lineno">   66</span>                        ret.resize(ret.size());</div>
<div class="line"><span class="lineno">   67</span>                }</div>
<div class="line"><span class="lineno">   68</span>        }</div>
<div class="line"><span class="lineno">   69</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aae1369e282347ca70e5bc1287e90bf3d" name="aae1369e282347ca70e5bc1287e90bf3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae1369e282347ca70e5bc1287e90bf3d">&#9670;&#160;</a></span>getStringOption()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;<a class="el" href="net_2types_8hxx.html#a499d4442946e684243c0e791c4604f6a">OptLevel</a> LEVEL&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string <a class="el" href="classcosmos_1_1SockOptBase.html">cosmos::SockOptBase</a>&lt; LEVEL &gt;::getStringOption </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="net_2types_8hxx.html#a83e207216f2dc932826b70d34c9f05a2">OptName</a></td>          <td class="paramname"><span class="paramname"><em>name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>max_len</em></span>&#160;) const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return a null terminated string option. </p>

<p class="definition">Definition at line <a class="el" href="SockOptBase_8cxx_source.html#l00030">30</a> of file <a class="el" href="SockOptBase_8cxx_source.html">SockOptBase.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   30</span>                                                                                      {</div>
<div class="line"><span class="lineno">   31</span>        std::string ret(max_len, <span class="charliteral">&#39;\0&#39;</span>);</div>
<div class="line"><span class="lineno">   32</span>        max_len = getsockopt(<a class="code hl_variable" href="#ad98c167113d6e1e440d6140bfdb2e0d5">m_sock</a>, <a class="code hl_variable" href="#a1f9060b0e14e2347c91efe5ea8122c72">M_LEVEL</a>, name, ret.data(), ret.size());</div>
<div class="line"><span class="lineno">   33</span>        ret.resize(max_len - 1);</div>
<div class="line"><span class="lineno">   34</span>        <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">   35</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2e45502a16936f93dbfa79acb51ffac6" name="a2e45502a16936f93dbfa79acb51ffac6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e45502a16936f93dbfa79acb51ffac6">&#9670;&#160;</a></span>setBoolOption()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;<a class="el" href="net_2types_8hxx.html#a499d4442946e684243c0e791c4604f6a">OptLevel</a> LEVEL&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classcosmos_1_1SockOptBase.html">cosmos::SockOptBase</a>&lt; LEVEL &gt;::setBoolOption </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="net_2types_8hxx.html#a83e207216f2dc932826b70d34c9f05a2">OptName</a></td>          <td class="paramname"><span class="paramname"><em>name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool</td>          <td class="paramname"><span class="paramname"><em>val</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set a boolean style option. </p>

<p class="definition">Definition at line <a class="el" href="SockOptBase_8cxx_source.html#l00015">15</a> of file <a class="el" href="SockOptBase_8cxx_source.html">SockOptBase.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   15</span>                                                                         {</div>
<div class="line"><span class="lineno">   16</span>        <a class="code hl_function" href="#a7163582fe8f2132c7ce9164be49d0592">setIntOption</a>(name, <span class="keywordtype">int</span>{val ? 1 : 0});</div>
<div class="line"><span class="lineno">   17</span>}</div>
<div class="ttc" id="aclasscosmos_1_1SockOptBase_html_a7163582fe8f2132c7ce9164be49d0592"><div class="ttname"><a href="#a7163582fe8f2132c7ce9164be49d0592">cosmos::SockOptBase::setIntOption</a></div><div class="ttdeci">void setIntOption(const OptName name, const int val)</div><div class="ttdoc">Set an integer option.</div><div class="ttdef"><b>Definition</b> <a href="SockOptBase_8cxx_source.html#l00025">SockOptBase.cxx:25</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7163582fe8f2132c7ce9164be49d0592" name="a7163582fe8f2132c7ce9164be49d0592"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7163582fe8f2132c7ce9164be49d0592">&#9670;&#160;</a></span>setIntOption()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;<a class="el" href="net_2types_8hxx.html#a499d4442946e684243c0e791c4604f6a">OptLevel</a> LEVEL&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classcosmos_1_1SockOptBase.html">cosmos::SockOptBase</a>&lt; LEVEL &gt;::setIntOption </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="net_2types_8hxx.html#a83e207216f2dc932826b70d34c9f05a2">OptName</a></td>          <td class="paramname"><span class="paramname"><em>name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int</td>          <td class="paramname"><span class="paramname"><em>val</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set an integer option. </p>

<p class="definition">Definition at line <a class="el" href="SockOptBase_8cxx_source.html#l00025">25</a> of file <a class="el" href="SockOptBase_8cxx_source.html">SockOptBase.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   25</span>                                                                       {</div>
<div class="line"><span class="lineno">   26</span>        setsockopt(<a class="code hl_variable" href="#ad98c167113d6e1e440d6140bfdb2e0d5">m_sock</a>, <a class="code hl_variable" href="#a1f9060b0e14e2347c91efe5ea8122c72">M_LEVEL</a>, name, val);</div>
<div class="line"><span class="lineno">   27</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a1129b54a02b3101edf471c6e0ee44a63" name="a1129b54a02b3101edf471c6e0ee44a63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1129b54a02b3101edf471c6e0ee44a63">&#9670;&#160;</a></span>setStringOption()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;<a class="el" href="net_2types_8hxx.html#a499d4442946e684243c0e791c4604f6a">OptLevel</a> LEVEL&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classcosmos_1_1SockOptBase.html">cosmos::SockOptBase</a>&lt; LEVEL &gt;::setStringOption </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="net_2types_8hxx.html#a83e207216f2dc932826b70d34c9f05a2">OptName</a></td>          <td class="paramname"><span class="paramname"><em>name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structcosmos_1_1SysString.html">SysString</a></td>          <td class="paramname"><span class="paramname"><em>str</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set a null terminated string option. </p>

<p class="definition">Definition at line <a class="el" href="SockOptBase_8cxx_source.html#l00038">38</a> of file <a class="el" href="SockOptBase_8cxx_source.html">SockOptBase.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   38</span>                                                                                {</div>
<div class="line"><span class="lineno">   39</span>        setsockopt(<a class="code hl_variable" href="#ad98c167113d6e1e440d6140bfdb2e0d5">m_sock</a>, <a class="code hl_variable" href="#a1f9060b0e14e2347c91efe5ea8122c72">M_LEVEL</a>, name, str.<a class="code hl_function" href="classcosmos_1_1FileDescriptor.html#aa0137047595389228c9cc92c54804c22">raw</a>(), str.length());</div>
<div class="line"><span class="lineno">   40</span>}</div>
<div class="ttc" id="aclasscosmos_1_1FileDescriptor_html_aa0137047595389228c9cc92c54804c22"><div class="ttname"><a href="classcosmos_1_1FileDescriptor.html#aa0137047595389228c9cc92c54804c22">cosmos::FileDescriptor::raw</a></div><div class="ttdeci">FileNum raw() const</div><div class="ttdoc">Returns the primitive file descriptor contained in the object.</div><div class="ttdef"><b>Definition</b> <a href="FileDescriptor_8hxx_source.html#l00341">FileDescriptor.hxx:341</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a1f9060b0e14e2347c91efe5ea8122c72" name="a1f9060b0e14e2347c91efe5ea8122c72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f9060b0e14e2347c91efe5ea8122c72">&#9670;&#160;</a></span>M_LEVEL</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;<a class="el" href="net_2types_8hxx.html#a499d4442946e684243c0e791c4604f6a">OptLevel</a> LEVEL&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="net_2types_8hxx.html#a499d4442946e684243c0e791c4604f6a">OptLevel</a> <a class="el" href="classcosmos_1_1SockOptBase.html">cosmos::SockOptBase</a>&lt; LEVEL &gt;::M_LEVEL = LEVEL</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The option level to operate on. </p>

<p class="definition">Definition at line <a class="el" href="SockOptBase_8hxx_source.html#l00060">60</a> of file <a class="el" href="SockOptBase_8hxx_source.html">SockOptBase.hxx</a>.</p>

</div>
</div>
<a id="ad98c167113d6e1e440d6140bfdb2e0d5" name="ad98c167113d6e1e440d6140bfdb2e0d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad98c167113d6e1e440d6140bfdb2e0d5">&#9670;&#160;</a></span>m_sock</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;<a class="el" href="net_2types_8hxx.html#a499d4442946e684243c0e791c4604f6a">OptLevel</a> LEVEL&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcosmos_1_1FileDescriptor.html">FileDescriptor</a> <a class="el" href="classcosmos_1_1SockOptBase.html">cosmos::SockOptBase</a>&lt; LEVEL &gt;::m_sock</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The socket file descriptor to operate on. </p>

<p class="definition">Definition at line <a class="el" href="SockOptBase_8hxx_source.html#l00061">61</a> of file <a class="el" href="SockOptBase_8hxx_source.html">SockOptBase.hxx</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/net/<a class="el" href="SockOptBase_8hxx_source.html">SockOptBase.hxx</a></li>
<li>src/net/<a class="el" href="SockOptBase_8cxx_source.html">SockOptBase.cxx</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>cosmos</b></li><li class="navelem"><a class="el" href="classcosmos_1_1SockOptBase.html">SockOptBase</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
