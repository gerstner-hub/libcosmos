<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libcosmos: cosmos::UnixAddress Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">libcosmos
   </div>
   <div id="projectbrief">Linux C++ System Programming Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('classcosmos_1_1UnixAddress.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pro-static-attribs">Static Protected Attributes</a> &#124;
<a href="classcosmos_1_1UnixAddress-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">cosmos::UnixAddress Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Address type for local UNIX domain sockets.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="UnixAddress_8hxx_source.html">UnixAddress.hxx</a>&gt;</code></p>
<div id="dynsection-0" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for cosmos::UnixAddress:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
 <div class="center">
  <img src="classcosmos_1_1UnixAddress.png" usemap="#cosmos::UnixAddress_map" alt=""/>
  <map id="cosmos::UnixAddress_map" name="cosmos::UnixAddress_map">
<area href="classcosmos_1_1SocketAddress.html" title="Base class for all types of socket addresses." alt="cosmos::SocketAddress" shape="rect" coords="0,0,145,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:ad3f1fd363c18424ad25d5f6b114f3730" id="r_ad3f1fd363c18424ad25d5f6b114f3730"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad3f1fd363c18424ad25d5f6b114f3730">Abstract</a> = <a class="el" href="classcosmos_1_1NamedBool.html">NamedBool</a>&lt;struct abstract_address_t, false&gt;</td></tr>
<tr class="memdesc:ad3f1fd363c18424ad25d5f6b114f3730"><td class="mdescLeft">&#160;</td><td class="mdescRight">Strong boolean type to indicate the use an abstract address.  <br /></td></tr>
<tr class="separator:ad3f1fd363c18424ad25d5f6b114f3730"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a23f13fb6f01ff0307d3af57b92036e65" id="r_a23f13fb6f01ff0307d3af57b92036e65"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a23f13fb6f01ff0307d3af57b92036e65">UnixAddress</a> ()</td></tr>
<tr class="memdesc:a23f13fb6f01ff0307d3af57b92036e65"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates an empty address.  <br /></td></tr>
<tr class="separator:a23f13fb6f01ff0307d3af57b92036e65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae156a3c16ad5479da67db9b7147e0d42" id="r_ae156a3c16ad5479da67db9b7147e0d42"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae156a3c16ad5479da67db9b7147e0d42">UnixAddress</a> (const std::string_view path, const <a class="el" href="#ad3f1fd363c18424ad25d5f6b114f3730">Abstract</a> abstract=<a class="el" href="#ad3f1fd363c18424ad25d5f6b114f3730">Abstract</a>{false})</td></tr>
<tr class="memdesc:ae156a3c16ad5479da67db9b7147e0d42"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates an address from the given path which can also be abstract.  <br /></td></tr>
<tr class="separator:ae156a3c16ad5479da67db9b7147e0d42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0665ace81e7e3144dc7e150bb1583a72" id="r_a0665ace81e7e3144dc7e150bb1583a72"><td class="memItemLeft" align="right" valign="top"><a class="el" href="net_2types_8hxx.html#a4ab1157cfda3b3ca14065d87286cde7e">SocketFamily</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0665ace81e7e3144dc7e150bb1583a72">family</a> () const override</td></tr>
<tr class="memdesc:a0665ace81e7e3144dc7e150bb1583a72"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the concrete SocketFamily for the implementation address type.  <br /></td></tr>
<tr class="separator:a0665ace81e7e3144dc7e150bb1583a72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7915c68ab4c7c99a593c84d24e3f0ab" id="r_ad7915c68ab4c7c99a593c84d24e3f0ab"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad7915c68ab4c7c99a593c84d24e3f0ab">size</a> () const override</td></tr>
<tr class="memdesc:ad7915c68ab4c7c99a593c84d24e3f0ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the size of the structure considering the currently set path length only.  <br /></td></tr>
<tr class="separator:ad7915c68ab4c7c99a593c84d24e3f0ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8912c533c17d4fa55fc5e5fb74dbd9e" id="r_ad8912c533c17d4fa55fc5e5fb74dbd9e"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad8912c533c17d4fa55fc5e5fb74dbd9e">maxSize</a> () const override</td></tr>
<tr class="memdesc:ad8912c533c17d4fa55fc5e5fb74dbd9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the maximum address size without taking into account the currently set path.  <br /></td></tr>
<tr class="separator:ad8912c533c17d4fa55fc5e5fb74dbd9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9dc26479105077baa12eb7b18fe1efc7" id="r_a9dc26479105077baa12eb7b18fe1efc7"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9dc26479105077baa12eb7b18fe1efc7">maxPathLen</a> () const</td></tr>
<tr class="memdesc:a9dc26479105077baa12eb7b18fe1efc7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum path length that can be stored in a <a class="el" href="classcosmos_1_1UnixAddress.html" title="Address type for local UNIX domain sockets.">UnixAddress</a> structure.  <br /></td></tr>
<tr class="separator:a9dc26479105077baa12eb7b18fe1efc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade4606a68a01fa7f8888ad36cbe4aff6" id="r_ade4606a68a01fa7f8888ad36cbe4aff6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ade4606a68a01fa7f8888ad36cbe4aff6">setPath</a> (const std::string_view path, const <a class="el" href="#ad3f1fd363c18424ad25d5f6b114f3730">Abstract</a> abstract=<a class="el" href="#ad3f1fd363c18424ad25d5f6b114f3730">Abstract</a>{false})</td></tr>
<tr class="memdesc:ade4606a68a01fa7f8888ad36cbe4aff6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets a new path for the address.  <br /></td></tr>
<tr class="separator:ade4606a68a01fa7f8888ad36cbe4aff6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d14a6e94cd1b82864598e0096cfe794" id="r_a0d14a6e94cd1b82864598e0096cfe794"><td class="memItemLeft" align="right" valign="top">std::string_view&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0d14a6e94cd1b82864598e0096cfe794">getPath</a> () const</td></tr>
<tr class="memdesc:a0d14a6e94cd1b82864598e0096cfe794"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the currently set path.  <br /></td></tr>
<tr class="separator:a0d14a6e94cd1b82864598e0096cfe794"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec02ab9a11b6738514d769d7824e67e0" id="r_aec02ab9a11b6738514d769d7824e67e0"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aec02ab9a11b6738514d769d7824e67e0">label</a> () const</td></tr>
<tr class="memdesc:aec02ab9a11b6738514d769d7824e67e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a human readable label for the contained path.  <br /></td></tr>
<tr class="separator:aec02ab9a11b6738514d769d7824e67e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0f881d06737a94c4612a0fac918004e" id="r_ad0f881d06737a94c4612a0fac918004e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad0f881d06737a94c4612a0fac918004e">isAbstract</a> () const</td></tr>
<tr class="memdesc:ad0f881d06737a94c4612a0fac918004e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether currently an abstract path is contained.  <br /></td></tr>
<tr class="separator:ad0f881d06737a94c4612a0fac918004e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fa4dcfddcac54ef920a93bc61262e6d" id="r_a1fa4dcfddcac54ef920a93bc61262e6d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1fa4dcfddcac54ef920a93bc61262e6d">isUnnamed</a> () const</td></tr>
<tr class="memdesc:a1fa4dcfddcac54ef920a93bc61262e6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether this address is currently unnamed (empty).  <br /></td></tr>
<tr class="separator:a1fa4dcfddcac54ef920a93bc61262e6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f0c54afdab4378b3566c09efdf485e0" id="r_a7f0c54afdab4378b3566c09efdf485e0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7f0c54afdab4378b3566c09efdf485e0">operator==</a> (const <a class="el" href="classcosmos_1_1UnixAddress.html">UnixAddress</a> &amp;other) const</td></tr>
<tr class="separator:a7f0c54afdab4378b3566c09efdf485e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a317c3179517fb9509cf71af3011bc43e" id="r_a317c3179517fb9509cf71af3011bc43e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a317c3179517fb9509cf71af3011bc43e">operator!=</a> (const <a class="el" href="classcosmos_1_1UnixAddress.html">UnixAddress</a> &amp;other) const</td></tr>
<tr class="separator:a317c3179517fb9509cf71af3011bc43e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classcosmos_1_1SocketAddress"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_methods_classcosmos_1_1SocketAddress')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classcosmos_1_1SocketAddress.html">cosmos::SocketAddress</a></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a5a880ad9e356fce26d24b961bb29142f" id="r_a5a880ad9e356fce26d24b961bb29142f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5a880ad9e356fce26d24b961bb29142f">update</a> (size_t new_length) override</td></tr>
<tr class="memdesc:a5a880ad9e356fce26d24b961bb29142f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the address structure after it has been filled in by the kernel.  <br /></td></tr>
<tr class="separator:a5a880ad9e356fce26d24b961bb29142f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa28c62d25e647b6a20f2ca9d5c6a0a3d" id="r_aa28c62d25e647b6a20f2ca9d5c6a0a3d"><td class="memItemLeft" align="right" valign="top">sockaddr *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa28c62d25e647b6a20f2ca9d5c6a0a3d">basePtr</a> () override</td></tr>
<tr class="memdesc:aa28c62d25e647b6a20f2ca9d5c6a0a3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a mutable pointer to the <code>sockaddr*</code> base structure.  <br /></td></tr>
<tr class="separator:aa28c62d25e647b6a20f2ca9d5c6a0a3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb3a03e9dcf632fcc4b35955137379bf" id="r_aeb3a03e9dcf632fcc4b35955137379bf"><td class="memItemLeft" align="right" valign="top">const sockaddr *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aeb3a03e9dcf632fcc4b35955137379bf">basePtr</a> () const override</td></tr>
<tr class="memdesc:aeb3a03e9dcf632fcc4b35955137379bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a const pointer to the <code>sockaddr*</code> base structure.  <br /></td></tr>
<tr class="separator:aeb3a03e9dcf632fcc4b35955137379bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classcosmos_1_1SocketAddress"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pro_methods_classcosmos_1_1SocketAddress')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classcosmos_1_1SocketAddress.html">cosmos::SocketAddress</a></td></tr>
<tr class="memitem:a04c7a47b1ed9e8e3653be6a15fbd08e7 inherit pro_methods_classcosmos_1_1SocketAddress" id="r_a04c7a47b1ed9e8e3653be6a15fbd08e7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcosmos_1_1SocketAddress.html#a04c7a47b1ed9e8e3653be6a15fbd08e7">clear</a> ()</td></tr>
<tr class="memdesc:a04c7a47b1ed9e8e3653be6a15fbd08e7 inherit pro_methods_classcosmos_1_1SocketAddress"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears the complete address structure.  <br /></td></tr>
<tr class="separator:a04c7a47b1ed9e8e3653be6a15fbd08e7 inherit pro_methods_classcosmos_1_1SocketAddress"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:aeb94f4d2b76ec4069761ef668c8d5c0f" id="r_aeb94f4d2b76ec4069761ef668c8d5c0f"><td class="memItemLeft" align="right" valign="top">sockaddr_un&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aeb94f4d2b76ec4069761ef668c8d5c0f">m_addr</a></td></tr>
<tr class="separator:aeb94f4d2b76ec4069761ef668c8d5c0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb10a2d2c14991322e850d44e67c08f5" id="r_aeb10a2d2c14991322e850d44e67c08f5"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aeb10a2d2c14991322e850d44e67c08f5">m_path_len</a> = 0</td></tr>
<tr class="memdesc:aeb10a2d2c14991322e850d44e67c08f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">used bytes in m_addr.sun_path excluding terminator  <br /></td></tr>
<tr class="separator:aeb10a2d2c14991322e850d44e67c08f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-static-attribs" name="pro-static-attribs"></a>
Static Protected Attributes</h2></td></tr>
<tr class="memitem:a6da4e320e78fa3f7bf96a6c0430e1f02" id="r_a6da4e320e78fa3f7bf96a6c0430e1f02"><td class="memItemLeft" align="right" valign="top">static constexpr size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6da4e320e78fa3f7bf96a6c0430e1f02">BASE_SIZE</a> = offsetof(struct sockaddr_un, sun_path)</td></tr>
<tr class="separator:a6da4e320e78fa3f7bf96a6c0430e1f02"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Address type for local UNIX domain sockets. </p>
<p>UNIX domain addresses come in three flavours on Linux:</p>
<ul>
<li>unnamed: these have not been bound to any path. They are either not <em>yet</em> bound or they are anonymous as returned from cosmos::net::create_stream_socket_pair().</li>
<li>path based: an actual file system path is used. The application has to manage the possibility that the path already exists, and has to remove the file system entry when the socket is no longer needed.</li>
<li>abstract: this is a Linux extension. The path starts with a null terminator '\0' (in strings often displayed using a leading '@' character). These sockets don't show up in the file system and are always reference counted i.e. if no process remains using it, the socket is cleaned up automatically. Further '\0' characters in the address have no special meaning, only the <code><a class="el" href="#ad7915c68ab4c7c99a593c84d24e3f0ab" title="Returns the size of the structure considering the currently set path length only.">size()</a></code> communicated to the kernel will determine the length of the address.</li>
</ul>
<p>There is some ambiguity regarding specifying the size of a <code>sockaddr_un</code> in system calls. You can either specify the size of the actual number of bytes <em>used</em> in the structure, or you can specify the full size of the structure. For abstract socket addresses this can become problematic, since \0 characters don't terminate paths here, i.e. if you specify the full size of <code>sockaddr_un</code> then you end up using a different address then when you specify only the actual number of bytes used. For this reason the current implementation only reports the actual number of bytes used for a path. When communicating with applications that follow a different notion here, it can happen that you won't be able to communicate with them.</p>
<dl class="section warning"><dt>Warning</dt><dd><a class="el" href="classcosmos_1_1File.html" title="File objects that are opened by pathname.">File</a> system based sockets are restricted by the permissions of the directory they're placed in, as well by the socket's file mode. Only if a process has write access to the socket, may it connect to it. Sockets living in the abstract namespace, however, have no kernel side permission checking. Any process in the system may connect to them. Thus applications have to check <a class="el" href="classcosmos_1_1UnixOptions.html#a3d93f6aa3402e45caef88ced7bc2c7a2" title="Returns the credentials of the peer process.">UnixOptions::credentials()</a> for access control. </dd></dl>

<p class="definition">Definition at line <a class="el" href="UnixAddress_8hxx_source.html#l00052">52</a> of file <a class="el" href="UnixAddress_8hxx_source.html">UnixAddress.hxx</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="ad3f1fd363c18424ad25d5f6b114f3730" name="ad3f1fd363c18424ad25d5f6b114f3730"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3f1fd363c18424ad25d5f6b114f3730">&#9670;&#160;</a></span>Abstract</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="#ad3f1fd363c18424ad25d5f6b114f3730">cosmos::UnixAddress::Abstract</a> = <a class="el" href="classcosmos_1_1NamedBool.html">NamedBool</a>&lt;struct abstract_address_t, false&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Strong boolean type to indicate the use an abstract address. </p>

<p class="definition">Definition at line <a class="el" href="UnixAddress_8hxx_source.html#l00057">57</a> of file <a class="el" href="UnixAddress_8hxx_source.html">UnixAddress.hxx</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a23f13fb6f01ff0307d3af57b92036e65" name="a23f13fb6f01ff0307d3af57b92036e65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23f13fb6f01ff0307d3af57b92036e65">&#9670;&#160;</a></span>UnixAddress() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cosmos::UnixAddress::UnixAddress </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates an empty address. </p>

<p class="definition">Definition at line <a class="el" href="UnixAddress_8hxx_source.html#l00062">62</a> of file <a class="el" href="UnixAddress_8hxx_source.html">UnixAddress.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   62</span>                      {</div>
<div class="line"><span class="lineno">   63</span>                m_addr.sun_family = to_integral(<a class="code hl_function" href="#a0665ace81e7e3144dc7e150bb1583a72">family</a>());</div>
<div class="line"><span class="lineno">   64</span>                m_addr.sun_path[0] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">   65</span>        }</div>
<div class="ttc" id="aclasscosmos_1_1UnixAddress_html_a0665ace81e7e3144dc7e150bb1583a72"><div class="ttname"><a href="#a0665ace81e7e3144dc7e150bb1583a72">cosmos::UnixAddress::family</a></div><div class="ttdeci">SocketFamily family() const override</div><div class="ttdoc">Returns the concrete SocketFamily for the implementation address type.</div><div class="ttdef"><b>Definition</b> <a href="UnixAddress_8hxx_source.html#l00073">UnixAddress.hxx:73</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae156a3c16ad5479da67db9b7147e0d42" name="ae156a3c16ad5479da67db9b7147e0d42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae156a3c16ad5479da67db9b7147e0d42">&#9670;&#160;</a></span>UnixAddress() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cosmos::UnixAddress::UnixAddress </td>
          <td>(</td>
          <td class="paramtype">const std::string_view</td>          <td class="paramname"><span class="paramname"><em>path</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="#ad3f1fd363c18424ad25d5f6b114f3730">Abstract</a></td>          <td class="paramname"><span class="paramname"><em>abstract</em></span><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="#ad3f1fd363c18424ad25d5f6b114f3730">Abstract</a>{false}</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates an address from the given path which can also be abstract. </p>

<p class="definition">Definition at line <a class="el" href="UnixAddress_8hxx_source.html#l00068">68</a> of file <a class="el" href="UnixAddress_8hxx_source.html">UnixAddress.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   68</span>                                                                                          {<span class="keyword">false</span>}) :</div>
<div class="line"><span class="lineno">   69</span>                        <a class="code hl_function" href="#a23f13fb6f01ff0307d3af57b92036e65">UnixAddress</a>{} {</div>
<div class="line"><span class="lineno">   70</span>                <a class="code hl_function" href="#ade4606a68a01fa7f8888ad36cbe4aff6">setPath</a>(path, abstract);</div>
<div class="line"><span class="lineno">   71</span>        }</div>
<div class="ttc" id="aclasscosmos_1_1UnixAddress_html_a23f13fb6f01ff0307d3af57b92036e65"><div class="ttname"><a href="#a23f13fb6f01ff0307d3af57b92036e65">cosmos::UnixAddress::UnixAddress</a></div><div class="ttdeci">UnixAddress()</div><div class="ttdoc">Creates an empty address.</div><div class="ttdef"><b>Definition</b> <a href="UnixAddress_8hxx_source.html#l00062">UnixAddress.hxx:62</a></div></div>
<div class="ttc" id="aclasscosmos_1_1UnixAddress_html_ade4606a68a01fa7f8888ad36cbe4aff6"><div class="ttname"><a href="#ade4606a68a01fa7f8888ad36cbe4aff6">cosmos::UnixAddress::setPath</a></div><div class="ttdeci">void setPath(const std::string_view path, const Abstract abstract=Abstract{false})</div><div class="ttdoc">Sets a new path for the address.</div><div class="ttdef"><b>Definition</b> <a href="UnixAddress_8cxx_source.html#l00007">UnixAddress.cxx:7</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aeb3a03e9dcf632fcc4b35955137379bf" name="aeb3a03e9dcf632fcc4b35955137379bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb3a03e9dcf632fcc4b35955137379bf">&#9670;&#160;</a></span>basePtr() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const sockaddr * cosmos::UnixAddress::basePtr </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a const pointer to the <code>sockaddr*</code> base structure. </p>

<p>Implements <a class="el" href="classcosmos_1_1SocketAddress.html#a61a69def1e62784bb00cd815eea94083">cosmos::SocketAddress</a>.</p>

<p class="definition">Definition at line <a class="el" href="UnixAddress_8hxx_source.html#l00160">160</a> of file <a class="el" href="UnixAddress_8hxx_source.html">UnixAddress.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  160</span>                                                 {</div>
<div class="line"><span class="lineno">  161</span>                <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>sockaddr*<span class="keyword">&gt;</span>(&amp;m_addr);</div>
<div class="line"><span class="lineno">  162</span>        }</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa28c62d25e647b6a20f2ca9d5c6a0a3d" name="aa28c62d25e647b6a20f2ca9d5c6a0a3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa28c62d25e647b6a20f2ca9d5c6a0a3d">&#9670;&#160;</a></span>basePtr() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sockaddr * cosmos::UnixAddress::basePtr </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a mutable pointer to the <code>sockaddr*</code> base structure. </p>

<p>Implements <a class="el" href="classcosmos_1_1SocketAddress.html#abfae0306f8ac3132eb8c7ca34ddc718a">cosmos::SocketAddress</a>.</p>

<p class="definition">Definition at line <a class="el" href="UnixAddress_8hxx_source.html#l00156">156</a> of file <a class="el" href="UnixAddress_8hxx_source.html">UnixAddress.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  156</span>                                     {</div>
<div class="line"><span class="lineno">  157</span>                <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span>sockaddr*<span class="keyword">&gt;</span>(&amp;m_addr);</div>
<div class="line"><span class="lineno">  158</span>        }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a0665ace81e7e3144dc7e150bb1583a72" name="a0665ace81e7e3144dc7e150bb1583a72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0665ace81e7e3144dc7e150bb1583a72">&#9670;&#160;</a></span>family()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="net_2types_8hxx.html#a4ab1157cfda3b3ca14065d87286cde7e">SocketFamily</a> cosmos::UnixAddress::family </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the concrete SocketFamily for the implementation address type. </p>

<p>Implements <a class="el" href="classcosmos_1_1SocketAddress.html#aa07255fab8662514efd08fd785eee66d">cosmos::SocketAddress</a>.</p>

<p class="definition">Definition at line <a class="el" href="UnixAddress_8hxx_source.html#l00073">73</a> of file <a class="el" href="UnixAddress_8hxx_source.html">UnixAddress.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   73</span>                                             {</div>
<div class="line"><span class="lineno">   74</span>                <span class="keywordflow">return</span> SocketFamily::UNIX;</div>
<div class="line"><span class="lineno">   75</span>        }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a0d14a6e94cd1b82864598e0096cfe794" name="a0d14a6e94cd1b82864598e0096cfe794"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d14a6e94cd1b82864598e0096cfe794">&#9670;&#160;</a></span>getPath()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string_view cosmos::UnixAddress::getPath </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the currently set path. </p>
<p>This returns the string used in <a class="el" href="#ade4606a68a01fa7f8888ad36cbe4aff6" title="Sets a new path for the address.">setPath()</a>. If an abstract path is currently set then the leading '\0' terminator will not be contained in the string_view. </p>

<p class="definition">Definition at line <a class="el" href="UnixAddress_8hxx_source.html#l00112">112</a> of file <a class="el" href="UnixAddress_8hxx_source.html">UnixAddress.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  112</span>                                       {</div>
<div class="line"><span class="lineno">  113</span>                <span class="keywordflow">if</span> (<a class="code hl_function" href="#ad0f881d06737a94c4612a0fac918004e">isAbstract</a>()) {</div>
<div class="line"><span class="lineno">  114</span>                        <span class="keywordflow">return</span> std::string_view{m_addr.sun_path + 1, <a class="code hl_variable" href="#aeb10a2d2c14991322e850d44e67c08f5">m_path_len</a>};</div>
<div class="line"><span class="lineno">  115</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  116</span>                        <span class="keywordflow">return</span> std::string_view{m_addr.sun_path, <a class="code hl_variable" href="#aeb10a2d2c14991322e850d44e67c08f5">m_path_len</a>};</div>
<div class="line"><span class="lineno">  117</span>                }</div>
<div class="line"><span class="lineno">  118</span>        }</div>
<div class="ttc" id="aclasscosmos_1_1UnixAddress_html_ad0f881d06737a94c4612a0fac918004e"><div class="ttname"><a href="#ad0f881d06737a94c4612a0fac918004e">cosmos::UnixAddress::isAbstract</a></div><div class="ttdeci">bool isAbstract() const</div><div class="ttdoc">Returns whether currently an abstract path is contained.</div><div class="ttdef"><b>Definition</b> <a href="UnixAddress_8hxx_source.html#l00130">UnixAddress.hxx:130</a></div></div>
<div class="ttc" id="aclasscosmos_1_1UnixAddress_html_aeb10a2d2c14991322e850d44e67c08f5"><div class="ttname"><a href="#aeb10a2d2c14991322e850d44e67c08f5">cosmos::UnixAddress::m_path_len</a></div><div class="ttdeci">size_t m_path_len</div><div class="ttdoc">used bytes in m_addr.sun_path excluding terminator</div><div class="ttdef"><b>Definition</b> <a href="UnixAddress_8hxx_source.html#l00168">UnixAddress.hxx:168</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad0f881d06737a94c4612a0fac918004e" name="ad0f881d06737a94c4612a0fac918004e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0f881d06737a94c4612a0fac918004e">&#9670;&#160;</a></span>isAbstract()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool cosmos::UnixAddress::isAbstract </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns whether currently an abstract path is contained. </p>

<p class="definition">Definition at line <a class="el" href="UnixAddress_8hxx_source.html#l00130">130</a> of file <a class="el" href="UnixAddress_8hxx_source.html">UnixAddress.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  130</span>                                {</div>
<div class="line"><span class="lineno">  131</span>                <span class="keywordflow">return</span> <a class="code hl_variable" href="#aeb10a2d2c14991322e850d44e67c08f5">m_path_len</a> &gt; 1 &amp;&amp; m_addr.sun_path[0] == <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">  132</span>        }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a1fa4dcfddcac54ef920a93bc61262e6d" name="a1fa4dcfddcac54ef920a93bc61262e6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1fa4dcfddcac54ef920a93bc61262e6d">&#9670;&#160;</a></span>isUnnamed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool cosmos::UnixAddress::isUnnamed </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns whether this address is currently unnamed (empty). </p>

<p class="definition">Definition at line <a class="el" href="UnixAddress_8hxx_source.html#l00135">135</a> of file <a class="el" href="UnixAddress_8hxx_source.html">UnixAddress.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  135</span>                               {</div>
<div class="line"><span class="lineno">  136</span>                <span class="keywordflow">return</span> <a class="code hl_variable" href="#aeb10a2d2c14991322e850d44e67c08f5">m_path_len</a> == 0;</div>
<div class="line"><span class="lineno">  137</span>        }</div>
</div><!-- fragment -->
</div>
</div>
<a id="aec02ab9a11b6738514d769d7824e67e0" name="aec02ab9a11b6738514d769d7824e67e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec02ab9a11b6738514d769d7824e67e0">&#9670;&#160;</a></span>label()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string cosmos::UnixAddress::label </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a human readable label for the contained path. </p>
<p>This returns an implementation defined, human readable label describing the currently set path. In particular abstract paths are transformed in a way to indicate their abstract nature. Also unnamed addresses are specially marked in the returned string. </p>

<p class="definition">Definition at line <a class="el" href="UnixAddress_8cxx_source.html#l00045">45</a> of file <a class="el" href="UnixAddress_8cxx_source.html">UnixAddress.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   45</span>                                   {</div>
<div class="line"><span class="lineno">   46</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="#a1fa4dcfddcac54ef920a93bc61262e6d">isUnnamed</a>()) {</div>
<div class="line"><span class="lineno">   47</span>                <span class="keywordflow">return</span> <span class="stringliteral">&quot;&lt;unnamed&gt;&quot;</span>;</div>
<div class="line"><span class="lineno">   48</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code hl_function" href="#ad0f881d06737a94c4612a0fac918004e">isAbstract</a>()) {</div>
<div class="line"><span class="lineno">   49</span>                std::string ret;</div>
<div class="line"><span class="lineno">   50</span>                ret.push_back(<span class="charliteral">&#39;@&#39;</span>);</div>
<div class="line"><span class="lineno">   51</span>                ret.append(<a class="code hl_function" href="#a0d14a6e94cd1b82864598e0096cfe794">getPath</a>().begin() + 1, <a class="code hl_variable" href="#aeb10a2d2c14991322e850d44e67c08f5">m_path_len</a>);</div>
<div class="line"><span class="lineno">   52</span>                <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">   53</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">   54</span>                <span class="keywordflow">return</span> std::string{<a class="code hl_function" href="#a0d14a6e94cd1b82864598e0096cfe794">getPath</a>()};</div>
<div class="line"><span class="lineno">   55</span>        }</div>
<div class="line"><span class="lineno">   56</span>}</div>
<div class="ttc" id="aclasscosmos_1_1UnixAddress_html_a0d14a6e94cd1b82864598e0096cfe794"><div class="ttname"><a href="#a0d14a6e94cd1b82864598e0096cfe794">cosmos::UnixAddress::getPath</a></div><div class="ttdeci">std::string_view getPath() const</div><div class="ttdoc">Returns the currently set path.</div><div class="ttdef"><b>Definition</b> <a href="UnixAddress_8hxx_source.html#l00112">UnixAddress.hxx:112</a></div></div>
<div class="ttc" id="aclasscosmos_1_1UnixAddress_html_a1fa4dcfddcac54ef920a93bc61262e6d"><div class="ttname"><a href="#a1fa4dcfddcac54ef920a93bc61262e6d">cosmos::UnixAddress::isUnnamed</a></div><div class="ttdeci">bool isUnnamed() const</div><div class="ttdoc">Returns whether this address is currently unnamed (empty).</div><div class="ttdef"><b>Definition</b> <a href="UnixAddress_8hxx_source.html#l00135">UnixAddress.hxx:135</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9dc26479105077baa12eb7b18fe1efc7" name="a9dc26479105077baa12eb7b18fe1efc7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9dc26479105077baa12eb7b18fe1efc7">&#9670;&#160;</a></span>maxPathLen()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t cosmos::UnixAddress::maxPathLen </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Maximum path length that can be stored in a <a class="el" href="classcosmos_1_1UnixAddress.html" title="Address type for local UNIX domain sockets.">UnixAddress</a> structure. </p>
<p>The returned value is not counting &lsquo;\0&rsquo; terminators. For both abstract and non-abstract addresses one byte for a null terminator (leading or trailing) is subtracted. </p>

<p class="definition">Definition at line <a class="el" href="UnixAddress_8hxx_source.html#l00093">93</a> of file <a class="el" href="UnixAddress_8hxx_source.html">UnixAddress.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   93</span>                                  {</div>
<div class="line"><span class="lineno">   94</span>                <span class="keywordflow">return</span> <span class="keyword">sizeof</span>(m_addr) - BASE_SIZE - 1;</div>
<div class="line"><span class="lineno">   95</span>        }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad8912c533c17d4fa55fc5e5fb74dbd9e" name="ad8912c533c17d4fa55fc5e5fb74dbd9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8912c533c17d4fa55fc5e5fb74dbd9e">&#9670;&#160;</a></span>maxSize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t cosmos::UnixAddress::maxSize </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the maximum address size without taking into account the currently set path. </p>

<p>Reimplemented from <a class="el" href="classcosmos_1_1SocketAddress.html#a60c3958b377d5b86bf360699a62c7956">cosmos::SocketAddress</a>.</p>

<p class="definition">Definition at line <a class="el" href="UnixAddress_8hxx_source.html#l00083">83</a> of file <a class="el" href="UnixAddress_8hxx_source.html">UnixAddress.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   83</span>                                        {</div>
<div class="line"><span class="lineno">   84</span>                <span class="keywordflow">return</span> <span class="keyword">sizeof</span>(m_addr);</div>
<div class="line"><span class="lineno">   85</span>        }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a317c3179517fb9509cf71af3011bc43e" name="a317c3179517fb9509cf71af3011bc43e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a317c3179517fb9509cf71af3011bc43e">&#9670;&#160;</a></span>operator!=()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool cosmos::UnixAddress::operator!= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classcosmos_1_1UnixAddress.html">UnixAddress</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>other</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="UnixAddress_8hxx_source.html#l00148">148</a> of file <a class="el" href="UnixAddress_8hxx_source.html">UnixAddress.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  148</span>                                                        {</div>
<div class="line"><span class="lineno">  149</span>                <span class="keywordflow">return</span> !(*<span class="keyword">this</span> == other);</div>
<div class="line"><span class="lineno">  150</span>        }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a7f0c54afdab4378b3566c09efdf485e0" name="a7f0c54afdab4378b3566c09efdf485e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f0c54afdab4378b3566c09efdf485e0">&#9670;&#160;</a></span>operator==()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool cosmos::UnixAddress::operator== </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classcosmos_1_1UnixAddress.html">UnixAddress</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>other</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="UnixAddress_8hxx_source.html#l00139">139</a> of file <a class="el" href="UnixAddress_8hxx_source.html">UnixAddress.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  139</span>                                                        {</div>
<div class="line"><span class="lineno">  140</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="#aeb10a2d2c14991322e850d44e67c08f5">m_path_len</a> != other.m_path_len)</div>
<div class="line"><span class="lineno">  141</span>                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  142</span>                <span class="keywordflow">if</span> (m_addr.sun_family != other.m_addr.sun_family)</div>
<div class="line"><span class="lineno">  143</span>                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  144</span> </div>
<div class="line"><span class="lineno">  145</span>                <span class="keywordflow">return</span> std::memcmp(m_addr.sun_path, other.m_addr.sun_path, <a class="code hl_variable" href="#aeb10a2d2c14991322e850d44e67c08f5">m_path_len</a> + 1) == 0;</div>
<div class="line"><span class="lineno">  146</span>        }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ade4606a68a01fa7f8888ad36cbe4aff6" name="ade4606a68a01fa7f8888ad36cbe4aff6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade4606a68a01fa7f8888ad36cbe4aff6">&#9670;&#160;</a></span>setPath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cosmos::UnixAddress::setPath </td>
          <td>(</td>
          <td class="paramtype">const std::string_view</td>          <td class="paramname"><span class="paramname"><em>path</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="#ad3f1fd363c18424ad25d5f6b114f3730">Abstract</a></td>          <td class="paramname"><span class="paramname"><em>abstract</em></span><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="#ad3f1fd363c18424ad25d5f6b114f3730">Abstract</a>{false}</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets a new path for the address. </p>
<p>Depending on the <code>abstract</code> setting this will be either a file system path, or an abstract label. No '\0' terminators should be embedded into <code>path</code> for the abstract case. The implementation will take care of this transparently. </p>

<p class="definition">Definition at line <a class="el" href="UnixAddress_8cxx_source.html#l00007">7</a> of file <a class="el" href="UnixAddress_8cxx_source.html">UnixAddress.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">    7</span>                                                                            {</div>
<div class="line"><span class="lineno">    8</span> </div>
<div class="line"><span class="lineno">    9</span>        <span class="keywordflow">if</span> (path.size() &gt; <a class="code hl_function" href="#a9dc26479105077baa12eb7b18fe1efc7">maxPathLen</a>()) {</div>
<div class="line"><span class="lineno">   10</span>                cosmos_throw( RuntimeError(<span class="stringliteral">&quot;UNIX address path too long&quot;</span>) );</div>
<div class="line"><span class="lineno">   11</span>        }</div>
<div class="line"><span class="lineno">   12</span> </div>
<div class="line"><span class="lineno">   13</span>        <span class="keywordtype">char</span> *ptr = m_addr.sun_path;</div>
<div class="line"><span class="lineno">   14</span> </div>
<div class="line"><span class="lineno">   15</span>        <span class="keywordflow">if</span> (abstract) {</div>
<div class="line"><span class="lineno">   16</span>                *ptr = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">   17</span>                ptr++;</div>
<div class="line"><span class="lineno">   18</span>        }</div>
<div class="line"><span class="lineno">   19</span> </div>
<div class="line"><span class="lineno">   20</span>        std::memcpy(ptr, path.data(), path.size());</div>
<div class="line"><span class="lineno">   21</span> </div>
<div class="line"><span class="lineno">   22</span>        <span class="keywordflow">if</span> (!abstract) {</div>
<div class="line"><span class="lineno">   23</span>                ptr[path.size()] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">   24</span>        }</div>
<div class="line"><span class="lineno">   25</span> </div>
<div class="line"><span class="lineno">   26</span>        <a class="code hl_variable" href="#aeb10a2d2c14991322e850d44e67c08f5">m_path_len</a> = path.size();</div>
<div class="line"><span class="lineno">   27</span>}</div>
<div class="ttc" id="aclasscosmos_1_1UnixAddress_html_a9dc26479105077baa12eb7b18fe1efc7"><div class="ttname"><a href="#a9dc26479105077baa12eb7b18fe1efc7">cosmos::UnixAddress::maxPathLen</a></div><div class="ttdeci">size_t maxPathLen() const</div><div class="ttdoc">Maximum path length that can be stored in a UnixAddress structure.</div><div class="ttdef"><b>Definition</b> <a href="UnixAddress_8hxx_source.html#l00093">UnixAddress.hxx:93</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad7915c68ab4c7c99a593c84d24e3f0ab" name="ad7915c68ab4c7c99a593c84d24e3f0ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7915c68ab4c7c99a593c84d24e3f0ab">&#9670;&#160;</a></span>size()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t cosmos::UnixAddress::size </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the size of the structure considering the currently set path length only. </p>

<p>Implements <a class="el" href="classcosmos_1_1SocketAddress.html#aad2492d33c8c17829e80e57c8a62be6e">cosmos::SocketAddress</a>.</p>

<p class="definition">Definition at line <a class="el" href="UnixAddress_8hxx_source.html#l00078">78</a> of file <a class="el" href="UnixAddress_8hxx_source.html">UnixAddress.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   78</span>                                     {</div>
<div class="line"><span class="lineno">   79</span>                <span class="keywordflow">return</span> BASE_SIZE + <a class="code hl_variable" href="#aeb10a2d2c14991322e850d44e67c08f5">m_path_len</a> + 1;</div>
<div class="line"><span class="lineno">   80</span>        }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a5a880ad9e356fce26d24b961bb29142f" name="a5a880ad9e356fce26d24b961bb29142f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a880ad9e356fce26d24b961bb29142f">&#9670;&#160;</a></span>update()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void cosmos::UnixAddress::update </td>
          <td>(</td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>new_length</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Update the address structure after it has been filled in by the kernel. </p>
<p>Some system calls update the address structure. The obtained number of bytes is found in <code>new_length</code>. Some address structures have dynamic sizes in which case the new length has to be accommodated for by overriding this function call.</p>
<p>The default implementation only performs a sanity check that the new length matches the old length (considering statically sized addresses). </p>

<p>Reimplemented from <a class="el" href="classcosmos_1_1SocketAddress.html#a206ce6fecbacc7b04c3b102cf1e2fd2b">cosmos::SocketAddress</a>.</p>

<p class="definition">Definition at line <a class="el" href="UnixAddress_8cxx_source.html#l00029">29</a> of file <a class="el" href="UnixAddress_8cxx_source.html">UnixAddress.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   29</span>                                          {</div>
<div class="line"><span class="lineno">   30</span>        <span class="keywordflow">if</span> (new_length &lt; BASE_SIZE) {</div>
<div class="line"><span class="lineno">   31</span>                m_addr.sun_family = to_integral(<a class="code hl_function" href="#a0665ace81e7e3144dc7e150bb1583a72">family</a>());</div>
<div class="line"><span class="lineno">   32</span>                <a class="code hl_variable" href="#aeb10a2d2c14991322e850d44e67c08f5">m_path_len</a> = 0;</div>
<div class="line"><span class="lineno">   33</span>                cosmos_throw( RuntimeError(<span class="stringliteral">&quot;short address on update&quot;</span>) );</div>
<div class="line"><span class="lineno">   34</span>        }</div>
<div class="line"><span class="lineno">   35</span> </div>
<div class="line"><span class="lineno">   36</span>        new_length -= BASE_SIZE;</div>
<div class="line"><span class="lineno">   37</span> </div>
<div class="line"><span class="lineno">   38</span>        <span class="comment">// we don&#39;t count the null terminator (leading for abstract path, or</span></div>
<div class="line"><span class="lineno">   39</span>        <span class="comment">// trailing for regular path).</span></div>
<div class="line"><span class="lineno">   40</span>        new_length--;</div>
<div class="line"><span class="lineno">   41</span> </div>
<div class="line"><span class="lineno">   42</span>        <a class="code hl_variable" href="#aeb10a2d2c14991322e850d44e67c08f5">m_path_len</a> = new_length;</div>
<div class="line"><span class="lineno">   43</span>}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a6da4e320e78fa3f7bf96a6c0430e1f02" name="a6da4e320e78fa3f7bf96a6c0430e1f02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6da4e320e78fa3f7bf96a6c0430e1f02">&#9670;&#160;</a></span>BASE_SIZE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t cosmos::UnixAddress::BASE_SIZE = offsetof(struct sockaddr_un, sun_path)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="UnixAddress_8hxx_source.html#l00166">166</a> of file <a class="el" href="UnixAddress_8hxx_source.html">UnixAddress.hxx</a>.</p>

</div>
</div>
<a id="aeb94f4d2b76ec4069761ef668c8d5c0f" name="aeb94f4d2b76ec4069761ef668c8d5c0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb94f4d2b76ec4069761ef668c8d5c0f">&#9670;&#160;</a></span>m_addr</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sockaddr_un cosmos::UnixAddress::m_addr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="UnixAddress_8hxx_source.html#l00167">167</a> of file <a class="el" href="UnixAddress_8hxx_source.html">UnixAddress.hxx</a>.</p>

</div>
</div>
<a id="aeb10a2d2c14991322e850d44e67c08f5" name="aeb10a2d2c14991322e850d44e67c08f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb10a2d2c14991322e850d44e67c08f5">&#9670;&#160;</a></span>m_path_len</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t cosmos::UnixAddress::m_path_len = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>used bytes in m_addr.sun_path excluding terminator </p>

<p class="definition">Definition at line <a class="el" href="UnixAddress_8hxx_source.html#l00168">168</a> of file <a class="el" href="UnixAddress_8hxx_source.html">UnixAddress.hxx</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/net/<a class="el" href="UnixAddress_8hxx_source.html">UnixAddress.hxx</a></li>
<li>src/net/<a class="el" href="UnixAddress_8cxx_source.html">UnixAddress.cxx</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>cosmos</b></li><li class="navelem"><a class="el" href="classcosmos_1_1UnixAddress.html">UnixAddress</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
