<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libcosmos: include/proc/mman.hxx File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">libcosmos
   </div>
   <div id="projectbrief">Linux C++ System Programming Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('mman_8hxx.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">mman.hxx File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;optional&gt;</code><br />
<code>#include &lt;sys/mman.h&gt;</code><br />
<code>#include &lt;linux/mman.h&gt;</code><br />
<code>#include &lt;cosmos/BitMask.hxx&gt;</code><br />
<code>#include &lt;cosmos/fs/FileDescriptor.hxx&gt;</code><br />
</div>
<p><a href="mman_8hxx_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcosmos_1_1mem_1_1MapFlags.html">cosmos::mem::MapFlags</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flags used in <a class="el" href="structcosmos_1_1mem_1_1MapSettings.html" title="Collection of settings used in cosmos::mem::map().">MapSettings</a>.  <a href="classcosmos_1_1mem_1_1MapFlags.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcosmos_1_1mem_1_1MapSettings.html">cosmos::mem::MapSettings</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Collection of settings used in cosmos::mem::map().  <a href="structcosmos_1_1mem_1_1MapSettings.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a1e573c3df3fffc9a8cd945af5502be85" id="r_a1e573c3df3fffc9a8cd945af5502be85"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1e573c3df3fffc9a8cd945af5502be85">PROT_SAO</a>&#160;&#160;&#160;0x10</td></tr>
<tr class="separator:a1e573c3df3fffc9a8cd945af5502be85"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:acf403316d31acb150c40ad12bda0131c" id="r_acf403316d31acb150c40ad12bda0131c"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acf403316d31acb150c40ad12bda0131c">cosmos::mem::AccessFlags</a> = <a class="el" href="classcosmos_1_1BitMask.html">BitMask</a>&lt;<a class="el" href="#afb9443daacfad2ab033d0ab08a594fd4">AccessFlag</a>&gt;</td></tr>
<tr class="memdesc:acf403316d31acb150c40ad12bda0131c"><td class="mdescLeft">&#160;</td><td class="mdescRight">A mask of memory page access settings.  <br /></td></tr>
<tr class="separator:acf403316d31acb150c40ad12bda0131c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0df684c757700c22e85d3f3973483b6f" id="r_a0df684c757700c22e85d3f3973483b6f"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0df684c757700c22e85d3f3973483b6f">cosmos::mem::ProtectFlags</a> = <a class="el" href="classcosmos_1_1BitMask.html">BitMask</a>&lt;<a class="el" href="#a53d2bf92aa5edffe77da4ac9e997e174">ProtectFlag</a>&gt;</td></tr>
<tr class="memdesc:a0df684c757700c22e85d3f3973483b6f"><td class="mdescLeft">&#160;</td><td class="mdescRight">A mask of extra settings used in mem::protect().  <br /></td></tr>
<tr class="separator:a0df684c757700c22e85d3f3973483b6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1948e471c68c35110cda0c98f2ff5dff" id="r_a1948e471c68c35110cda0c98f2ff5dff"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1948e471c68c35110cda0c98f2ff5dff">cosmos::mem::RemapFlags</a> = <a class="el" href="classcosmos_1_1BitMask.html">BitMask</a>&lt;<a class="el" href="#a8741a1dc6e3c44ad82d23b9d3975ece2">RemapFlag</a>&gt;</td></tr>
<tr class="separator:a1948e471c68c35110cda0c98f2ff5dff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14f2e5feecd99e315b6662604cbfb60d" id="r_a14f2e5feecd99e315b6662604cbfb60d"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a14f2e5feecd99e315b6662604cbfb60d">cosmos::mem::SyncFlags</a> = <a class="el" href="classcosmos_1_1BitMask.html">BitMask</a>&lt;<a class="el" href="#a95494c109bf8f696d54d3b37915b8ac8">SyncFlag</a>&gt;</td></tr>
<tr class="separator:a14f2e5feecd99e315b6662604cbfb60d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c4edfab62e3c053436b4ec75819fd00" id="r_a7c4edfab62e3c053436b4ec75819fd00"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7c4edfab62e3c053436b4ec75819fd00">cosmos::mem::LockFlags</a> = <a class="el" href="classcosmos_1_1BitMask.html">BitMask</a>&lt;<a class="el" href="#a594afcc90d112128fce2a8f6122a5309">LockFlag</a>&gt;</td></tr>
<tr class="separator:a7c4edfab62e3c053436b4ec75819fd00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a599ec40cf4ccdd372f629ab00356c4d3" id="r_a599ec40cf4ccdd372f629ab00356c4d3"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a599ec40cf4ccdd372f629ab00356c4d3">cosmos::mem::LockAllFlags</a> = <a class="el" href="classcosmos_1_1BitMask.html">BitMask</a>&lt;<a class="el" href="#a96bc02608edf205de3ad910df9cc4528">LockAllFlag</a>&gt;</td></tr>
<tr class="separator:a599ec40cf4ccdd372f629ab00356c4d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:acebc9aa586f79934a0697dac934d0e57" id="r_acebc9aa586f79934a0697dac934d0e57"><td class="memItemLeft" align="right" valign="top">enum class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acebc9aa586f79934a0697dac934d0e57">cosmos::mem::MapType</a> : int { <a class="el" href="#acebc9aa586f79934a0697dac934d0e57a049518eb4dc1859c7cebbe15876cfd63">SHARED</a> = MAP_SHARED
, <a class="el" href="#acebc9aa586f79934a0697dac934d0e57ade8d366fa756ce6c9ad4365b72e15148">SHARED_VALIDATE</a> = MAP_SHARED_VALIDATE
, <a class="el" href="#acebc9aa586f79934a0697dac934d0e57a84c6d22cfdf3772e66b07bde636e0571">PRIVATE</a> = MAP_PRIVATE
 }</td></tr>
<tr class="memdesc:acebc9aa586f79934a0697dac934d0e57"><td class="mdescLeft">&#160;</td><td class="mdescRight">The basic type of a memory mapping to be created.  <a href="#acebc9aa586f79934a0697dac934d0e57">More...</a><br /></td></tr>
<tr class="separator:acebc9aa586f79934a0697dac934d0e57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb9443daacfad2ab033d0ab08a594fd4" id="r_afb9443daacfad2ab033d0ab08a594fd4"><td class="memItemLeft" align="right" valign="top">enum class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afb9443daacfad2ab033d0ab08a594fd4">cosmos::mem::AccessFlag</a> : int { <br />
&#160;&#160;<a class="el" href="#afb9443daacfad2ab033d0ab08a594fd4af28b3aad7d43b371527fde69de8d93ff">EXEC</a> = PROT_EXEC
, <a class="el" href="#afb9443daacfad2ab033d0ab08a594fd4a3466fab4975481651940ed328aa990e4">READ</a> = PROT_READ
, <a class="el" href="#afb9443daacfad2ab033d0ab08a594fd4ad4b9e47f65b6e79b010582f15785867e">WRITE</a> = PROT_WRITE
, <a class="el" href="#afb9443daacfad2ab033d0ab08a594fd4ab50339a10e1de285ac99d4c3990b8693">NONE</a> = PROT_NONE
, <br />
&#160;&#160;<a class="el" href="#afb9443daacfad2ab033d0ab08a594fd4a2278d5c87fcc9f60ce51e11b8795e524">SEM</a> = PROT_SEM
, <a class="el" href="#afb9443daacfad2ab033d0ab08a594fd4a951c629f8577faff4dafd4a4708474fa">SAO</a> = PROT_SAO
<br />
 }</td></tr>
<tr class="memdesc:afb9443daacfad2ab033d0ab08a594fd4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Different memory page access permissions.  <a href="#afb9443daacfad2ab033d0ab08a594fd4">More...</a><br /></td></tr>
<tr class="separator:afb9443daacfad2ab033d0ab08a594fd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3b95f6ae2fe5969048ee0ed7c327a59" id="r_ae3b95f6ae2fe5969048ee0ed7c327a59"><td class="memItemLeft" align="right" valign="top">enum class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae3b95f6ae2fe5969048ee0ed7c327a59">cosmos::mem::MapFlag</a> : int { <br />
&#160;&#160;<a class="el" href="#ae3b95f6ae2fe5969048ee0ed7c327a59a9bab2b4c50d8359fc53c582d09ca21df">ANONYMOUS</a> = MAP_ANONYMOUS
, <a class="el" href="#ae3b95f6ae2fe5969048ee0ed7c327a59ac6e6dc18b53b4c2681394b9d8aefcec7">FIXED</a> = MAP_FIXED
, <a class="el" href="#ae3b95f6ae2fe5969048ee0ed7c327a59a08334200c31ecd2659d881970e4841f4">FIXED_NOREPLACE</a> = MAP_FIXED_NOREPLACE
, <a class="el" href="#ae3b95f6ae2fe5969048ee0ed7c327a59a4b3aeff032faf96486ac6696e0a1f18e">GROWSDOWN</a> = MAP_GROWSDOWN
, <br />
&#160;&#160;<a class="el" href="#ae3b95f6ae2fe5969048ee0ed7c327a59ae7f49edc57b44754646ac3a29a4c1963">HUGETLB</a> = MAP_HUGETLB
, <a class="el" href="#ae3b95f6ae2fe5969048ee0ed7c327a59aaeff3f3f2731681b2ed6a27786a56203">LOCKED</a> = MAP_LOCKED
, <a class="el" href="#ae3b95f6ae2fe5969048ee0ed7c327a59aafc3203b70037086fb9aa7f2ced7a9f0">NONBLOCK</a> = MAP_NONBLOCK
, <a class="el" href="#ae3b95f6ae2fe5969048ee0ed7c327a59a3debbed899425b47fa5ea716c04174e0">NORESERVE</a> = MAP_NORESERVE
, <br />
&#160;&#160;<a class="el" href="#ae3b95f6ae2fe5969048ee0ed7c327a59a91063ada2e312c0bab339059be3b1245">POPULATE</a> = MAP_POPULATE
, <a class="el" href="#ae3b95f6ae2fe5969048ee0ed7c327a59a0fac686d86aba414411b58f6bce53a76">STACK</a> = MAP_STACK
, <a class="el" href="#ae3b95f6ae2fe5969048ee0ed7c327a59a274ccef15a21e829d03293a6fd1974f3">SYNC</a> = MAP_SYNC
, <a class="el" href="#ae3b95f6ae2fe5969048ee0ed7c327a59add652546039b18970b8dcf2cff824268">UNINITIALIZED</a> = MAP_UNINITIALIZED
<br />
 }</td></tr>
<tr class="memdesc:ae3b95f6ae2fe5969048ee0ed7c327a59"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flags that influence properties of memory mappings.  <a href="#ae3b95f6ae2fe5969048ee0ed7c327a59">More...</a><br /></td></tr>
<tr class="separator:ae3b95f6ae2fe5969048ee0ed7c327a59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53d2bf92aa5edffe77da4ac9e997e174" id="r_a53d2bf92aa5edffe77da4ac9e997e174"><td class="memItemLeft" align="right" valign="top">enum class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a53d2bf92aa5edffe77da4ac9e997e174">cosmos::mem::ProtectFlag</a> : int { <a class="el" href="#a53d2bf92aa5edffe77da4ac9e997e174aed80d578f84c207df6ab2fb75b6befae">GROWSUP</a> = PROT_GROWSUP
, <a class="el" href="#a53d2bf92aa5edffe77da4ac9e997e174a4b3aeff032faf96486ac6696e0a1f18e">GROWSDOWN</a> = PROT_GROWSDOWN
 }</td></tr>
<tr class="memdesc:a53d2bf92aa5edffe77da4ac9e997e174"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extra flags used with mem::protect().  <a href="#a53d2bf92aa5edffe77da4ac9e997e174">More...</a><br /></td></tr>
<tr class="separator:a53d2bf92aa5edffe77da4ac9e997e174"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8741a1dc6e3c44ad82d23b9d3975ece2" id="r_a8741a1dc6e3c44ad82d23b9d3975ece2"><td class="memItemLeft" align="right" valign="top">enum class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8741a1dc6e3c44ad82d23b9d3975ece2">cosmos::mem::RemapFlag</a> : int { <a class="el" href="#a8741a1dc6e3c44ad82d23b9d3975ece2a2dcca21474438a7cd348b2566c1ccb12">MAYMOVE</a> = MREMAP_MAYMOVE
, <a class="el" href="#a8741a1dc6e3c44ad82d23b9d3975ece2ac6e6dc18b53b4c2681394b9d8aefcec7">FIXED</a> = MREMAP_FIXED
, <a class="el" href="#a8741a1dc6e3c44ad82d23b9d3975ece2aadb2e9300ec22399141fe4ea458acb14">DONTUNMAP</a> = MREMAP_DONTUNMAP
 }</td></tr>
<tr class="memdesc:a8741a1dc6e3c44ad82d23b9d3975ece2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flags used with cosmos::mem::remap().  <a href="#a8741a1dc6e3c44ad82d23b9d3975ece2">More...</a><br /></td></tr>
<tr class="separator:a8741a1dc6e3c44ad82d23b9d3975ece2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95494c109bf8f696d54d3b37915b8ac8" id="r_a95494c109bf8f696d54d3b37915b8ac8"><td class="memItemLeft" align="right" valign="top">enum class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a95494c109bf8f696d54d3b37915b8ac8">cosmos::mem::SyncFlag</a> : int { <a class="el" href="#a95494c109bf8f696d54d3b37915b8ac8abe553330beb7b3d994656e0a4e66cd96">ASYNC</a> = MS_ASYNC
, <a class="el" href="#a95494c109bf8f696d54d3b37915b8ac8a274ccef15a21e829d03293a6fd1974f3">SYNC</a> = MS_SYNC
, <a class="el" href="#a95494c109bf8f696d54d3b37915b8ac8ac7ba4bde5fe21a5ad38e8ddb71e2ae2a">INVALIDATE</a> = MS_INVALIDATE
 }</td></tr>
<tr class="memdesc:a95494c109bf8f696d54d3b37915b8ac8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flags used with cosmos::mem::sync().  <a href="#a95494c109bf8f696d54d3b37915b8ac8">More...</a><br /></td></tr>
<tr class="separator:a95494c109bf8f696d54d3b37915b8ac8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a594afcc90d112128fce2a8f6122a5309" id="r_a594afcc90d112128fce2a8f6122a5309"><td class="memItemLeft" align="right" valign="top">enum class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a594afcc90d112128fce2a8f6122a5309">cosmos::mem::LockFlag</a> : unsigned int { <a class="el" href="#a594afcc90d112128fce2a8f6122a5309ac856060b344f8f40d30c6decac8e3d3b">LOCK_ON_FAULT</a> = MLOCK_ONFAULT
 }</td></tr>
<tr class="memdesc:a594afcc90d112128fce2a8f6122a5309"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flags used with cosmos::mem::lock().  <a href="#a594afcc90d112128fce2a8f6122a5309">More...</a><br /></td></tr>
<tr class="separator:a594afcc90d112128fce2a8f6122a5309"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96bc02608edf205de3ad910df9cc4528" id="r_a96bc02608edf205de3ad910df9cc4528"><td class="memItemLeft" align="right" valign="top">enum class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a96bc02608edf205de3ad910df9cc4528">cosmos::mem::LockAllFlag</a> : int { <a class="el" href="#a96bc02608edf205de3ad910df9cc4528aa2770969c827f0f2910f6179418462df">CURRENT</a> = MCL_CURRENT
, <a class="el" href="#a96bc02608edf205de3ad910df9cc4528afa4cec41dc4b368db740c5cb2300b7a3">FUTURE</a> = MCL_FUTURE
, <a class="el" href="#a96bc02608edf205de3ad910df9cc4528a1427e9beca539e69b791bd6cd5edaeaa">ONFAULT</a> = MCL_ONFAULT
 }</td></tr>
<tr class="memdesc:a96bc02608edf205de3ad910df9cc4528"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flags passed to cosmos::mem::lockall().  <a href="#a96bc02608edf205de3ad910df9cc4528">More...</a><br /></td></tr>
<tr class="separator:a96bc02608edf205de3ad910df9cc4528"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a1b418dc9214583c1b7a48fb4d5d3fc5f" id="r_a1b418dc9214583c1b7a48fb4d5d3fc5f"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mman_8cxx.html#a1b418dc9214583c1b7a48fb4d5d3fc5f">cosmos::mem::map</a> (const size_t length, const <a class="el" href="structcosmos_1_1mem_1_1MapSettings.html">MapSettings</a> &amp;settings)</td></tr>
<tr class="memdesc:a1b418dc9214583c1b7a48fb4d5d3fc5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request a memory mapping of the given length using the provided settings.  <br /></td></tr>
<tr class="separator:a1b418dc9214583c1b7a48fb4d5d3fc5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7e71a590240adbef4f50444f958463e" id="r_aa7e71a590240adbef4f50444f958463e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mman_8cxx.html#aa7e71a590240adbef4f50444f958463e">cosmos::mem::unmap</a> (void *addr, const size_t length)</td></tr>
<tr class="memdesc:aa7e71a590240adbef4f50444f958463e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unmap an existing mapping at the given address and of the given length.  <br /></td></tr>
<tr class="separator:aa7e71a590240adbef4f50444f958463e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cc96642ce821f99bee6058d022c9535" id="r_a0cc96642ce821f99bee6058d022c9535"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mman_8cxx.html#a0cc96642ce821f99bee6058d022c9535">cosmos::mem::protect</a> (void *addr, const size_t length, const <a class="el" href="#acf403316d31acb150c40ad12bda0131c">AccessFlags</a> flags, const <a class="el" href="#a0df684c757700c22e85d3f3973483b6f">ProtectFlags</a> extra={})</td></tr>
<tr class="memdesc:a0cc96642ce821f99bee6058d022c9535"><td class="mdescLeft">&#160;</td><td class="mdescRight">Change memory protection settings of an existing mapping.  <br /></td></tr>
<tr class="separator:a0cc96642ce821f99bee6058d022c9535"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af78f7b26d8eb87a4f9b8fd131f8c8407" id="r_af78f7b26d8eb87a4f9b8fd131f8c8407"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mman_8cxx.html#af78f7b26d8eb87a4f9b8fd131f8c8407">cosmos::mem::remap</a> (void *old_addr, const size_t old_size, const size_t new_size, const <a class="el" href="classcosmos_1_1BitMask.html">RemapFlags</a> flags={}, std::optional&lt; void * &gt; new_addr={})</td></tr>
<tr class="memdesc:af78f7b26d8eb87a4f9b8fd131f8c8407"><td class="mdescLeft">&#160;</td><td class="mdescRight">Expand or shrink an existing memory mapping.  <br /></td></tr>
<tr class="separator:af78f7b26d8eb87a4f9b8fd131f8c8407"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bb115fab3386db7db714ea4df163b8c" id="r_a2bb115fab3386db7db714ea4df163b8c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mman_8cxx.html#a2bb115fab3386db7db714ea4df163b8c">cosmos::mem::sync</a> (void *addr, const size_t length, const <a class="el" href="classcosmos_1_1BitMask.html">SyncFlags</a> flags=<a class="el" href="classcosmos_1_1BitMask.html">SyncFlags</a>{<a class="el" href="#a95494c109bf8f696d54d3b37915b8ac8a274ccef15a21e829d03293a6fd1974f3">SyncFlag::SYNC</a>})</td></tr>
<tr class="memdesc:a2bb115fab3386db7db714ea4df163b8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Synchronize changes in a memory mapping with the file backing it.  <br /></td></tr>
<tr class="separator:a2bb115fab3386db7db714ea4df163b8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab10136089261444112fd3644b21938ab" id="r_ab10136089261444112fd3644b21938ab"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mman_8cxx.html#ab10136089261444112fd3644b21938ab">cosmos::mem::lock</a> (void *addr, const size_t length, const <a class="el" href="classcosmos_1_1BitMask.html">LockFlags</a> flags={})</td></tr>
<tr class="memdesc:ab10136089261444112fd3644b21938ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lock pages in memory, preventing memory from being paged to the swap area.  <br /></td></tr>
<tr class="separator:ab10136089261444112fd3644b21938ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71e5c89edea99042c3c05e46a654f94e" id="r_a71e5c89edea99042c3c05e46a654f94e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mman_8cxx.html#a71e5c89edea99042c3c05e46a654f94e">cosmos::mem::unlock</a> (void *addr, const size_t length)</td></tr>
<tr class="memdesc:a71e5c89edea99042c3c05e46a654f94e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unlock previously locked pages.  <br /></td></tr>
<tr class="separator:a71e5c89edea99042c3c05e46a654f94e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a900172670ddddbd51d9ecfa3e3d8bd86" id="r_a900172670ddddbd51d9ecfa3e3d8bd86"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mman_8cxx.html#a900172670ddddbd51d9ecfa3e3d8bd86">cosmos::mem::lock_all</a> (const <a class="el" href="classcosmos_1_1BitMask.html">LockAllFlags</a> flags)</td></tr>
<tr class="memdesc:a900172670ddddbd51d9ecfa3e3d8bd86"><td class="mdescLeft">&#160;</td><td class="mdescRight">Locks all current and/or future pages in memory.  <br /></td></tr>
<tr class="separator:a900172670ddddbd51d9ecfa3e3d8bd86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc546245d3707dd5cc17593ffe394cc2" id="r_abc546245d3707dd5cc17593ffe394cc2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mman_8cxx.html#abc546245d3707dd5cc17593ffe394cc2">cosmos::mem::unlock_all</a> ()</td></tr>
<tr class="memdesc:abc546245d3707dd5cc17593ffe394cc2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unlock all current process memory pages..  <br /></td></tr>
<tr class="separator:abc546245d3707dd5cc17593ffe394cc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This header contains memory mapping related functionality. </p>

<p class="definition">Definition in file <a class="el" href="mman_8hxx_source.html">mman.hxx</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a1e573c3df3fffc9a8cd945af5502be85" name="a1e573c3df3fffc9a8cd945af5502be85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e573c3df3fffc9a8cd945af5502be85">&#9670;&#160;</a></span>PROT_SAO</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PROT_SAO&#160;&#160;&#160;0x10</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mman_8hxx_source.html#l00034">34</a> of file <a class="el" href="mman_8hxx_source.html">mman.hxx</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="acf403316d31acb150c40ad12bda0131c" name="acf403316d31acb150c40ad12bda0131c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf403316d31acb150c40ad12bda0131c">&#9670;&#160;</a></span>AccessFlags</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="#acf403316d31acb150c40ad12bda0131c">cosmos::mem::AccessFlags</a> = BitMask&lt;AccessFlag&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A mask of memory page access settings. </p>

<p class="definition">Definition at line <a class="el" href="mman_8hxx_source.html#l00048">48</a> of file <a class="el" href="mman_8hxx_source.html">mman.hxx</a>.</p>

</div>
</div>
<a id="a599ec40cf4ccdd372f629ab00356c4d3" name="a599ec40cf4ccdd372f629ab00356c4d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a599ec40cf4ccdd372f629ab00356c4d3">&#9670;&#160;</a></span>LockAllFlags</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classcosmos_1_1BitMask.html">cosmos::mem::LockAllFlags</a> = BitMask&lt;LockAllFlag&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mman_8hxx_source.html#l00373">373</a> of file <a class="el" href="mman_8hxx_source.html">mman.hxx</a>.</p>

</div>
</div>
<a id="a7c4edfab62e3c053436b4ec75819fd00" name="a7c4edfab62e3c053436b4ec75819fd00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c4edfab62e3c053436b4ec75819fd00">&#9670;&#160;</a></span>LockFlags</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classcosmos_1_1BitMask.html">cosmos::mem::LockFlags</a> = BitMask&lt;LockFlag&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mman_8hxx_source.html#l00317">317</a> of file <a class="el" href="mman_8hxx_source.html">mman.hxx</a>.</p>

</div>
</div>
<a id="a0df684c757700c22e85d3f3973483b6f" name="a0df684c757700c22e85d3f3973483b6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0df684c757700c22e85d3f3973483b6f">&#9670;&#160;</a></span>ProtectFlags</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="#a0df684c757700c22e85d3f3973483b6f">cosmos::mem::ProtectFlags</a> = BitMask&lt;ProtectFlag&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A mask of extra settings used in mem::protect(). </p>

<p class="definition">Definition at line <a class="el" href="mman_8hxx_source.html#l00188">188</a> of file <a class="el" href="mman_8hxx_source.html">mman.hxx</a>.</p>

</div>
</div>
<a id="a1948e471c68c35110cda0c98f2ff5dff" name="a1948e471c68c35110cda0c98f2ff5dff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1948e471c68c35110cda0c98f2ff5dff">&#9670;&#160;</a></span>RemapFlags</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classcosmos_1_1BitMask.html">cosmos::mem::RemapFlags</a> = BitMask&lt;RemapFlag&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mman_8hxx_source.html#l00222">222</a> of file <a class="el" href="mman_8hxx_source.html">mman.hxx</a>.</p>

</div>
</div>
<a id="a14f2e5feecd99e315b6662604cbfb60d" name="a14f2e5feecd99e315b6662604cbfb60d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14f2e5feecd99e315b6662604cbfb60d">&#9670;&#160;</a></span>SyncFlags</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classcosmos_1_1BitMask.html">cosmos::mem::SyncFlags</a> = BitMask&lt;SyncFlag&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mman_8hxx_source.html#l00287">287</a> of file <a class="el" href="mman_8hxx_source.html">mman.hxx</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="afb9443daacfad2ab033d0ab08a594fd4" name="afb9443daacfad2ab033d0ab08a594fd4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb9443daacfad2ab033d0ab08a594fd4">&#9670;&#160;</a></span>AccessFlag</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum class <a class="el" href="#afb9443daacfad2ab033d0ab08a594fd4">cosmos::mem::AccessFlag</a> : int</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Different memory page access permissions. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="afb9443daacfad2ab033d0ab08a594fd4af28b3aad7d43b371527fde69de8d93ff" name="afb9443daacfad2ab033d0ab08a594fd4af28b3aad7d43b371527fde69de8d93ff"></a>EXEC&#160;</td><td class="fielddoc"><p>allow execute access </p>
</td></tr>
<tr><td class="fieldname"><a id="afb9443daacfad2ab033d0ab08a594fd4a3466fab4975481651940ed328aa990e4" name="afb9443daacfad2ab033d0ab08a594fd4a3466fab4975481651940ed328aa990e4"></a>READ&#160;</td><td class="fielddoc"><p>allow read access </p>
</td></tr>
<tr><td class="fieldname"><a id="afb9443daacfad2ab033d0ab08a594fd4ad4b9e47f65b6e79b010582f15785867e" name="afb9443daacfad2ab033d0ab08a594fd4ad4b9e47f65b6e79b010582f15785867e"></a>WRITE&#160;</td><td class="fielddoc"><p>allow write access </p>
</td></tr>
<tr><td class="fieldname"><a id="afb9443daacfad2ab033d0ab08a594fd4ab50339a10e1de285ac99d4c3990b8693" name="afb9443daacfad2ab033d0ab08a594fd4ab50339a10e1de285ac99d4c3990b8693"></a>NONE&#160;</td><td class="fielddoc"><p>no access is allowed at all; this is not actually a bit position, but simply a zero value. </p>
</td></tr>
<tr><td class="fieldname"><a id="afb9443daacfad2ab033d0ab08a594fd4a2278d5c87fcc9f60ce51e11b8795e524" name="afb9443daacfad2ab033d0ab08a594fd4a2278d5c87fcc9f60ce51e11b8795e524"></a>SEM&#160;</td><td class="fielddoc"><p>the memory can be used for atomic operations (used with futexes, doesn't currently do anything on any architecture) </p>
</td></tr>
<tr><td class="fieldname"><a id="afb9443daacfad2ab033d0ab08a594fd4a951c629f8577faff4dafd4a4708474fa" name="afb9443daacfad2ab033d0ab08a594fd4a951c629f8577faff4dafd4a4708474fa"></a>SAO&#160;</td><td class="fielddoc"><p>the memory should have strong access ordering (a PowerPC architecture feature) </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="mman_8hxx_source.html#l00038">38</a> of file <a class="el" href="mman_8hxx_source.html">mman.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   38</span>                      : <span class="keywordtype">int</span> {</div>
<div class="line"><span class="lineno">   39</span>        <a class="code hl_enumvalue" href="#afb9443daacfad2ab033d0ab08a594fd4af28b3aad7d43b371527fde69de8d93ff">EXEC</a>  = PROT_EXEC,  </div>
<div class="line"><span class="lineno">   40</span>        <a class="code hl_enumvalue" href="#afb9443daacfad2ab033d0ab08a594fd4a3466fab4975481651940ed328aa990e4">READ</a>  = PROT_READ,  </div>
<div class="line"><span class="lineno">   41</span>        <a class="code hl_enumvalue" href="#afb9443daacfad2ab033d0ab08a594fd4ad4b9e47f65b6e79b010582f15785867e">WRITE</a> = PROT_WRITE, </div>
<div class="line"><span class="lineno">   42</span>        NONE  = PROT_NONE,  </div>
<div class="line"><span class="lineno">   43</span>        <a class="code hl_enumvalue" href="#afb9443daacfad2ab033d0ab08a594fd4a2278d5c87fcc9f60ce51e11b8795e524">SEM</a>   = PROT_SEM,   </div>
<div class="line"><span class="lineno">   44</span>        <a class="code hl_enumvalue" href="#afb9443daacfad2ab033d0ab08a594fd4a951c629f8577faff4dafd4a4708474fa">SAO</a>   = PROT_SAO,   </div>
<div class="line"><span class="lineno">   45</span>};</div>
<div class="ttc" id="amman_8hxx_html_afb9443daacfad2ab033d0ab08a594fd4a2278d5c87fcc9f60ce51e11b8795e524"><div class="ttname"><a href="#afb9443daacfad2ab033d0ab08a594fd4a2278d5c87fcc9f60ce51e11b8795e524">cosmos::mem::AccessFlag::SEM</a></div><div class="ttdeci">@ SEM</div><div class="ttdoc">the memory can be used for atomic operations (used with futexes, doesn't currently do anything on any...</div></div>
<div class="ttc" id="amman_8hxx_html_afb9443daacfad2ab033d0ab08a594fd4a3466fab4975481651940ed328aa990e4"><div class="ttname"><a href="#afb9443daacfad2ab033d0ab08a594fd4a3466fab4975481651940ed328aa990e4">cosmos::mem::AccessFlag::READ</a></div><div class="ttdeci">@ READ</div><div class="ttdoc">allow read access</div></div>
<div class="ttc" id="amman_8hxx_html_afb9443daacfad2ab033d0ab08a594fd4a951c629f8577faff4dafd4a4708474fa"><div class="ttname"><a href="#afb9443daacfad2ab033d0ab08a594fd4a951c629f8577faff4dafd4a4708474fa">cosmos::mem::AccessFlag::SAO</a></div><div class="ttdeci">@ SAO</div><div class="ttdoc">the memory should have strong access ordering (a PowerPC architecture feature)</div></div>
<div class="ttc" id="amman_8hxx_html_afb9443daacfad2ab033d0ab08a594fd4ad4b9e47f65b6e79b010582f15785867e"><div class="ttname"><a href="#afb9443daacfad2ab033d0ab08a594fd4ad4b9e47f65b6e79b010582f15785867e">cosmos::mem::AccessFlag::WRITE</a></div><div class="ttdeci">@ WRITE</div><div class="ttdoc">allow write access</div></div>
<div class="ttc" id="amman_8hxx_html_afb9443daacfad2ab033d0ab08a594fd4af28b3aad7d43b371527fde69de8d93ff"><div class="ttname"><a href="#afb9443daacfad2ab033d0ab08a594fd4af28b3aad7d43b371527fde69de8d93ff">cosmos::mem::AccessFlag::EXEC</a></div><div class="ttdeci">@ EXEC</div><div class="ttdoc">allow execute access</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a96bc02608edf205de3ad910df9cc4528" name="a96bc02608edf205de3ad910df9cc4528"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96bc02608edf205de3ad910df9cc4528">&#9670;&#160;</a></span>LockAllFlag</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum class <a class="el" href="#a96bc02608edf205de3ad910df9cc4528">cosmos::mem::LockAllFlag</a> : int</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Flags passed to cosmos::mem::lockall(). </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a96bc02608edf205de3ad910df9cc4528aa2770969c827f0f2910f6179418462df" name="a96bc02608edf205de3ad910df9cc4528aa2770969c827f0f2910f6179418462df"></a>CURRENT&#160;</td><td class="fielddoc"><p>lock all currently loaded pages in memory. </p>
</td></tr>
<tr><td class="fieldname"><a id="a96bc02608edf205de3ad910df9cc4528afa4cec41dc4b368db740c5cb2300b7a3" name="a96bc02608edf205de3ad910df9cc4528afa4cec41dc4b368db740c5cb2300b7a3"></a>FUTURE&#160;</td><td class="fielddoc"><p>lock all pages loaded in the future in memory. </p>
</td></tr>
<tr><td class="fieldname"><a id="a96bc02608edf205de3ad910df9cc4528a1427e9beca539e69b791bd6cd5edaeaa" name="a96bc02608edf205de3ad910df9cc4528a1427e9beca539e69b791bd6cd5edaeaa"></a>ONFAULT&#160;</td><td class="fielddoc"><p>lock all current/future pages, but don't pre-fault them. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="mman_8hxx_source.html#l00367">367</a> of file <a class="el" href="mman_8hxx_source.html">mman.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  367</span>                       : <span class="keywordtype">int</span> {</div>
<div class="line"><span class="lineno">  368</span>        <a class="code hl_enumvalue" href="#a96bc02608edf205de3ad910df9cc4528aa2770969c827f0f2910f6179418462df">CURRENT</a> = MCL_CURRENT, </div>
<div class="line"><span class="lineno">  369</span>        <a class="code hl_enumvalue" href="#a96bc02608edf205de3ad910df9cc4528afa4cec41dc4b368db740c5cb2300b7a3">FUTURE</a>  = MCL_FUTURE,  </div>
<div class="line"><span class="lineno">  370</span>        <a class="code hl_enumvalue" href="#a96bc02608edf205de3ad910df9cc4528a1427e9beca539e69b791bd6cd5edaeaa">ONFAULT</a> = MCL_ONFAULT, </div>
<div class="line"><span class="lineno">  371</span>};</div>
<div class="ttc" id="amman_8hxx_html_a96bc02608edf205de3ad910df9cc4528a1427e9beca539e69b791bd6cd5edaeaa"><div class="ttname"><a href="#a96bc02608edf205de3ad910df9cc4528a1427e9beca539e69b791bd6cd5edaeaa">cosmos::mem::LockAllFlag::ONFAULT</a></div><div class="ttdeci">@ ONFAULT</div><div class="ttdoc">lock all current/future pages, but don't pre-fault them.</div></div>
<div class="ttc" id="amman_8hxx_html_a96bc02608edf205de3ad910df9cc4528aa2770969c827f0f2910f6179418462df"><div class="ttname"><a href="#a96bc02608edf205de3ad910df9cc4528aa2770969c827f0f2910f6179418462df">cosmos::mem::LockAllFlag::CURRENT</a></div><div class="ttdeci">@ CURRENT</div><div class="ttdoc">lock all currently loaded pages in memory.</div></div>
<div class="ttc" id="amman_8hxx_html_a96bc02608edf205de3ad910df9cc4528afa4cec41dc4b368db740c5cb2300b7a3"><div class="ttname"><a href="#a96bc02608edf205de3ad910df9cc4528afa4cec41dc4b368db740c5cb2300b7a3">cosmos::mem::LockAllFlag::FUTURE</a></div><div class="ttdeci">@ FUTURE</div><div class="ttdoc">lock all pages loaded in the future in memory.</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a594afcc90d112128fce2a8f6122a5309" name="a594afcc90d112128fce2a8f6122a5309"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a594afcc90d112128fce2a8f6122a5309">&#9670;&#160;</a></span>LockFlag</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum class <a class="el" href="#a594afcc90d112128fce2a8f6122a5309">cosmos::mem::LockFlag</a> : unsigned int</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Flags used with cosmos::mem::lock(). </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a594afcc90d112128fce2a8f6122a5309ac856060b344f8f40d30c6decac8e3d3b" name="a594afcc90d112128fce2a8f6122a5309ac856060b344f8f40d30c6decac8e3d3b"></a>LOCK_ON_FAULT&#160;</td><td class="fielddoc"><p>lock all pages that are already resident, the rest will be locked after a page fault occurs. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="mman_8hxx_source.html#l00313">313</a> of file <a class="el" href="mman_8hxx_source.html">mman.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  313</span>                    : <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> {</div>
<div class="line"><span class="lineno">  314</span>        <a class="code hl_enumvalue" href="#a594afcc90d112128fce2a8f6122a5309ac856060b344f8f40d30c6decac8e3d3b">LOCK_ON_FAULT</a> = MLOCK_ONFAULT, </div>
<div class="line"><span class="lineno">  315</span>};</div>
<div class="ttc" id="amman_8hxx_html_a594afcc90d112128fce2a8f6122a5309ac856060b344f8f40d30c6decac8e3d3b"><div class="ttname"><a href="#a594afcc90d112128fce2a8f6122a5309ac856060b344f8f40d30c6decac8e3d3b">cosmos::mem::LockFlag::LOCK_ON_FAULT</a></div><div class="ttdeci">@ LOCK_ON_FAULT</div><div class="ttdoc">lock all pages that are already resident, the rest will be locked after a page fault occurs.</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae3b95f6ae2fe5969048ee0ed7c327a59" name="ae3b95f6ae2fe5969048ee0ed7c327a59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3b95f6ae2fe5969048ee0ed7c327a59">&#9670;&#160;</a></span>MapFlag</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum class <a class="el" href="#ae3b95f6ae2fe5969048ee0ed7c327a59">cosmos::mem::MapFlag</a> : int</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Flags that influence properties of memory mappings. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ae3b95f6ae2fe5969048ee0ed7c327a59a9bab2b4c50d8359fc53c582d09ca21df" name="ae3b95f6ae2fe5969048ee0ed7c327a59a9bab2b4c50d8359fc53c582d09ca21df"></a>ANONYMOUS&#160;</td><td class="fielddoc"><p>Create a mapping that is not backed by a file, contents are initialized to zero. </p>
<p>The offset should be zero and the file descriptor invalid. </p>
</td></tr>
<tr><td class="fieldname"><a id="ae3b95f6ae2fe5969048ee0ed7c327a59ac6e6dc18b53b4c2681394b9d8aefcec7" name="ae3b95f6ae2fe5969048ee0ed7c327a59ac6e6dc18b53b4c2681394b9d8aefcec7"></a>FIXED&#160;</td><td class="fielddoc"><p>Map memory exactly at the given hint address, replacing already existing mappings at the address. </p>
</td></tr>
<tr><td class="fieldname"><a id="ae3b95f6ae2fe5969048ee0ed7c327a59a08334200c31ecd2659d881970e4841f4" name="ae3b95f6ae2fe5969048ee0ed7c327a59a08334200c31ecd2659d881970e4841f4"></a>FIXED_NOREPLACE&#160;</td><td class="fielddoc"><p>Like FIXED but don't replace existing mappings, fail with EEXISTS instead. </p>
</td></tr>
<tr><td class="fieldname"><a id="ae3b95f6ae2fe5969048ee0ed7c327a59a4b3aeff032faf96486ac6696e0a1f18e" name="ae3b95f6ae2fe5969048ee0ed7c327a59a4b3aeff032faf96486ac6696e0a1f18e"></a>GROWSDOWN&#160;</td><td class="fielddoc"><p>Create a mapping suitable for stacks, including automatic growing via a guard page. </p>
</td></tr>
<tr><td class="fieldname"><a id="ae3b95f6ae2fe5969048ee0ed7c327a59ae7f49edc57b44754646ac3a29a4c1963" name="ae3b95f6ae2fe5969048ee0ed7c327a59ae7f49edc57b44754646ac3a29a4c1963"></a>HUGETLB&#160;</td><td class="fielddoc"><p>Allocate the mapping using hugetlb page sizes, see also <a class="el" href="classcosmos_1_1mem_1_1MapFlags.html#a17355900a726ab037ea201b32ce3a4c7" title="Sets the TLB page size if MapFlag::HUGETLB is set.">MapFlags::setTLBPageSize()</a>. </p>
</td></tr>
<tr><td class="fieldname"><a id="ae3b95f6ae2fe5969048ee0ed7c327a59aaeff3f3f2731681b2ed6a27786a56203" name="ae3b95f6ae2fe5969048ee0ed7c327a59aaeff3f3f2731681b2ed6a27786a56203"></a>LOCKED&#160;</td><td class="fielddoc"><p>Mark the memory to be locked similar to mem::lock(), but no major faults will be prevented. </p>
</td></tr>
<tr><td class="fieldname"><a id="ae3b95f6ae2fe5969048ee0ed7c327a59aafc3203b70037086fb9aa7f2ced7a9f0" name="ae3b95f6ae2fe5969048ee0ed7c327a59aafc3203b70037086fb9aa7f2ced7a9f0"></a>NONBLOCK&#160;</td><td class="fielddoc"><p>Used in conjunction with POPULATE, currently causes POPULATE to do nothing though. </p>
</td></tr>
<tr><td class="fieldname"><a id="ae3b95f6ae2fe5969048ee0ed7c327a59a3debbed899425b47fa5ea716c04174e0" name="ae3b95f6ae2fe5969048ee0ed7c327a59a3debbed899425b47fa5ea716c04174e0"></a>NORESERVE&#160;</td><td class="fielddoc"><p>Do not reserve swap space for this mapping. </p>
<p>Writes may fail with SIGSEGV if no physical memory is available. </p>
</td></tr>
<tr><td class="fieldname"><a id="ae3b95f6ae2fe5969048ee0ed7c327a59a91063ada2e312c0bab339059be3b1245" name="ae3b95f6ae2fe5969048ee0ed7c327a59a91063ada2e312c0bab339059be3b1245"></a>POPULATE&#160;</td><td class="fielddoc"><p>Pre-fault page tables for a mapping. </p>
<p>This is reduce blocking on page faults later; failure to populate the mapping does not cause an error of mmap(), though. </p>
</td></tr>
<tr><td class="fieldname"><a id="ae3b95f6ae2fe5969048ee0ed7c327a59a0fac686d86aba414411b58f6bce53a76" name="ae3b95f6ae2fe5969048ee0ed7c327a59a0fac686d86aba414411b58f6bce53a76"></a>STACK&#160;</td><td class="fielddoc"><p>Allocate the mapping at an address suitable for a thread stack (currently has no effect on Linux). </p>
</td></tr>
<tr><td class="fieldname"><a id="ae3b95f6ae2fe5969048ee0ed7c327a59a274ccef15a21e829d03293a6fd1974f3" name="ae3b95f6ae2fe5969048ee0ed7c327a59a274ccef15a21e829d03293a6fd1974f3"></a>SYNC&#160;</td><td class="fielddoc"><p>Synchronous writes for files supporting DAX (direct memory access). </p>
<p>Using this flag only works in combination with <a class="el" href="#acebc9aa586f79934a0697dac934d0e57ade8d366fa756ce6c9ad4365b72e15148" title="Same as SHARED but the MapFlags will be validated for unknown flags.">MapType::SHARED_VALIDATE</a>, otherwise it is ignored. For supported files, if suitable CPU instructions are used for writing to memory, it is guaranteed that the state of the memory is also found on the underlying persistent device. </p>
</td></tr>
<tr><td class="fieldname"><a id="ae3b95f6ae2fe5969048ee0ed7c327a59add652546039b18970b8dcf2cff824268" name="ae3b95f6ae2fe5969048ee0ed7c327a59add652546039b18970b8dcf2cff824268"></a>UNINITIALIZED&#160;</td><td class="fielddoc"><p>Don't clear anonymous pages. </p>
<p>Only possible if CONFIG_MMAP_ALLOW_UNITIALIZED is set in the kernel </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="mman_8hxx_source.html#l00051">51</a> of file <a class="el" href="mman_8hxx_source.html">mman.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   51</span>                   : <span class="keywordtype">int</span> {</div>
<div class="line"><span class="lineno">   52</span><span class="preprocessor">#ifdef MAP_32BIT </span><span class="comment">// this is not defined on non-x86 architectures?</span></div>
<div class="line"><span class="lineno">   54</span> </div>
<div class="line"><span class="lineno">   57</span>        INTO_32BIT      = MAP_32BIT,</div>
<div class="line"><span class="lineno">   58</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">   60</span> </div>
<div class="line"><span class="lineno">   63</span>        <a class="code hl_enumvalue" href="#ae3b95f6ae2fe5969048ee0ed7c327a59a9bab2b4c50d8359fc53c582d09ca21df">ANONYMOUS</a>       = MAP_ANONYMOUS,</div>
<div class="line"><span class="lineno">   65</span>        <a class="code hl_enumvalue" href="#ae3b95f6ae2fe5969048ee0ed7c327a59ac6e6dc18b53b4c2681394b9d8aefcec7">FIXED</a>           = MAP_FIXED,</div>
<div class="line"><span class="lineno">   67</span>        <a class="code hl_enumvalue" href="#ae3b95f6ae2fe5969048ee0ed7c327a59a08334200c31ecd2659d881970e4841f4">FIXED_NOREPLACE</a> = MAP_FIXED_NOREPLACE,</div>
<div class="line"><span class="lineno">   69</span>        <a class="code hl_enumvalue" href="#ae3b95f6ae2fe5969048ee0ed7c327a59a4b3aeff032faf96486ac6696e0a1f18e">GROWSDOWN</a>       = MAP_GROWSDOWN,</div>
<div class="line"><span class="lineno">   71</span>        <a class="code hl_enumvalue" href="#ae3b95f6ae2fe5969048ee0ed7c327a59ae7f49edc57b44754646ac3a29a4c1963">HUGETLB</a>         = MAP_HUGETLB,</div>
<div class="line"><span class="lineno">   73</span>        <a class="code hl_enumvalue" href="#ae3b95f6ae2fe5969048ee0ed7c327a59aaeff3f3f2731681b2ed6a27786a56203">LOCKED</a>          = MAP_LOCKED,</div>
<div class="line"><span class="lineno">   75</span>        <a class="code hl_enumvalue" href="fs_2types_8hxx.html#aa65904a13ec31d33634f5870151cece2aafc3203b70037086fb9aa7f2ced7a9f0">NONBLOCK</a>        = MAP_NONBLOCK,</div>
<div class="line"><span class="lineno">   77</span> </div>
<div class="line"><span class="lineno">   80</span>        <a class="code hl_enumvalue" href="#ae3b95f6ae2fe5969048ee0ed7c327a59a3debbed899425b47fa5ea716c04174e0">NORESERVE</a>       = MAP_NORESERVE,</div>
<div class="line"><span class="lineno">   82</span> </div>
<div class="line"><span class="lineno">   86</span>        <a class="code hl_enumvalue" href="#ae3b95f6ae2fe5969048ee0ed7c327a59a91063ada2e312c0bab339059be3b1245">POPULATE</a>        = MAP_POPULATE,</div>
<div class="line"><span class="lineno">   88</span>        <a class="code hl_enumvalue" href="#ae3b95f6ae2fe5969048ee0ed7c327a59a0fac686d86aba414411b58f6bce53a76">STACK</a>           = MAP_STACK,</div>
<div class="line"><span class="lineno">   90</span> </div>
<div class="line"><span class="lineno">   97</span>        <a class="code hl_enumvalue" href="fs_2types_8hxx.html#aa65904a13ec31d33634f5870151cece2a274ccef15a21e829d03293a6fd1974f3">SYNC</a>            = MAP_SYNC,</div>
<div class="line"><span class="lineno">   99</span> </div>
<div class="line"><span class="lineno">  103</span>        <a class="code hl_enumvalue" href="#ae3b95f6ae2fe5969048ee0ed7c327a59add652546039b18970b8dcf2cff824268">UNINITIALIZED</a>   = MAP_UNINITIALIZED,</div>
<div class="line"><span class="lineno">  104</span>};</div>
<div class="ttc" id="afs_2types_8hxx_html_aa65904a13ec31d33634f5870151cece2a274ccef15a21e829d03293a6fd1974f3"><div class="ttname"><a href="fs_2types_8hxx.html#aa65904a13ec31d33634f5870151cece2a274ccef15a21e829d03293a6fd1974f3">cosmos::OpenFlag::SYNC</a></div><div class="ttdeci">@ SYNC</div><div class="ttdoc">Similar to DSYNC, see man page.</div></div>
<div class="ttc" id="afs_2types_8hxx_html_aa65904a13ec31d33634f5870151cece2aafc3203b70037086fb9aa7f2ced7a9f0"><div class="ttname"><a href="fs_2types_8hxx.html#aa65904a13ec31d33634f5870151cece2aafc3203b70037086fb9aa7f2ced7a9f0">cosmos::OpenFlag::NONBLOCK</a></div><div class="ttdeci">@ NONBLOCK</div><div class="ttdoc">Attempt to open the file in non-blocking mode causing I/O operations not to block.</div></div>
<div class="ttc" id="amman_8hxx_html_ae3b95f6ae2fe5969048ee0ed7c327a59a08334200c31ecd2659d881970e4841f4"><div class="ttname"><a href="#ae3b95f6ae2fe5969048ee0ed7c327a59a08334200c31ecd2659d881970e4841f4">cosmos::mem::MapFlag::FIXED_NOREPLACE</a></div><div class="ttdeci">@ FIXED_NOREPLACE</div><div class="ttdoc">Like FIXED but don't replace existing mappings, fail with EEXISTS instead.</div></div>
<div class="ttc" id="amman_8hxx_html_ae3b95f6ae2fe5969048ee0ed7c327a59a0fac686d86aba414411b58f6bce53a76"><div class="ttname"><a href="#ae3b95f6ae2fe5969048ee0ed7c327a59a0fac686d86aba414411b58f6bce53a76">cosmos::mem::MapFlag::STACK</a></div><div class="ttdeci">@ STACK</div><div class="ttdoc">Allocate the mapping at an address suitable for a thread stack (currently has no effect on Linux).</div></div>
<div class="ttc" id="amman_8hxx_html_ae3b95f6ae2fe5969048ee0ed7c327a59a3debbed899425b47fa5ea716c04174e0"><div class="ttname"><a href="#ae3b95f6ae2fe5969048ee0ed7c327a59a3debbed899425b47fa5ea716c04174e0">cosmos::mem::MapFlag::NORESERVE</a></div><div class="ttdeci">@ NORESERVE</div><div class="ttdoc">Do not reserve swap space for this mapping.</div></div>
<div class="ttc" id="amman_8hxx_html_ae3b95f6ae2fe5969048ee0ed7c327a59a4b3aeff032faf96486ac6696e0a1f18e"><div class="ttname"><a href="#ae3b95f6ae2fe5969048ee0ed7c327a59a4b3aeff032faf96486ac6696e0a1f18e">cosmos::mem::MapFlag::GROWSDOWN</a></div><div class="ttdeci">@ GROWSDOWN</div><div class="ttdoc">Create a mapping suitable for stacks, including automatic growing via a guard page.</div></div>
<div class="ttc" id="amman_8hxx_html_ae3b95f6ae2fe5969048ee0ed7c327a59a91063ada2e312c0bab339059be3b1245"><div class="ttname"><a href="#ae3b95f6ae2fe5969048ee0ed7c327a59a91063ada2e312c0bab339059be3b1245">cosmos::mem::MapFlag::POPULATE</a></div><div class="ttdeci">@ POPULATE</div><div class="ttdoc">Pre-fault page tables for a mapping.</div></div>
<div class="ttc" id="amman_8hxx_html_ae3b95f6ae2fe5969048ee0ed7c327a59a9bab2b4c50d8359fc53c582d09ca21df"><div class="ttname"><a href="#ae3b95f6ae2fe5969048ee0ed7c327a59a9bab2b4c50d8359fc53c582d09ca21df">cosmos::mem::MapFlag::ANONYMOUS</a></div><div class="ttdeci">@ ANONYMOUS</div><div class="ttdoc">Create a mapping that is not backed by a file, contents are initialized to zero.</div></div>
<div class="ttc" id="amman_8hxx_html_ae3b95f6ae2fe5969048ee0ed7c327a59aaeff3f3f2731681b2ed6a27786a56203"><div class="ttname"><a href="#ae3b95f6ae2fe5969048ee0ed7c327a59aaeff3f3f2731681b2ed6a27786a56203">cosmos::mem::MapFlag::LOCKED</a></div><div class="ttdeci">@ LOCKED</div><div class="ttdoc">Mark the memory to be locked similar to mem::lock(), but no major faults will be prevented.</div></div>
<div class="ttc" id="amman_8hxx_html_ae3b95f6ae2fe5969048ee0ed7c327a59ac6e6dc18b53b4c2681394b9d8aefcec7"><div class="ttname"><a href="#ae3b95f6ae2fe5969048ee0ed7c327a59ac6e6dc18b53b4c2681394b9d8aefcec7">cosmos::mem::MapFlag::FIXED</a></div><div class="ttdeci">@ FIXED</div><div class="ttdoc">Map memory exactly at the given hint address, replacing already existing mappings at the address.</div></div>
<div class="ttc" id="amman_8hxx_html_ae3b95f6ae2fe5969048ee0ed7c327a59add652546039b18970b8dcf2cff824268"><div class="ttname"><a href="#ae3b95f6ae2fe5969048ee0ed7c327a59add652546039b18970b8dcf2cff824268">cosmos::mem::MapFlag::UNINITIALIZED</a></div><div class="ttdeci">@ UNINITIALIZED</div><div class="ttdoc">Don't clear anonymous pages.</div></div>
<div class="ttc" id="amman_8hxx_html_ae3b95f6ae2fe5969048ee0ed7c327a59ae7f49edc57b44754646ac3a29a4c1963"><div class="ttname"><a href="#ae3b95f6ae2fe5969048ee0ed7c327a59ae7f49edc57b44754646ac3a29a4c1963">cosmos::mem::MapFlag::HUGETLB</a></div><div class="ttdeci">@ HUGETLB</div><div class="ttdoc">Allocate the mapping using hugetlb page sizes, see also MapFlags::setTLBPageSize().</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="acebc9aa586f79934a0697dac934d0e57" name="acebc9aa586f79934a0697dac934d0e57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acebc9aa586f79934a0697dac934d0e57">&#9670;&#160;</a></span>MapType</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum class <a class="el" href="#acebc9aa586f79934a0697dac934d0e57">cosmos::mem::MapType</a> : int</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The basic type of a memory mapping to be created. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="acebc9aa586f79934a0697dac934d0e57a049518eb4dc1859c7cebbe15876cfd63" name="acebc9aa586f79934a0697dac934d0e57a049518eb4dc1859c7cebbe15876cfd63"></a>SHARED&#160;</td><td class="fielddoc"><p>Creates a shared memory mapping that can be shared with other processes. </p>
</td></tr>
<tr><td class="fieldname"><a id="acebc9aa586f79934a0697dac934d0e57ade8d366fa756ce6c9ad4365b72e15148" name="acebc9aa586f79934a0697dac934d0e57ade8d366fa756ce6c9ad4365b72e15148"></a>SHARED_VALIDATE&#160;</td><td class="fielddoc"><p>Same as SHARED but the <a class="el" href="classcosmos_1_1mem_1_1MapFlags.html" title="Flags used in MapSettings.">MapFlags</a> will be validated for unknown flags. </p>
</td></tr>
<tr><td class="fieldname"><a id="acebc9aa586f79934a0697dac934d0e57a84c6d22cfdf3772e66b07bde636e0571" name="acebc9aa586f79934a0697dac934d0e57a84c6d22cfdf3772e66b07bde636e0571"></a>PRIVATE&#160;</td><td class="fielddoc"><p>A private copy-on-write mapping that isn't shared with other processes. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="mman_8hxx_source.html#l00023">23</a> of file <a class="el" href="mman_8hxx_source.html">mman.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   23</span>                   : <span class="keywordtype">int</span> {</div>
<div class="line"><span class="lineno">   25</span>        <a class="code hl_enumvalue" href="#acebc9aa586f79934a0697dac934d0e57a049518eb4dc1859c7cebbe15876cfd63">SHARED</a>          = MAP_SHARED,</div>
<div class="line"><span class="lineno">   27</span>        <a class="code hl_enumvalue" href="#acebc9aa586f79934a0697dac934d0e57ade8d366fa756ce6c9ad4365b72e15148">SHARED_VALIDATE</a> = MAP_SHARED_VALIDATE,</div>
<div class="line"><span class="lineno">   29</span>        <a class="code hl_enumvalue" href="#acebc9aa586f79934a0697dac934d0e57a84c6d22cfdf3772e66b07bde636e0571">PRIVATE</a>         = MAP_PRIVATE</div>
<div class="line"><span class="lineno">   30</span>};</div>
<div class="ttc" id="amman_8hxx_html_acebc9aa586f79934a0697dac934d0e57a049518eb4dc1859c7cebbe15876cfd63"><div class="ttname"><a href="#acebc9aa586f79934a0697dac934d0e57a049518eb4dc1859c7cebbe15876cfd63">cosmos::mem::MapType::SHARED</a></div><div class="ttdeci">@ SHARED</div><div class="ttdoc">Creates a shared memory mapping that can be shared with other processes.</div></div>
<div class="ttc" id="amman_8hxx_html_acebc9aa586f79934a0697dac934d0e57a84c6d22cfdf3772e66b07bde636e0571"><div class="ttname"><a href="#acebc9aa586f79934a0697dac934d0e57a84c6d22cfdf3772e66b07bde636e0571">cosmos::mem::MapType::PRIVATE</a></div><div class="ttdeci">@ PRIVATE</div><div class="ttdoc">A private copy-on-write mapping that isn't shared with other processes.</div></div>
<div class="ttc" id="amman_8hxx_html_acebc9aa586f79934a0697dac934d0e57ade8d366fa756ce6c9ad4365b72e15148"><div class="ttname"><a href="#acebc9aa586f79934a0697dac934d0e57ade8d366fa756ce6c9ad4365b72e15148">cosmos::mem::MapType::SHARED_VALIDATE</a></div><div class="ttdeci">@ SHARED_VALIDATE</div><div class="ttdoc">Same as SHARED but the MapFlags will be validated for unknown flags.</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a53d2bf92aa5edffe77da4ac9e997e174" name="a53d2bf92aa5edffe77da4ac9e997e174"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53d2bf92aa5edffe77da4ac9e997e174">&#9670;&#160;</a></span>ProtectFlag</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum class <a class="el" href="#a53d2bf92aa5edffe77da4ac9e997e174">cosmos::mem::ProtectFlag</a> : int</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Extra flags used with mem::protect(). </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a53d2bf92aa5edffe77da4ac9e997e174aed80d578f84c207df6ab2fb75b6befae" name="a53d2bf92aa5edffe77da4ac9e997e174aed80d578f84c207df6ab2fb75b6befae"></a>GROWSUP&#160;</td><td class="fielddoc"><p>Apply protection settings up to the end of mapping that grows upwards. </p>
</td></tr>
<tr><td class="fieldname"><a id="a53d2bf92aa5edffe77da4ac9e997e174a4b3aeff032faf96486ac6696e0a1f18e" name="a53d2bf92aa5edffe77da4ac9e997e174a4b3aeff032faf96486ac6696e0a1f18e"></a>GROWSDOWN&#160;</td><td class="fielddoc"><p>Apply protection settings down to the beginning of mapping that grows downwards. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="mman_8hxx_source.html#l00182">182</a> of file <a class="el" href="mman_8hxx_source.html">mman.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  182</span>                       : <span class="keywordtype">int</span> {</div>
<div class="line"><span class="lineno">  183</span>        <a class="code hl_enumvalue" href="#a53d2bf92aa5edffe77da4ac9e997e174aed80d578f84c207df6ab2fb75b6befae">GROWSUP</a>   = PROT_GROWSUP,   </div>
<div class="line"><span class="lineno">  184</span>        <a class="code hl_enumvalue" href="#ae3b95f6ae2fe5969048ee0ed7c327a59a4b3aeff032faf96486ac6696e0a1f18e">GROWSDOWN</a> = PROT_GROWSDOWN, </div>
<div class="line"><span class="lineno">  185</span>};</div>
<div class="ttc" id="amman_8hxx_html_a53d2bf92aa5edffe77da4ac9e997e174aed80d578f84c207df6ab2fb75b6befae"><div class="ttname"><a href="#a53d2bf92aa5edffe77da4ac9e997e174aed80d578f84c207df6ab2fb75b6befae">cosmos::mem::ProtectFlag::GROWSUP</a></div><div class="ttdeci">@ GROWSUP</div><div class="ttdoc">Apply protection settings up to the end of mapping that grows upwards.</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8741a1dc6e3c44ad82d23b9d3975ece2" name="a8741a1dc6e3c44ad82d23b9d3975ece2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8741a1dc6e3c44ad82d23b9d3975ece2">&#9670;&#160;</a></span>RemapFlag</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum class <a class="el" href="#a8741a1dc6e3c44ad82d23b9d3975ece2">cosmos::mem::RemapFlag</a> : int</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Flags used with cosmos::mem::remap(). </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a8741a1dc6e3c44ad82d23b9d3975ece2a2dcca21474438a7cd348b2566c1ccb12" name="a8741a1dc6e3c44ad82d23b9d3975ece2a2dcca21474438a7cd348b2566c1ccb12"></a>MAYMOVE&#160;</td><td class="fielddoc"><p>allow to move the mapping to a new starting address. </p>
</td></tr>
<tr><td class="fieldname"><a id="a8741a1dc6e3c44ad82d23b9d3975ece2ac6e6dc18b53b4c2681394b9d8aefcec7" name="a8741a1dc6e3c44ad82d23b9d3975ece2ac6e6dc18b53b4c2681394b9d8aefcec7"></a>FIXED&#160;</td><td class="fielddoc"><p>request the mapping to be placed at a fixed supplied address, similar to <a class="el" href="#ae3b95f6ae2fe5969048ee0ed7c327a59ac6e6dc18b53b4c2681394b9d8aefcec7" title="Map memory exactly at the given hint address, replacing already existing mappings at the address.">MapFlag::FIXED</a>; this requires the MAYMOVE flag to be set as well. </p>
</td></tr>
<tr><td class="fieldname"><a id="a8741a1dc6e3c44ad82d23b9d3975ece2aadb2e9300ec22399141fe4ea458acb14" name="a8741a1dc6e3c44ad82d23b9d3975ece2aadb2e9300ec22399141fe4ea458acb14"></a>DONTUNMAP&#160;</td><td class="fielddoc"><p>used only together with MAYMOVE; keep the original mapping available for special memory algorithms like <code>realloc()</code> or garbage collection. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="mman_8hxx_source.html#l00216">216</a> of file <a class="el" href="mman_8hxx_source.html">mman.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  216</span>                     : <span class="keywordtype">int</span> {</div>
<div class="line"><span class="lineno">  217</span>        <a class="code hl_enumvalue" href="#a8741a1dc6e3c44ad82d23b9d3975ece2a2dcca21474438a7cd348b2566c1ccb12">MAYMOVE</a>   = MREMAP_MAYMOVE,   </div>
<div class="line"><span class="lineno">  218</span>        <a class="code hl_enumvalue" href="#ae3b95f6ae2fe5969048ee0ed7c327a59ac6e6dc18b53b4c2681394b9d8aefcec7">FIXED</a>     = MREMAP_FIXED,     </div>
<div class="line"><span class="lineno">  219</span>        <a class="code hl_enumvalue" href="#a8741a1dc6e3c44ad82d23b9d3975ece2aadb2e9300ec22399141fe4ea458acb14">DONTUNMAP</a> = MREMAP_DONTUNMAP, </div>
<div class="line"><span class="lineno">  220</span>};</div>
<div class="ttc" id="amman_8hxx_html_a8741a1dc6e3c44ad82d23b9d3975ece2a2dcca21474438a7cd348b2566c1ccb12"><div class="ttname"><a href="#a8741a1dc6e3c44ad82d23b9d3975ece2a2dcca21474438a7cd348b2566c1ccb12">cosmos::mem::RemapFlag::MAYMOVE</a></div><div class="ttdeci">@ MAYMOVE</div><div class="ttdoc">allow to move the mapping to a new starting address.</div></div>
<div class="ttc" id="amman_8hxx_html_a8741a1dc6e3c44ad82d23b9d3975ece2aadb2e9300ec22399141fe4ea458acb14"><div class="ttname"><a href="#a8741a1dc6e3c44ad82d23b9d3975ece2aadb2e9300ec22399141fe4ea458acb14">cosmos::mem::RemapFlag::DONTUNMAP</a></div><div class="ttdeci">@ DONTUNMAP</div><div class="ttdoc">used only together with MAYMOVE; keep the original mapping available for special memory algorithms li...</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a95494c109bf8f696d54d3b37915b8ac8" name="a95494c109bf8f696d54d3b37915b8ac8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95494c109bf8f696d54d3b37915b8ac8">&#9670;&#160;</a></span>SyncFlag</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum class <a class="el" href="#a95494c109bf8f696d54d3b37915b8ac8">cosmos::mem::SyncFlag</a> : int</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Flags used with cosmos::mem::sync(). </p>
<p>At least one of ASYNC or SYNC, but not both, must be present when passing flags to sync(). </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a95494c109bf8f696d54d3b37915b8ac8abe553330beb7b3d994656e0a4e66cd96" name="a95494c109bf8f696d54d3b37915b8ac8abe553330beb7b3d994656e0a4e66cd96"></a>ASYNC&#160;</td><td class="fielddoc"><p>schedule the operation but return immediately. </p>
</td></tr>
<tr><td class="fieldname"><a id="a95494c109bf8f696d54d3b37915b8ac8a274ccef15a21e829d03293a6fd1974f3" name="a95494c109bf8f696d54d3b37915b8ac8a274ccef15a21e829d03293a6fd1974f3"></a>SYNC&#160;</td><td class="fielddoc"><p>perform the operation and block until completed. </p>
</td></tr>
<tr><td class="fieldname"><a id="a95494c109bf8f696d54d3b37915b8ac8ac7ba4bde5fe21a5ad38e8ddb71e2ae2a" name="a95494c109bf8f696d54d3b37915b8ac8ac7ba4bde5fe21a5ad38e8ddb71e2ae2a"></a>INVALIDATE&#160;</td><td class="fielddoc"><p>invalidate other mappings of the same file, allowing them to be updated with the changed data. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="mman_8hxx_source.html#l00281">281</a> of file <a class="el" href="mman_8hxx_source.html">mman.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  281</span>                    : <span class="keywordtype">int</span> {</div>
<div class="line"><span class="lineno">  282</span>        <a class="code hl_enumvalue" href="fs_2types_8hxx.html#aa65904a13ec31d33634f5870151cece2abe553330beb7b3d994656e0a4e66cd96">ASYNC</a>      = MS_ASYNC, </div>
<div class="line"><span class="lineno">  283</span>        <a class="code hl_enumvalue" href="fs_2types_8hxx.html#aa65904a13ec31d33634f5870151cece2a274ccef15a21e829d03293a6fd1974f3">SYNC</a>       = MS_SYNC,  </div>
<div class="line"><span class="lineno">  284</span>        <a class="code hl_enumvalue" href="#a95494c109bf8f696d54d3b37915b8ac8ac7ba4bde5fe21a5ad38e8ddb71e2ae2a">INVALIDATE</a> = MS_INVALIDATE </div>
<div class="line"><span class="lineno">  285</span>};</div>
<div class="ttc" id="afs_2types_8hxx_html_aa65904a13ec31d33634f5870151cece2abe553330beb7b3d994656e0a4e66cd96"><div class="ttname"><a href="fs_2types_8hxx.html#aa65904a13ec31d33634f5870151cece2abe553330beb7b3d994656e0a4e66cd96">cosmos::OpenFlag::ASYNC</a></div><div class="ttdeci">@ ASYNC</div><div class="ttdoc">Enable signal driven I/O for certain file types.</div></div>
<div class="ttc" id="amman_8hxx_html_a95494c109bf8f696d54d3b37915b8ac8ac7ba4bde5fe21a5ad38e8ddb71e2ae2a"><div class="ttname"><a href="#a95494c109bf8f696d54d3b37915b8ac8ac7ba4bde5fe21a5ad38e8ddb71e2ae2a">cosmos::mem::SyncFlag::INVALIDATE</a></div><div class="ttdeci">@ INVALIDATE</div><div class="ttdoc">invalidate other mappings of the same file, allowing them to be updated with the changed data.</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ab10136089261444112fd3644b21938ab" name="ab10136089261444112fd3644b21938ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab10136089261444112fd3644b21938ab">&#9670;&#160;</a></span>lock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">COSMOS_API void cosmos::mem::lock </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>addr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t</td>          <td class="paramname"><span class="paramname"><em>length</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classcosmos_1_1BitMask.html">LockFlags</a></td>          <td class="paramname"><span class="paramname"><em>flags</em></span><span class="paramdefsep"> = </span><span class="paramdefval">{}</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Lock pages in memory, preventing memory from being paged to the swap area. </p>
<p>The given address range will be pre-faulted upon return (unless LockFlag::LOCK_ON_FAULT is set in <code>flags</code>) and will be prevented from being swapped out. The main applications for this feature are real-time requirements or security considerations (preventing sensitive data from ending up on disk).</p>
<p>Memory locks do not stack, i.e. calling lock() multiple times doesn't change the state, a single unlock() will remove the lock.</p>
<p>Memory locks are not maintained across process forks or execve().</p>
<dl class="section note"><dt>Note</dt><dd>Linux automatically rounds <code>addr</code> down to the nearest page size.</dd></dl>
<p>On error an ApiError is thrown with one of the following Errno values:</p>
<ul>
<li>Errno::AGAIN: Some or all of the pages in the address range could not be locked.</li>
<li>Errno::INVALID_ARG:<ul>
<li><code>addr + length</code> resulted in an overflow.</li>
<li>invalid <code>flags</code> have been encountered.</li>
</ul>
</li>
<li>Errno::NO_MEMORY:<ul>
<li>Some of the pages in the address range are not mapped in the process.</li>
<li>The lock operation would result in exceeding the maximum number of distinct mappings in the process.</li>
<li>The RLIMIT_MEMLOCK soft limit would be exceeded for non-privileged processes.</li>
</ul>
</li>
<li>Errno::PERMISSION: the caller is not privileged to lock pages (CAP_IPC_LOCK). </li>
</ul>

<p class="definition">Definition at line <a class="el" href="mman_8cxx_source.html#l00053">53</a> of file <a class="el" href="mman_8cxx_source.html">mman.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   53</span>                                                                  {</div>
<div class="line"><span class="lineno">   54</span>        <span class="keywordflow">if</span> (::mlock2(addr, length, flags.raw()) != 0) {</div>
<div class="line"><span class="lineno">   55</span>                cosmos_throw (ApiError(<span class="stringliteral">&quot;mlock2()&quot;</span>));</div>
<div class="line"><span class="lineno">   56</span>        }</div>
<div class="line"><span class="lineno">   57</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a900172670ddddbd51d9ecfa3e3d8bd86" name="a900172670ddddbd51d9ecfa3e3d8bd86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a900172670ddddbd51d9ecfa3e3d8bd86">&#9670;&#160;</a></span>lock_all()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">COSMOS_API void cosmos::mem::lock_all </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classcosmos_1_1BitMask.html">LockAllFlags</a></td>          <td class="paramname"><span class="paramname"><em>flags</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Locks all current and/or future pages in memory. </p>
<p>Depending on the settings in <code>flags</code> this call locks all currently loaded memory pages in memory, as well as mappings possibly created in the future. The locking logic is the same as described in cosmos::mem::lock().</p>
<p>On error an ApiError with one of the following Errno values is thrown:</p>
<ul>
<li>Errno::INVALID_ARG: bad <code>flags</code> encountered, or LockAllFlag::ONFAULT was specified without any of the other flags. </li>
</ul>

<p class="definition">Definition at line <a class="el" href="mman_8cxx_source.html#l00065">65</a> of file <a class="el" href="mman_8cxx_source.html">mman.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   65</span>                                        {</div>
<div class="line"><span class="lineno">   66</span>        <span class="keywordflow">if</span> (::mlockall(flags.raw()) != 0) {</div>
<div class="line"><span class="lineno">   67</span>                cosmos_throw (ApiError(<span class="stringliteral">&quot;mlockall()&quot;</span>));</div>
<div class="line"><span class="lineno">   68</span>        }</div>
<div class="line"><span class="lineno">   69</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a1b418dc9214583c1b7a48fb4d5d3fc5f" name="a1b418dc9214583c1b7a48fb4d5d3fc5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b418dc9214583c1b7a48fb4d5d3fc5f">&#9670;&#160;</a></span>map()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">COSMOS_API void * cosmos::mem::map </td>
          <td>(</td>
          <td class="paramtype">const size_t</td>          <td class="paramname"><span class="paramname"><em>length</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structcosmos_1_1mem_1_1MapSettings.html">MapSettings</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>settings</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Request a memory mapping of the given length using the provided settings. </p>
<p>On error an ApiError is thrown with one of the following Errno values:</p>
<ul>
<li>Errno::ACCESS: the <code>settings.fd</code> is not a regular file, or the OpenMode of the file does not match (lacking read or write permission, depending on <code>settings.type</code> and <code>settings.access</code>.</li>
<li>Errno::AGAIN: the file has been locked, or too much memory has been locked.</li>
<li>Errno::BAD_FD: <code>settings.fd</code> is not a valid file descriptor and <code>settings.flags</code> does not contain MapFlag::ANONYMOUS.</li>
<li>Errno::EXISTS: MapFlag::FIXED_NOREPLACE was set, but the requested memory range already is mapped.</li>
<li>Errno::INVALID_ARG:<ul>
<li><code>settings.offset</code>, <code>settings.addr</code> or <code>length</code> are offending.</li>
<li><code>settings.type</code> is invalid (shouldn't happen if a proper MapType constant is used)</li>
<li><code>length</code> is zero.</li>
</ul>
</li>
<li>Errno::NO_DEVICE: the underlying file system of <code>settings.fd</code> does not support memory mapping.</li>
<li>Errno::NO_MEMORY:<ul>
<li>lack of memory</li>
<li>the process's maximum number of page settings would have been exceeded.</li>
<li>the process's RLIMIT_DATA would have been exceeded</li>
<li><code>settings.addr</code> exceeds the virtual address space of the CPU.</li>
</ul>
</li>
<li>Errno::OVERFLOW: On 32-bit architectures combined with large file extension (64 bit off_t), the resulting number of pages would exceed what an <code>unsigned long</code> can hold.</li>
<li>Errno::PERMISSION:<ul>
<li><code>settings.access</code> has AccessFlag::EXEC set, but the file to be mapped resides on a filesystem mounted no-exec.</li>
<li>The operation was prevent by a file seal, see FileDescriptor::addSeals().</li>
<li>MapFlag::HUGETLB is set, but the caller is not privileged to do so (CAP_IPC_LOCK capability, not a member of sysctl_hugetlb_shm_group). </li>
</ul>
</li>
</ul>

<p class="definition">Definition at line <a class="el" href="mman_8cxx_source.html#l00009">9</a> of file <a class="el" href="mman_8cxx_source.html">mman.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">    9</span>                                                            {</div>
<div class="line"><span class="lineno">   10</span>        <span class="comment">// type is non-bitmask value that is added to the actual system call flags.</span></div>
<div class="line"><span class="lineno">   11</span>        <span class="comment">// for type safety we use two separate types in the API.</span></div>
<div class="line"><span class="lineno">   12</span>        <span class="keyword">const</span> <span class="keyword">auto</span> flags = settings.flags.raw() | to_integral(settings.type);</div>
<div class="line"><span class="lineno">   13</span> </div>
<div class="line"><span class="lineno">   14</span>        <span class="keyword">auto</span> addr = ::mmap(</div>
<div class="line"><span class="lineno">   15</span>                        settings.addr, length, settings.access.raw(),</div>
<div class="line"><span class="lineno">   16</span>                        flags, to_integral(settings.fd.raw()), settings.offset);</div>
<div class="line"><span class="lineno">   17</span> </div>
<div class="line"><span class="lineno">   18</span>        <span class="keywordflow">if</span> (addr == MAP_FAILED) {</div>
<div class="line"><span class="lineno">   19</span>                cosmos_throw (ApiError(<span class="stringliteral">&quot;mmap()&quot;</span>));</div>
<div class="line"><span class="lineno">   20</span>        }</div>
<div class="line"><span class="lineno">   21</span> </div>
<div class="line"><span class="lineno">   22</span>        <span class="keywordflow">return</span> addr;</div>
<div class="line"><span class="lineno">   23</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a0cc96642ce821f99bee6058d022c9535" name="a0cc96642ce821f99bee6058d022c9535"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0cc96642ce821f99bee6058d022c9535">&#9670;&#160;</a></span>protect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">COSMOS_API void cosmos::mem::protect </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>addr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t</td>          <td class="paramname"><span class="paramname"><em>length</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="#acf403316d31acb150c40ad12bda0131c">AccessFlags</a></td>          <td class="paramname"><span class="paramname"><em>flags</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="#a0df684c757700c22e85d3f3973483b6f">ProtectFlags</a></td>          <td class="paramname"><span class="paramname"><em>extra</em></span><span class="paramdefsep"> = </span><span class="paramdefval">{}</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Change memory protection settings of an existing mapping. </p>
<p>Failure to change the memory protection causes an ApiError to be thrown, with one of the following Errno values:</p>
<ul>
<li>Errno::ACCESS: The specified access is not possible for the given mapping. A situation for this can be when write access is requested, but the underlying file has OpenMode::READ_ONLY.</li>
<li>Errno::INVALID_ARG:<ul>
<li><code>addr</code> is not a valid pointer or not page aligned</li>
<li><code>extra</code> has both ProtectFlag::GROWSUP and ProtectFlag::GROWSDOWN set.</li>
<li>Bad <code>flags</code> encountered.</li>
<li>AccessFlag::SAO was requested, but the hardware does not support it (only on PowerPC).</li>
</ul>
</li>
<li>Errno::NO_MEMORY:<ul>
<li>internal kernel data structures could not be allocated.</li>
<li>the given address range is in valid or not mapped in the process.</li>
<li>changing the protection of part of larger mapping would result in exceeding the limit of distinct memory mappings allowed for the process. </li>
</ul>
</li>
</ul>

<p class="definition">Definition at line <a class="el" href="mman_8cxx_source.html#l00077">77</a> of file <a class="el" href="mman_8cxx_source.html">mman.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   77</span>                                                                                                 {</div>
<div class="line"><span class="lineno">   78</span> </div>
<div class="line"><span class="lineno">   79</span>        <span class="keyword">const</span> <span class="keyword">auto</span> raw_flags = flags.raw() | extra.raw();</div>
<div class="line"><span class="lineno">   80</span> </div>
<div class="line"><span class="lineno">   81</span>        <span class="keywordflow">if</span> (::mprotect(addr, length, raw_flags) != 0) {</div>
<div class="line"><span class="lineno">   82</span>                cosmos_throw (ApiError(<span class="stringliteral">&quot;mprotect()&quot;</span>));</div>
<div class="line"><span class="lineno">   83</span>        }</div>
<div class="line"><span class="lineno">   84</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="af78f7b26d8eb87a4f9b8fd131f8c8407" name="af78f7b26d8eb87a4f9b8fd131f8c8407"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af78f7b26d8eb87a4f9b8fd131f8c8407">&#9670;&#160;</a></span>remap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">COSMOS_API void * cosmos::mem::remap </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>old_addr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t</td>          <td class="paramname"><span class="paramname"><em>old_size</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t</td>          <td class="paramname"><span class="paramname"><em>new_size</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classcosmos_1_1BitMask.html">RemapFlags</a></td>          <td class="paramname"><span class="paramname"><em>flags</em></span><span class="paramdefsep"> = </span><span class="paramdefval">{}</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::optional&lt; void * &gt;</td>          <td class="paramname"><span class="paramname"><em>new_addr</em></span><span class="paramdefsep"> = </span><span class="paramdefval">{}</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Expand or shrink an existing memory mapping. </p>
<p><code>old_addr</code> needs to be page aligned. If <code>old_size</code> is zero, and <code>old_addr</code> refers to a memory mapping of MapType::SHARED, then this call will create a new mapping of the same pages. <code>new_addr</code> behaves similar as the <code>addr</code> argument in mem::map(), depending on the RemapFlag::FIXED flag.</p>
<p>If it is not possible to change the size of the mapping, then an error is thrown, except if RemapFlag::MAYMOVE is specified, in which case a new address may be returned for the mapping.</p>
<p>Resizing or moving a mapping that is currently locked will cause the new mapping also to be locked.</p>
<p>Failure to change the mapping will cause an ApiError to be thrown with one of the following Errno values:</p>
<ul>
<li>Errno::AGAIN: The memory mapping is locked, and the changed introduced by the call would have exceeded the <code>RLIMIT_MEMLOCK</code> resource limit.</li>
<li>Errno::FAULT: The range of the [<code>old_addr</code>, <code>old_addr + old_size</code>] is not consisting of all valid addresses for the calling process. This can also happen if all addresses are valid, but mixed types of memory mappings are found in this range.</li>
<li>Errno::INVALID_ARG:<ul>
<li><code>old_addr</code> is not page aligned.</li>
<li>bad <code>flags</code> have been specified.</li>
<li><code>new_size</code> was zero.</li>
<li><code>new_size</code> or <code>new_addr</code> are invalid.</li>
<li>the range [<code>new_addr</code>, <code>new_addr</code> + <code>new_size</code>] overlap with the range of [<code>old_addr</code>, <code>old_addr</code> + <code>old_size</code>].</li>
<li>RemapFlag::FIXED or RemapFlag::DONTUNMAP was specified in <code>flags</code> without RemapFlag::MAYMOVE being set as well.</li>
<li>RemapFlag::DONTUNMAP was specified in <code>flags</code>, but one or more pages in the old range are not private-anonymous.</li>
<li>RemapFlag::DONTUNMAP was specified in <code>flags</code>, but <code>new_size</code> is not equal to <code>old_size</code>.</li>
<li><code>old_size</code> is zero, but <code>old_addr</code> does not refer to a mapping of MapType::SHARED.</li>
<li><code>old_size</code> is zero, but RemapFlag::MAYMOVE is not set in <code>flags</code>.</li>
</ul>
</li>
<li>Errno::NO_MEMORY:<ul>
<li>There is not enough virtual memory available to extend the mapping.</li>
<li>The mapping cannot be extended at the given address and RemapFlag::MAYMOVE is not set in <code>flags</code>.</li>
<li>RemapFlag::DONTUNMAP is set in <code>flags</code>, which would cause a new mapping to be created that would exceed the available virtual memory, or the maximum number of allowed mappings. </li>
</ul>
</li>
</ul>

<p class="definition">Definition at line <a class="el" href="mman_8cxx_source.html#l00037">37</a> of file <a class="el" href="mman_8cxx_source.html">mman.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   37</span>                                                                                                                               {</div>
<div class="line"><span class="lineno">   38</span>        <span class="keywordflow">if</span> (flags[RemapFlag::FIXED] &amp;&amp; !new_addr) {</div>
<div class="line"><span class="lineno">   39</span>                cosmos_throw (UsageError(<span class="stringliteral">&quot;missing new_addr argument along with FIXED&quot;</span>));</div>
<div class="line"><span class="lineno">   40</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!flags[RemapFlag::FIXED] &amp;&amp; new_addr) {</div>
<div class="line"><span class="lineno">   41</span>                cosmos_throw (UsageError(<span class="stringliteral">&quot;unexpected new_addr argument without FIXED&quot;</span>));</div>
<div class="line"><span class="lineno">   42</span>        }</div>
<div class="line"><span class="lineno">   43</span> </div>
<div class="line"><span class="lineno">   44</span>        <span class="keyword">auto</span> ret = ::mremap(old_addr, old_size, new_size, flags.raw(), new_addr ? *new_addr : MAP_FAILED);</div>
<div class="line"><span class="lineno">   45</span> </div>
<div class="line"><span class="lineno">   46</span>        <span class="keywordflow">if</span> (ret == MAP_FAILED) {</div>
<div class="line"><span class="lineno">   47</span>                cosmos_throw (ApiError(<span class="stringliteral">&quot;mremap()&quot;</span>));</div>
<div class="line"><span class="lineno">   48</span>        }</div>
<div class="line"><span class="lineno">   49</span> </div>
<div class="line"><span class="lineno">   50</span>        <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">   51</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2bb115fab3386db7db714ea4df163b8c" name="a2bb115fab3386db7db714ea4df163b8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bb115fab3386db7db714ea4df163b8c">&#9670;&#160;</a></span>sync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">COSMOS_API void cosmos::mem::sync </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>addr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t</td>          <td class="paramname"><span class="paramname"><em>length</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classcosmos_1_1BitMask.html">SyncFlags</a></td>          <td class="paramname"><span class="paramname"><em>flags</em></span><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="classcosmos_1_1BitMask.html">SyncFlags</a>{<a class="el" href="#a95494c109bf8f696d54d3b37915b8ac8a274ccef15a21e829d03293a6fd1974f3">SyncFlag::SYNC</a>}</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Synchronize changes in a memory mapping with the file backing it. </p>
<p>When writing changes to a memory mapping, then it is undefined when these changes will actually be written back to the file backing the mapping. Only after unmapping, the changes are guaranteed to be written back.</p>
<p>Using this call, changes can be written back explicitly.</p>
<p>On error an ApiError with one of the following Errno values is thrown:</p>
<ul>
<li>Errno::BUSY: SyncFlag::INVALIDATE is set in <code>flags</code>, but a memory lock exists for the specified address range.</li>
<li>Errno::INVALID_ARG: <code>addr</code> is not on a page boundary, or bad values have been found in <code>flags</code>, or both SyncFlag::SYNC and SyncFlag::ASYNC have been encountered.</li>
<li>Errno::NO_MEMORY: The indicated memory range, or a part of it, is not mapped. </li>
</ul>

<p class="definition">Definition at line <a class="el" href="mman_8cxx_source.html#l00031">31</a> of file <a class="el" href="mman_8cxx_source.html">mman.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   31</span>                                                                  {</div>
<div class="line"><span class="lineno">   32</span>        <span class="keywordflow">if</span> (::msync(addr, length, flags.raw()) != 0) {</div>
<div class="line"><span class="lineno">   33</span>                cosmos_throw (ApiError(<span class="stringliteral">&quot;msync()&quot;</span>));</div>
<div class="line"><span class="lineno">   34</span>        }</div>
<div class="line"><span class="lineno">   35</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a71e5c89edea99042c3c05e46a654f94e" name="a71e5c89edea99042c3c05e46a654f94e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71e5c89edea99042c3c05e46a654f94e">&#9670;&#160;</a></span>unlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">COSMOS_API void cosmos::mem::unlock </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>addr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t</td>          <td class="paramname"><span class="paramname"><em>length</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unlock previously locked pages. </p>
<p>After successful return from this call the affected address range can be swapped out by the kernel again.</p>
<p>On error an ApiError is thrown with one of the following Errno values:</p>
<p>Errno::INVALID_ARG, Errno::AGAIN, Errno::NO_MEMORY or Errno::PERMISSION, as documented in cosmos::mem::lock(). </p>

<p class="definition">Definition at line <a class="el" href="mman_8cxx_source.html#l00059">59</a> of file <a class="el" href="mman_8cxx_source.html">mman.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   59</span>                                             {</div>
<div class="line"><span class="lineno">   60</span>        <span class="keywordflow">if</span> (::munlock(addr, length) != 0) {</div>
<div class="line"><span class="lineno">   61</span>                cosmos_throw (ApiError(<span class="stringliteral">&quot;munlock()&quot;</span>));</div>
<div class="line"><span class="lineno">   62</span>        }</div>
<div class="line"><span class="lineno">   63</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="abc546245d3707dd5cc17593ffe394cc2" name="abc546245d3707dd5cc17593ffe394cc2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc546245d3707dd5cc17593ffe394cc2">&#9670;&#160;</a></span>unlock_all()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">COSMOS_API void cosmos::mem::unlock_all </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unlock all current process memory pages.. </p>
<p>This is the inverse operation of lockall(), remove memory locking from all currently loaded pages. </p>

<p class="definition">Definition at line <a class="el" href="mman_8cxx_source.html#l00071">71</a> of file <a class="el" href="mman_8cxx_source.html">mman.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   71</span>                  {</div>
<div class="line"><span class="lineno">   72</span>        <span class="keywordflow">if</span> (::munlockall() != 0) {</div>
<div class="line"><span class="lineno">   73</span>                cosmos_throw (ApiError(<span class="stringliteral">&quot;munlockall()&quot;</span>));</div>
<div class="line"><span class="lineno">   74</span>        }</div>
<div class="line"><span class="lineno">   75</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa7e71a590240adbef4f50444f958463e" name="aa7e71a590240adbef4f50444f958463e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7e71a590240adbef4f50444f958463e">&#9670;&#160;</a></span>unmap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">COSMOS_API void cosmos::mem::unmap </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>addr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t</td>          <td class="paramname"><span class="paramname"><em>length</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unmap an existing mapping at the given address and of the given length. </p>
<p>As with mapping memory, unmapping memory can also cause an ApiError to be thrown, with one of the following Errno values:</p>
<ul>
<li>Errno::INVALID_ARG: <code>addr</code> or <code>length</code> are offending</li>
<li>Errno::NO_MEMORY: unmapping part of a larger mapping would cause the number of individual mappings for the process to be exceeded. </li>
</ul>

<p class="definition">Definition at line <a class="el" href="mman_8cxx_source.html#l00025">25</a> of file <a class="el" href="mman_8cxx_source.html">mman.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   25</span>                                            {</div>
<div class="line"><span class="lineno">   26</span>        <span class="keywordflow">if</span> (::munmap(addr, length) != 0) {</div>
<div class="line"><span class="lineno">   27</span>                cosmos_throw (ApiError(<span class="stringliteral">&quot;munmap()&quot;</span>));</div>
<div class="line"><span class="lineno">   28</span>        }</div>
<div class="line"><span class="lineno">   29</span>}</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_30ecb8352961dc4a9e0e79283421d739.html">proc</a></li><li class="navelem"><a class="el" href="mman_8hxx.html">mman.hxx</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
